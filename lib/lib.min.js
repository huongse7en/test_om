!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(w,t){"use strict";function m(t){return null!=t&&t===t.window}var e=[],C=w.document,i=Object.getPrototypeOf,o=e.slice,g=e.concat,u=e.push,r=e.indexOf,n={},a=n.toString,v=n.hasOwnProperty,s=v.toString,l=s.call(Object),y={},b=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},c={type:!0,src:!0,noModule:!0};function _(t,e,n){var i,r=(e=e||C).createElement("script");if(r.text=t,n)for(i in c)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function T(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[a.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(t){var e=!!t&&"length"in t&&t.length,n=T(t);return!b(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}E.fn=E.prototype={jquery:"3.3.1",constructor:E,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(n){return this.pushStack(E.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:e.sort,splice:e.splice},E.extend=E.fn.extend=function(){var t,e,n,i,r,a,s=arguments[0]||{},o=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[o]||{},o++),"object"==typeof s||b(s)||(s={}),o===u&&(s=this,o--);o<u;o++)if(null!=(t=arguments[o]))for(e in t)n=s[e],s!==(i=t[e])&&(l&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(a=r?(r=!1,n&&Array.isArray(n)?n:[]):n&&E.isPlainObject(n)?n:{},s[e]=E.extend(l,a,i)):void 0!==i&&(s[e]=i));return s},E.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==a.call(t)||(e=i(t))&&("function"!=typeof(n=v.call(e,"constructor")&&e.constructor)||s.call(n)!==l))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){_(t)},each:function(t,e){var n,i=0;if(d(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(h,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(d(Object(t))?E.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:r.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,s=!n;r<a;r++)!e(t[r],r)!=s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,s=[];if(d(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&s.push(r);return g.apply([],s)},guid:1,support:y}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=e[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var f=function(n){function h(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function r(){S()}var t,f,_,a,s,p,d,m,T,u,l,S,w,o,C,g,c,v,y,E="sizzle"+ +new Date,b=n.document,k=0,i=0,A=st(),x=st(),P=st(),O=function(t,e){return t===e&&(l=!0),0},I={}.hasOwnProperty,e=[],$=e.pop,M=e.push,D=e.push,L=e.slice,U=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+B+"*("+N+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+B+"*\\]",j=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",F=new RegExp(B+"+","g"),G=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),V=new RegExp("^"+B+"*,"+B+"*"),q=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),z=new RegExp(j),X=new RegExp("^"+N+"$"),K={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{D.apply(e=L.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(n){D={apply:e.length?function(t,e){M.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,n,i){var r,a,s,o,u,l,c,h=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:b)!==w&&S(e),e=e||w,C)){if(11!==d&&(u=Z.exec(t)))if(r=u[1]){if(9===d){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&y(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return D.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&f.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(r)),n}if(f.qsa&&!P[t+" "]&&(!g||!g.test(t))){if(1!==d)h=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((o=e.getAttribute("id"))?o=o.replace(nt,it):e.setAttribute("id",o=E),a=(l=p(t)).length;a--;)l[a]="#"+o+" "+vt(l[a]);c=l.join(","),h=tt.test(t)&&mt(e.parentNode)||e}if(c)try{return D.apply(n,h.querySelectorAll(c)),n}catch(t){}finally{o===E&&e.removeAttribute("id")}}}return m(t.replace(G,"$1"),e,n,i)}function st(){var i=[];return function t(e,n){return i.push(e+" ")>_.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function ot(t){return t[E]=!0,t}function ut(t){var e=w.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function dt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ft(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&rt(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pt(s){return ot(function(a){return a=+a,ot(function(t,e){for(var n,i=s([],t.length,a),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in f=at.support={},s=at.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},S=at.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:b;return i!==w&&9===i.nodeType&&i.documentElement&&(o=(w=i).documentElement,C=!s(w),b!==w&&(n=w.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",r,!1):n.attachEvent&&n.attachEvent("onunload",r)),f.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=ut(function(t){return t.appendChild(w.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=J.test(w.getElementsByClassName),f.getById=ut(function(t){return o.appendChild(t).id=E,!w.getElementsByName||!w.getElementsByName(E).length}),f.getById?(_.filter.ID=function(t){var e=t.replace(et,h);return function(t){return t.getAttribute("id")===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&C){var n=e.getElementById(t);return n?[n]:[]}}):(_.filter.ID=function(t){var n=t.replace(et,h);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&C){var n,i,r,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(r=e.getElementsByName(t),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),_.find.TAG=f.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):f.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"!==t)return a;for(;n=a[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=f.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&C)return e.getElementsByClassName(t)},c=[],g=[],(f.qsa=J.test(w.querySelectorAll))&&(ut(function(t){o.appendChild(t).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+E+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+E+"+*").length||g.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=w.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),o.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(f.matchesSelector=J.test(v=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ut(function(t){f.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),c.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),c=c.length&&new RegExp(c.join("|")),e=J.test(o.compareDocumentPosition),y=e||J.test(o.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return l=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===n?t===w||t.ownerDocument===b&&y(b,t)?-1:e===w||e.ownerDocument===b&&y(b,e)?1:u?U(u,t)-U(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return l=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,s=[t],o=[e];if(!r||!a)return t===w?-1:e===w?1:r?-1:a?1:u?U(u,t)-U(u,e):0;if(r===a)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)o.unshift(n);for(;s[i]===o[i];)i++;return i?ct(s[i],o[i]):s[i]===b?-1:o[i]===b?1:0}),w},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==w&&S(t),e=e.replace(W,"='$1']"),f.matchesSelector&&C&&!P[e+" "]&&(!c||!c.test(e))&&(!g||!g.test(e)))try{var n=v.call(t,e);if(n||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<at(e,w,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!==w&&S(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==w&&S(t);var n=_.attrHandle[e.toLowerCase()],i=n&&I.call(_.attrHandle,e.toLowerCase())?n(t,e,!C):void 0;return void 0!==i?i:f.attributes||!C?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},at.escape=function(t){return(t+"").replace(nt,it)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],i=0,r=0;if(l=!f.detectDuplicates,u=!f.sortStable&&t.slice(0),t.sort(O),l){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return u=null,t},a=at.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=a(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=a(e);return n},(_=at.selectors={cacheLength:50,createPseudo:ot,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,h),t[3]=(t[3]||t[4]||t[5]||"").replace(et,h),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=p(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,h).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=A[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&A(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=at.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(F," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,m,g){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,a,s,o,u,l=v!=y?"nextSibling":"previousSibling",c=t.parentNode,h=b&&t.nodeName.toLowerCase(),d=!n&&!b,f=!1;if(c){if(v){for(;l;){for(s=t;s=s[l];)if(b?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;u=l="only"===p&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&d){for(f=(o=(i=(r=(a=(s=c)[E]||(s[E]={}))[s.uniqueID]||(a[s.uniqueID]={}))[p]||[])[0]===k&&i[1])&&i[2],s=o&&c.childNodes[o];s=++o&&s&&s[l]||(f=o=0)||u.pop();)if(1===s.nodeType&&++f&&s===t){r[p]=[k,o,f];break}}else if(d&&(f=o=(i=(r=(a=(s=t)[E]||(s[E]={}))[s.uniqueID]||(a[s.uniqueID]={}))[p]||[])[0]===k&&i[1]),!1===f)for(;(s=++o&&s&&s[l]||(f=o=0)||u.pop())&&((b?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((r=(a=s[E]||(s[E]={}))[s.uniqueID]||(a[s.uniqueID]={}))[p]=[k,f]),s!==t)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(t,a){var e,s=_.pseudos[t]||_.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[E]?s(a):1<s.length?(e=[t,t,"",a],_.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,e){for(var n,i=s(t,a),r=i.length;r--;)t[n=U(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ot(function(t){var i=[],r=[],o=d(t.replace(G,"$1"));return o[E]?ot(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,o(i,null,n,r),i[0]=null,!r.pop()}}),has:ot(function(e){return function(t){return 0<at(e,t).length}}),contains:ot(function(e){return e=e.replace(et,h),function(t){return-1<(t.textContent||t.innerText||a(t)).indexOf(e)}}),lang:ot(function(n){return X.test(n||"")||at.error("unsupported lang: "+n),n=n.replace(et,h).toLowerCase(),function(t){var e;do{if(e=C?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return Y.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:pt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=dt(t);function gt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(o,t,e){var u=t.dir,l=t.next,c=l||u,h=e&&"parentNode"===c,d=i++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||h)return o(t,e,n);return!1}:function(t,e,n){var i,r,a,s=[k,d];if(n){for(;t=t[u];)if((1===t.nodeType||h)&&o(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||h)if(r=(a=t[E]||(t[E]={}))[t.uniqueID]||(a[t.uniqueID]={}),l&&l===t.nodeName.toLowerCase())t=t[u]||t;else{if((i=r[c])&&i[0]===k&&i[1]===d)return s[2]=i[2];if((r[c]=s)[2]=o(t,e,n))return!0}return!1}}function bt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function _t(t,e,n,i,r){for(var a,s=[],o=0,u=t.length,l=null!=e;o<u;o++)(a=t[o])&&(n&&!n(a,i,r)||(s.push(a),l&&e.push(o)));return s}function Tt(f,p,m,g,v,t){return g&&!g[E]&&(g=Tt(g)),v&&!v[E]&&(v=Tt(v,t)),ot(function(t,e,n,i){var r,a,s,o=[],u=[],l=e.length,c=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?c:_t(c,o,f,n,i),d=m?v||(t?f:l||g)?[]:e:h;if(m&&m(h,d,n,i),g)for(r=_t(d,u),g(r,[],n,i),a=r.length;a--;)(s=r[a])&&(d[u[a]]=!(h[u[a]]=s));if(t){if(v||f){if(v){for(r=[],a=d.length;a--;)(s=d[a])&&r.push(h[a]=s);v(null,d=[],r,i)}for(a=d.length;a--;)(s=d[a])&&-1<(r=v?U(t,s):o[a])&&(t[r]=!(e[r]=s))}}else d=_t(d===e?d.splice(l,d.length):d),v?v(null,e,d,i):D.apply(e,d)})}function St(t){for(var r,e,n,i=t.length,a=_.relative[t[0].type],s=a||_.relative[" "],o=a?1:0,u=yt(function(t){return t===r},s,!0),l=yt(function(t){return-1<U(r,t)},s,!0),c=[function(t,e,n){var i=!a&&(n||e!==T)||((r=e).nodeType?u:l)(t,e,n);return r=null,i}];o<i;o++)if(e=_.relative[t[o].type])c=[yt(bt(c),e)];else{if((e=_.filter[t[o].type].apply(null,t[o].matches))[E]){for(n=++o;n<i&&!_.relative[t[n].type];n++);return Tt(1<o&&bt(c),1<o&&vt(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(G,"$1"),e,o<n&&St(t.slice(o,n)),n<i&&St(t=t.slice(n)),n<i&&vt(t))}c.push(e)}return bt(c)}function wt(g,v){function t(t,e,n,i,r){var a,s,o,u=0,l="0",c=t&&[],h=[],d=T,f=t||b&&_.find.TAG("*",r),p=k+=null==d?1:Math.random()||.1,m=f.length;for(r&&(T=e===w||e||r);l!==m&&null!=(a=f[l]);l++){if(b&&a){for(s=0,e||a.ownerDocument===w||(S(a),n=!C);o=g[s++];)if(o(a,e||w,n)){i.push(a);break}r&&(k=p)}y&&((a=!o&&a)&&u--,t&&c.push(a))}if(u+=l,y&&l!==u){for(s=0;o=v[s++];)o(c,h,e,n);if(t){if(0<u)for(;l--;)c[l]||h[l]||(h[l]=$.call(i));h=_t(h)}D.apply(i,h),r&&!t&&0<h.length&&1<u+v.length&&at.uniqueSort(i)}return r&&(k=p,T=d),c}var y=0<v.length,b=0<g.length;return y?ot(t):t}return gt.prototype=_.filters=_.pseudos,_.setFilters=new gt,p=at.tokenize=function(t,e){var n,i,r,a,s,o,u,l=x[t+" "];if(l)return e?0:l.slice(0);for(s=t,o=[],u=_.preFilter;s;){for(a in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),o.push(r=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(G," ")}),s=s.slice(n.length)),_.filter)!(i=K[a].exec(s))||u[a]&&!(i=u[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?at.error(t):x(t,o).slice(0)},d=at.compile=function(t,e){var n,i=[],r=[],a=P[t+" "];if(!a){for(n=(e=e||p(t)).length;n--;)(a=St(e[n]))[E]?i.push(a):r.push(a);(a=P(t,wt(r,i))).selector=t}return a},m=at.select=function(t,e,n,i){var r,a,s,o,u,l="function"==typeof t&&t,c=!i&&p(t=l.selector||t);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(s=a[0]).type&&9===e.nodeType&&C&&_.relative[a[1].type]){if(!(e=(_.find.ID(s.matches[0].replace(et,h),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=K.needsContext.test(t)?0:a.length;r--&&(s=a[r],!_.relative[o=s.type]);)if((u=_.find[o])&&(i=u(s.matches[0].replace(et,h),tt.test(a[0].type)&&mt(e.parentNode)||e))){if(a.splice(r,1),!(t=i.length&&vt(a)))return D.apply(n,i),n;break}}return(l||d(t,c))(i,e,!C,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},f.sortStable=E.split("").sort(O).join("")===E,f.detectDuplicates=!!l,S(),f.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(w.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),at}(w);E.find=f,E.expr=f.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=f.uniqueSort,E.text=f.getText,E.isXMLDoc=f.isXML,E.contains=f.contains,E.escapeSelector=f.escape;function p(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(n))break;i.push(t)}return i}function S(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var k=E.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,n,i){return b(n)?E.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?E.grep(t,function(t){return t===n!==i}):"string"!=typeof n?E.grep(t,function(t){return-1<r.call(n,t)!==i}):E.filter(n,t,i)}E.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?E.find.matchesSelector(i,t)?[i]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<i;e++)if(E.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)E.find(t,r[e],n);return 1<i?E.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&k.test(t)?E(t):t||[],!1).length}});var O,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||O,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:I.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:C,!0)),x.test(i[1])&&E.isPlainObject(e))for(i in e)b(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=C.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=E.fn,O=E(C);var $=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,a=[],s="string"!=typeof t&&E(t);if(!k.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&E.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?E.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?r.call(E(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return p(t,"parentNode")},parentsUntil:function(t,e,n){return p(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return p(t,"nextSibling")},prevAll:function(t){return p(t,"previousSibling")},nextUntil:function(t,e,n){return p(t,"nextSibling",n)},prevUntil:function(t,e,n){return p(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(i,r){E.fn[i]=function(t,e){var n=E.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=E.filter(e,n)),1<this.length&&(M[i]||E.uniqueSort(n),$.test(i)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function U(t){return t}function R(t){throw t}function B(t,e,n,i){var r;try{t&&b(r=t.promise)?r.call(t).done(e).fail(n):t&&b(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(i){var t,n;i="string"==typeof i?(t=i,n={},E.each(t.match(L)||[],function(t,e){n[e]=!0}),n):E.extend({},i);function r(){for(o=o||i.once,s=a=!0;l.length;c=-1)for(e=l.shift();++c<u.length;)!1===u[c].apply(e[0],e[1])&&i.stopOnFalse&&(c=u.length,e=!1);i.memory||(e=!1),a=!1,o&&(u=e?[]:"")}var a,e,s,o,u=[],l=[],c=-1,h={add:function(){return u&&(e&&!a&&(c=u.length-1,l.push(e)),function n(t){E.each(t,function(t,e){b(e)?i.unique&&h.has(e)||u.push(e):e&&e.length&&"string"!==T(e)&&n(e)})}(arguments),e&&!a&&r()),this},remove:function(){return E.each(arguments,function(t,e){for(var n;-1<(n=E.inArray(e,u,n));)u.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<E.inArray(t,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return o=l=[],u=e="",this},disabled:function(){return!u},lock:function(){return o=l=[],e||a||(u=e=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),a||r()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},E.extend({Deferred:function(t){var a=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var r=arguments;return E.Deferred(function(i){E.each(a,function(t,e){var n=b(r[e[4]])&&r[e[4]];o[e[1]](function(){var t=n&&n.apply(this,arguments);t&&b(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),r=null}).promise()},then:function(e,n,i){var u=0;function l(r,a,s,o){return function(){function t(){var t,e;if(!(r<u)){if((t=s.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,b(e)?o?e.call(t,l(u,a,U,o),l(u,a,R,o)):(u++,e.call(t,l(u,a,U,o),l(u,a,R,o),l(u,a,U,a.notifyWith))):(s!==U&&(n=void 0,i=[t]),(o||a.resolveWith)(n,i))}}var n=this,i=arguments,e=o?t:function(){try{t()}catch(t){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(t,e.stackTrace),u<=r+1&&(s!==R&&(n=void 0,i=[t]),a.rejectWith(n,i))}};r?e():(E.Deferred.getStackHook&&(e.stackTrace=E.Deferred.getStackHook()),w.setTimeout(e))}}return E.Deferred(function(t){a[0][3].add(l(0,t,b(i)?i:U,t.notifyWith)),a[1][3].add(l(0,t,b(e)?e:U)),a[2][3].add(l(0,t,b(n)?n:R))}).promise()},promise:function(t){return null!=t?E.extend(t,s):s}},o={};return E.each(a,function(t,e){var n=e[2],i=e[5];s[e[1]]=n.add,i&&n.add(function(){r=i},a[3-t][2].disable,a[3-t][3].disable,a[0][2].lock,a[0][3].lock),n.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=n.fireWith}),s.promise(o),t&&t.call(o,o),o},when:function(t){function e(e){return function(t){r[e]=this,a[e]=1<arguments.length?o.call(arguments):t,--n||s.resolveWith(r,a)}}var n=arguments.length,i=n,r=Array(i),a=o.call(arguments),s=E.Deferred();if(n<=1&&(B(t,s.done(e(i)).resolve,s.reject,!n),"pending"===s.state()||b(a[i]&&a[i].then)))return s.then();for(;i--;)B(a[i],e(i),s.reject);return s.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){w.console&&w.console.warn&&t&&N.test(t.name)&&w.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){w.setTimeout(function(){throw t})};var H=E.Deferred();function j(){C.removeEventListener("DOMContentLoaded",j),w.removeEventListener("load",j),E.ready()}E.fn.ready=function(t){return H.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||((E.isReady=!0)!==t&&0<--E.readyWait||H.resolveWith(C,[E]))}}),E.ready.then=H.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?w.setTimeout(E.ready):(C.addEventListener("DOMContentLoaded",j),w.addEventListener("load",j));var F=function(t,e,n,i,r,a,s){var o=0,u=t.length,l=null==n;if("object"===T(n))for(o in r=!0,n)F(t,e,o,n[o],!0,a,s);else if(void 0!==i&&(r=!0,b(i)||(s=!0),l&&(e=s?(e.call(t,i),null):(l=e,function(t,e,n){return l.call(E(t),n)})),e))for(;o<u;o++)e(t[o],n,s?i:i.call(t[o],o,e(t[o],n)));return r?t:l?e.call(t):u?e(t[0],n):a},G=/^-ms-/,V=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function W(t){return t.replace(G,"ms-").replace(V,q)}function z(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function X(){this.expando=E.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[W(e)]=n;else for(i in e)r[W(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][W(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(W):(e=W(e))in i?[e]:e.match(L)||[]).length;for(;n--;)delete i[e[n]]}void 0!==e&&!E.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var K=new X,Y=new X,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(t,e,n){var i,r;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Q.test(r)?JSON.parse(r):r)}catch(t){}Y.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return Y.hasData(t)||K.hasData(t)},data:function(t,e,n){return Y.access(t,e,n)},removeData:function(t,e){Y.remove(t,e)},_data:function(t,e,n){return K.access(t,e,n)},_removeData:function(t,e){K.remove(t,e)}}),E.fn.extend({data:function(n,t){var e,i,r,a=this[0],s=a&&a.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Y.set(this,n)}):F(this,function(t){var e;if(a&&void 0===t){if(void 0!==(e=Y.get(a,n)))return e;if(void 0!==(e=Z(a,n)))return e}else this.each(function(){Y.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=Y.get(a),1===a.nodeType&&!K.get(a,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(i=s[e].name).indexOf("data-")&&(i=W(i.slice(5)),Z(a,i,r[i]));K.set(a,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Y.remove(this,t)})}}),E.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=K.get(t,e),n&&(!i||Array.isArray(n)?i=K.access(t,e,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),i=n.length,r=n.shift(),a=E._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){E.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return K.get(t,n)||K.access(t,n,{empty:E.Callbacks("once memory").add(function(){K.remove(t,[e+"queue",n])})})}}),E.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?E.queue(this[0],e):void 0===n?this:this.each(function(){var t=E.queue(this,e,n);E._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&E.dequeue(this,e)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||a.resolveWith(s,[s])}var i,r=1,a=E.Deferred(),s=this,o=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=K.get(s[o],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),a.promise(e)}});function tt(t,e,n,i){var r,a,s={};for(a in e)s[a]=t.style[a],t.style[a]=e[a];for(a in r=n.apply(t,i||[]),e)t.style[a]=s[a];return r}var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],rt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&E.contains(t.ownerDocument,t)&&"none"===E.css(t,"display")};function at(t,e,n,i){var r,a,s=20,o=i?function(){return i.cur()}:function(){return E.css(t,e,"")},u=o(),l=n&&n[3]||(E.cssNumber[e]?"":"px"),c=(E.cssNumber[e]||"px"!==l&&+u)&&nt.exec(E.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)E.style(t,e,c+l),(1-a)*(1-(a=o()/u||.5))<=0&&(s=0),c/=a;c*=2,E.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var st={};function ot(t,e){for(var n,i,r=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(r[a]=K.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&rt(i)&&(r[a]=(h=l=u=void 0,l=(o=i).ownerDocument,c=o.nodeName,(h=st[c])||(u=l.body.appendChild(l.createElement(c)),h=E.css(u,"display"),u.parentNode.removeChild(u),"none"===h&&(h="block"),st[c]=h)))):"none"!==n&&(r[a]="none",K.set(i,"display",n)));var o,u,l,c,h;for(a=0;a<s;a++)null!=r[a]&&(t[a].style.display=r[a]);return t}E.fn.extend({show:function(){return ot(this,!0)},hide:function(){return ot(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){rt(this)?E(this).show():E(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ct=/^$|^module$|\/(?:java|ecma)script/i,ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?E.merge([t],n):n}function ft(t,e){for(var n=0,i=t.length;n<i;n++)K.set(t[n],"globalEval",!e||K.get(e[n],"globalEval"))}ht.optgroup=ht.option,ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead,ht.th=ht.td;var pt,mt,gt=/<|&#?\w+;/;function vt(t,e,n,i,r){for(var a,s,o,u,l,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((a=t[f])||0===a)if("object"===T(a))E.merge(d,a.nodeType?[a]:a);else if(gt.test(a)){for(s=s||h.appendChild(e.createElement("div")),o=(lt.exec(a)||["",""])[1].toLowerCase(),u=ht[o]||ht._default,s.innerHTML=u[1]+E.htmlPrefilter(a)+u[2],c=u[0];c--;)s=s.lastChild;E.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(a));for(h.textContent="",f=0;a=d[f++];)if(i&&-1<E.inArray(a,i))r&&r.push(a);else if(l=E.contains(a.ownerDocument,a),s=dt(h.appendChild(a),"script"),l&&ft(s),n)for(c=0;a=s[c++];)ct.test(a.type||"")&&n.push(a);return h}pt=C.createDocumentFragment().appendChild(C.createElement("div")),(mt=C.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),pt.appendChild(mt),y.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue;var yt=C.documentElement,bt=/^key/,_t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function wt(){return!1}function Ct(){try{return C.activeElement}catch(t){}}function Et(t,e,n,i,r,a){var s,o;if("object"==typeof e){for(o in"string"!=typeof n&&(i=i||n,n=void 0),e)Et(t,o,n,i,e[o],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=wt;else if(!r)return t;return 1===a&&(s=r,(r=function(t){return E().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),t.each(function(){E.event.add(this,e,r,i,n)})}E.event={global:{},add:function(e,t,n,i,r){var a,s,o,u,l,c,h,d,f,p,m,g=K.get(e);if(g)for(n.handler&&(n=(a=n).handler,r=a.selector),r&&E.find.matchesSelector(yt,r),n.guid||(n.guid=E.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(L)||[""]).length;l--;)f=m=(o=Tt.exec(t[l])||[])[1],p=(o[2]||"").split(".").sort(),f&&(h=E.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=E.event.special[f]||{},c=E.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:p.join(".")},a),(d=u[f])||((d=u[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),E.event.global[f]=!0)},remove:function(t,e,n,i,r){var a,s,o,u,l,c,h,d,f,p,m,g=K.hasData(t)&&K.get(t);if(g&&(u=g.events)){for(l=(e=(e||"").match(L)||[""]).length;l--;)if(f=m=(o=Tt.exec(e[l])||[])[1],p=(o[2]||"").split(".").sort(),f){for(h=E.event.special[f]||{},d=u[f=(i?h.delegateType:h.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=d.length;a--;)c=d[a],!r&&m!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||E.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)E.event.remove(t,f+e[l],n,i,!0);E.isEmptyObject(u)&&K.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,a,s,o=E.event.fix(t),u=new Array(arguments.length),l=(K.get(this,"events")||{})[o.type]||[],c=E.event.special[o.type]||{};for(u[0]=o,e=1;e<arguments.length;e++)u[e]=arguments[e];if(o.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,o)){for(s=E.event.handlers.call(this,o,l),e=0;(r=s[e++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(a.namespace)||(o.handleObj=a,o.data=a.data,void 0!==(i=((E.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,u))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,o),o.result}},handlers:function(t,e){var n,i,r,a,s,o=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(a=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?-1<E(r,this).index(l):E.find(r,this,null,[l]).length),s[r]&&a.push(i);a.length&&o.push({elem:l,handlers:a})}return l=this,u<e.length&&o.push({elem:l,handlers:e.slice(u)}),o},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:wt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:wt,isPropagationStopped:wt,isImmediatePropagationStopped:wt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&_t.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){E.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||E.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),E.fn.extend({on:function(t,e,n,i){return Et(this,t,e,n,i)},one:function(t,e,n,i){return Et(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,E(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=wt),this.each(function(){E.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,At=/<script|<style|<link/i,xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function $t(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Mt(t,e){var n,i,r,a,s,o,u,l;if(1===e.nodeType){if(K.hasData(t)&&(a=K.access(t),s=K.set(e,a),l=a.events))for(r in delete s.handle,s.events={},l)for(n=0,i=l[r].length;n<i;n++)E.event.add(e,r,l[r][n]);Y.hasData(t)&&(o=Y.access(t),u=E.extend({},o),Y.set(e,u))}}function Dt(n,i,r,a){i=g.apply([],i);var t,e,s,o,u,l,c=0,h=n.length,d=h-1,f=i[0],p=b(f);if(p||1<h&&"string"==typeof f&&!y.checkClone&&xt.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),Dt(e,i,r,a)});if(h&&(e=(t=vt(i,n[0].ownerDocument,!1,n,a)).firstChild,1===t.childNodes.length&&(t=e),e||a)){for(o=(s=E.map(dt(t,"script"),It)).length;c<h;c++)u=t,c!==d&&(u=E.clone(u,!0,!0),o&&E.merge(s,dt(u,"script"))),r.call(n[c],u,c);if(o)for(l=s[s.length-1].ownerDocument,E.map(s,$t),c=0;c<o;c++)u=s[c],ct.test(u.type||"")&&!K.access(u,"globalEval")&&E.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(u.src):_(u.textContent.replace(Pt,""),l,u))}return n}function Lt(t,e,n){for(var i,r=e?E.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||E.cleanData(dt(i)),i.parentNode&&(n&&E.contains(i.ownerDocument,i)&&ft(dt(i,"script")),i.parentNode.removeChild(i));return t}E.extend({htmlPrefilter:function(t){return t.replace(kt,"<$1></$2>")},clone:function(t,e,n){var i,r,a,s,o,u,l,c=t.cloneNode(!0),h=E.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(s=dt(c),i=0,r=(a=dt(t)).length;i<r;i++)o=a[i],u=s[i],"input"===(l=u.nodeName.toLowerCase())&&ut.test(o.type)?u.checked=o.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=o.defaultValue);if(e)if(n)for(a=a||dt(t),s=s||dt(c),i=0,r=a.length;i<r;i++)Mt(a[i],s[i]);else Mt(t,c);return 0<(s=dt(c,"script")).length&&ft(s,!h&&dt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=E.event.special,a=0;void 0!==(n=t[a]);a++)if(z(n)){if(e=n[K.expando]){if(e.events)for(i in e.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,e.handle);n[K.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return F(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Dt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)})},prepend:function(){return Dt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return F(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!At.test(t)&&!ht[(lt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return Dt(this,arguments,function(t){var e=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(dt(this)),e&&e.replaceChild(t,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){E.fn[t]=function(t){for(var e,n=[],i=E(t),r=i.length-1,a=0;a<=r;a++)e=a===r?this:this.clone(!0),E(i[a])[s](e),u.apply(n,e.get());return this.pushStack(n)}});var Ut,Rt,Bt,Nt,Ht,jt,Ft,Gt=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),Vt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=w),e.getComputedStyle(t)},qt=new RegExp(it.join("|"),"i");function Wt(){if(Ft){jt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ft.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(jt).appendChild(Ft);var t=w.getComputedStyle(Ft);Ut="1%"!==t.top,Ht=12===zt(t.marginLeft),Ft.style.right="60%",Nt=36===zt(t.right),Rt=36===zt(t.width),Ft.style.position="absolute",Bt=36===Ft.offsetWidth||"absolute",yt.removeChild(jt),Ft=null}}function zt(t){return Math.round(parseFloat(t))}function Xt(t,e,n){var i,r,a,s,o=t.style;return(n=n||Vt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||E.contains(t.ownerDocument,t)||(s=E.style(t,e)),!y.pixelBoxStyles()&&Gt.test(s)&&qt.test(e)&&(i=o.width,r=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=i,o.minWidth=r,o.maxWidth=a)),void 0!==s?s+"":s}function Kt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}jt=C.createElement("div"),(Ft=C.createElement("div")).style&&(Ft.style.backgroundClip="content-box",Ft.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Ft.style.backgroundClip,E.extend(y,{boxSizingReliable:function(){return Wt(),Rt},pixelBoxStyles:function(){return Wt(),Nt},pixelPosition:function(){return Wt(),Ut},reliableMarginLeft:function(){return Wt(),Ht},scrollboxSize:function(){return Wt(),Bt}}));var Yt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"},te=["Webkit","Moz","ms"],ee=C.createElement("div").style;function ne(t){var e=E.cssProps[t];return e=e||(E.cssProps[t]=function(t){if(t in ee)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=te.length;n--;)if((t=te[n]+e)in ee)return t}(t)||t)}function ie(t,e,n){var i=nt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function re(t,e,n,i,r,a){var s="width"===e?1:0,o=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=E.css(t,n+it[s],!0,r)),i?("content"===n&&(u-=E.css(t,"padding"+it[s],!0,r)),"margin"!==n&&(u-=E.css(t,"border"+it[s]+"Width",!0,r))):(u+=E.css(t,"padding"+it[s],!0,r),"padding"!==n?u+=E.css(t,"border"+it[s]+"Width",!0,r):o+=E.css(t,"border"+it[s]+"Width",!0,r));return!i&&0<=a&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-u-o-.5))),u}function ae(t,e,n){var i=Vt(t),r=Xt(t,e,i),a="border-box"===E.css(t,"boxSizing",!1,i),s=a;if(Gt.test(r)){if(!n)return r;r="auto"}return s=s&&(y.boxSizingReliable()||r===t.style[e]),"auto"!==r&&(parseFloat(r)||"inline"!==E.css(t,"display",!1,i))||(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+re(t,e,n||(a?"border":"content"),s,i,r)+"px"}function se(t,e,n,i,r){return new se.prototype.init(t,e,n,i,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Xt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,s,o=W(e),u=Qt.test(e),l=t.style;if(u||(e=ne(o)),s=E.cssHooks[e]||E.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];"string"==(a=typeof n)&&(r=nt.exec(n))&&r[1]&&(n=at(t,e,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(E.cssNumber[o]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,a,s,o=W(e);return Qt.test(e)||(e=ne(o)),(s=E.cssHooks[e]||E.cssHooks[o])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Xt(t,e,i)),"normal"===r&&e in Zt&&(r=Zt[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),E.each(["height","width"],function(t,o){E.cssHooks[o]={get:function(t,e,n){if(e)return!Yt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ae(t,o,n):tt(t,Jt,function(){return ae(t,o,n)})},set:function(t,e,n){var i,r=Vt(t),a="border-box"===E.css(t,"boxSizing",!1,r),s=n&&re(t,o,n,a,r);return a&&y.scrollboxSize()===r.position&&(s-=Math.ceil(t["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(r[o])-re(t,o,"border",!1,r)-.5)),s&&(i=nt.exec(e))&&"px"!==(i[3]||"px")&&(t.style[o]=e,e=E.css(t,o)),ie(0,e,s)}}}),E.cssHooks.marginLeft=Kt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-tt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(r,a){E.cssHooks[r+a]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+it[e]+a]=i[e]||i[e-2]||i[0];return n}},"margin"!==r&&(E.cssHooks[r+a].set=ie)}),E.fn.extend({css:function(t,e){return F(this,function(t,e,n){var i,r,a={},s=0;if(Array.isArray(e)){for(i=Vt(t),r=e.length;s<r;s++)a[e[s]]=E.css(t,e[s],!1,i);return a}return void 0!==n?E.style(t,e,n):E.css(t,e)},t,e,1<arguments.length)}}),((E.Tween=se).prototype={constructor:se,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(E.cssNumber[n]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,n=se.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):se.propHooks._default.set(this),this}}).init.prototype=se.prototype,(se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[E.cssProps[t.prop]]&&!E.cssHooks[t.prop]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=se.prototype.init,E.fx.step={};var oe,ue,le,ce,he=/^(?:toggle|show|hide)$/,de=/queueHooks$/;function fe(){ue&&(!1===C.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(fe):w.setTimeout(fe,E.fx.interval),E.fx.tick())}function pe(){return w.setTimeout(function(){oe=void 0}),oe=Date.now()}function me(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=it[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ge(t,e,n){for(var i,r=(ve.tweeners[e]||[]).concat(ve.tweeners["*"]),a=0,s=r.length;a<s;a++)if(i=r[a].call(n,e,t))return i}function ve(a,t,e){var n,s,i=0,r=ve.prefilters.length,o=E.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var t=oe||pe(),e=Math.max(0,l.startTime+l.duration-t),n=1-(e/l.duration||0),i=0,r=l.tweens.length;i<r;i++)l.tweens[i].run(n);return o.notifyWith(a,[l,n,e]),n<1&&r?e:(r||o.notifyWith(a,[l,1,0]),o.resolveWith(a,[l]),!1)},l=o.promise({elem:a,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},e),originalProperties:t,originalOptions:e,startTime:oe||pe(),duration:e.duration,tweens:[],createTween:function(t,e){var n=E.Tween(a,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var e=0,n=t?l.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)l.tweens[e].run(1);return t?(o.notifyWith(a,[l,1,0]),o.resolveWith(a,[l,t])):o.rejectWith(a,[l,t]),this}}),c=l.props;for(function(t,e){var n,i,r,a,s;for(n in t)if(r=e[i=W(n)],a=t[n],Array.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(s=E.cssHooks[i])&&"expand"in s)for(n in a=s.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);i<r;i++)if(n=ve.prefilters[i].call(l,a,c,l.opts))return b(n.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return E.map(c,ge,l),b(l.opts.start)&&l.opts.start.call(a,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:a,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(ve,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,nt.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=b(t)?(e=t,["*"]):t.match(L)).length;i<r;i++)n=t[i],ve.tweeners[n]=ve.tweeners[n]||[],ve.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,s,o,u,l,c,h="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&rt(t),g=K.get(t,"fxshow");for(i in n.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],he.test(r)){if(delete e[i],a=a||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||E.style(t,i)}if((u=!E.isEmptyObject(e))||!E.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=K.get(t,"display")),"none"===(c=E.css(t,"display"))&&(l?c=l:(ot([t],!0),l=t.style.display||l,c=E.css(t,"display"),ot([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(t,"float")&&(u||(d.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,f)u||(g?"hidden"in g&&(m=g.hidden):g=K.access(t,"fxshow",{display:l}),a&&(g.hidden=!m),m&&ot([t],!0),d.done(function(){for(i in m||ot([t]),K.remove(t,"fxshow"),f)E.style(t,i,f[i])})),u=ge(m?g[i]:0,i,d),i in g||(g[i]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ve.prefilters.unshift(t):ve.prefilters.push(t)}}),E.speed=function(t,e,n){var i=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||b(t)&&t,duration:t,easing:n&&e||e&&!b(e)&&e};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){b(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(t,e,n,i){return this.filter(rt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){function r(){var t=ve(this,E.extend({},e),s);(a||K.get(this,"finish"))&&t.stop(!0)}var a=E.isEmptyObject(e),s=E.speed(t,n,i);return r.finish=r,a||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(r,t,a){function s(t){var e=t.stop;delete t.stop,e(a)}return"string"!=typeof r&&(a=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=E.timers,i=K.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&de.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(a),t=!1,n.splice(e,1));!t&&a||E.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=K.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=E.timers,a=n?n.length:0;for(e.finish=!0,E.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),E.each(["toggle","show","hide"],function(t,i){var r=E.fn[i];E.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(me(i,!0),t,e,n)}}),E.each({slideDown:me("show"),slideUp:me("hide"),slideToggle:me("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){E.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),oe=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ue||(ue=!0,fe())},E.fx.stop=function(){ue=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(i,t){return i=E.fx&&E.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=w.setTimeout(t,i);e.stop=function(){w.clearTimeout(n)}})},le=C.createElement("input"),ce=C.createElement("select").appendChild(C.createElement("option")),le.type="checkbox",y.checkOn=""!==le.value,y.optSelected=ce.selected,(le=C.createElement("input")).value="t",le.type="radio",y.radioValue="t"===le.value;var ye,be=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return F(this,E.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?E.prop(t,e,n):(1===a&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?ye:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):!(r&&"get"in r&&null!==(i=r.get(t,e)))&&null==(i=E.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(L);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ye={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var s=be[e]||E.find.attr;be[e]=function(t,e,n){var i,r,a=e.toLowerCase();return n||(r=be[a],be[a]=i,i=null!=s(t,e,n)?a:null,be[a]=r),i}});var _e=/^(?:input|select|textarea|button)$/i,Te=/^(?:a|area)$/i;function Se(t){return(t.match(L)||[]).join(" ")}function we(t){return t.getAttribute&&t.getAttribute("class")||""}function Ce(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(L)||[]}E.fn.extend({prop:function(t,e){return F(this,E.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||Te.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(e){var t,n,i,r,a,s,o,u=0;if(b(e))return this.each(function(t){E(this).addClass(e.call(this,t,we(this)))});if((t=Ce(e)).length)for(;n=this[u++];)if(r=we(n),i=1===n.nodeType&&" "+Se(r)+" "){for(s=0;a=t[s++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(o=Se(i))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,i,r,a,s,o,u=0;if(b(e))return this.each(function(t){E(this).removeClass(e.call(this,t,we(this)))});if(!arguments.length)return this.attr("class","");if((t=Ce(e)).length)for(;n=this[u++];)if(r=we(n),i=1===n.nodeType&&" "+Se(r)+" "){for(s=0;a=t[s++];)for(;-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");r!==(o=Se(i))&&n.setAttribute("class",o)}return this},toggleClass:function(r,e){var a=typeof r,s="string"==a||Array.isArray(r);return"boolean"==typeof e&&s?e?this.addClass(r):this.removeClass(r):b(r)?this.each(function(t){E(this).toggleClass(r.call(this,t,we(this),e),e)}):this.each(function(){var t,e,n,i;if(s)for(e=0,n=E(this),i=Ce(r);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==r&&"boolean"!=a||((t=we(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==r&&K.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+Se(we(n))+" ").indexOf(e))return!0;return!1}});var Ee=/\r/g;E.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=b(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,E(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=E.map(e,function(t){return null==t?"":t+""})),(i=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=E.valHooks[e.type]||E.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Ee,""):null==t?"":t:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:Se(E.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,s="select-one"===t.type,o=s?null:[],u=s?a+1:r.length;for(i=a<0?u:s?a:0;i<u;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=E(n).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=E.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<E.inArray(E.valHooks.option.get(i),a))&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<E.inArray(E(t).val(),e)}},y.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in w;function ke(t){t.stopPropagation()}var Ae=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(t,e,n,i){var r,a,s,o,u,l,c,h,d=[n||C],f=v.call(t,"type")?t.type:t,p=v.call(t,"namespace")?t.namespace.split("."):[];if(a=h=s=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Ae.test(f+E.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,(t=t[E.expando]?t:new E.Event(f,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:E.makeArray(e,[t]),c=E.event.special[f]||{},i||!c.trigger||!1!==c.trigger.apply(n,e))){if(!i&&!c.noBubble&&!m(n)){for(o=c.delegateType||f,Ae.test(o+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(n.ownerDocument||C)&&d.push(s.defaultView||s.parentWindow||w)}for(r=0;(a=d[r++])&&!t.isPropagationStopped();)h=a,t.type=1<r?o:c.bindType||f,(l=(K.get(a,"events")||{})[t.type]&&K.get(a,"handle"))&&l.apply(a,e),(l=u&&a[u])&&l.apply&&z(a)&&(t.result=l.apply(a,e),!1===t.result&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),e)||!z(n)||u&&b(n[f])&&!m(n)&&((s=n[u])&&(n[u]=null),E.event.triggered=f,t.isPropagationStopped()&&h.addEventListener(f,ke),n[f](),t.isPropagationStopped()&&h.removeEventListener(f,ke),E.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(t,e,n){var i=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(i,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),y.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,i){function r(t){E.event.simulate(i,t.target,E.event.fix(t))}E.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=K.access(t,i);e||t.addEventListener(n,r,!0),K.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=K.access(t,i)-1;e?K.access(t,i,e):(t.removeEventListener(n,r,!0),K.remove(t,i))}}});var xe=w.location,Pe=Date.now(),Oe=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new w.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Ie=/\[\]$/,$e=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Le(n,t,i,r){var e;if(Array.isArray(t))E.each(t,function(t,e){i||Ie.test(n)?r(n,e):Le(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==T(t))r(n,t);else for(e in t)Le(n+"["+e+"]",t[e],i,r)}E.param=function(t,e){function n(t,e){var n=b(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)}var i,r=[];if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){n(this.name,this.value)});else for(i in t)Le(i,t[i],e,n);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&De.test(this.nodeName)&&!Me.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(t){return{name:e.name,value:t.replace($e,"\r\n")}}):{name:e.name,value:n.replace($e,"\r\n")}}).get()}});var Ue=/%20/g,Re=/#.*$/,Be=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:GET|HEAD)$/,je=/^\/\//,Fe={},Ge={},Ve="*/".concat("*"),qe=C.createElement("a");function We(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(L)||[];if(b(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(e)):(a[n]=a[n]||[]).push(e)}}function ze(e,r,a,s){var o={},u=e===Ge;function l(t){var i;return o[t]=!0,E.each(e[t]||[],function(t,e){var n=e(r,a,s);return"string"!=typeof n||u||o[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),l(n),!1)}),i}return l(r.dataTypes[0])||!o["*"]&&l("*")}function Xe(t,e){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i=i||{})[n]=e[n]);return i&&E.extend(!0,t,i),t}qe.href=xe.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,E.ajaxSettings),e):Xe(E.ajaxSettings,t)},ajaxPrefilter:We(Fe),ajaxTransport:We(Ge),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,h,d,n,f,i,p,m,r,a,g=E.ajaxSetup({},e),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?E(v):E.event,b=E.Deferred(),_=E.Callbacks("once memory"),T=g.statusCode||{},s={},o={},u="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(p){if(!n)for(n={};e=Ne.exec(d);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(t,e){return null==p&&(t=o[t.toLowerCase()]=o[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==p&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(p)S.always(t[S.status]);else for(e in t)T[e]=[T[e],t[e]];return this},abort:function(t){var e=t||u;return c&&c.abort(e),l(0,e),this}};if(b.promise(S),g.url=((t||g.url||xe.href)+"").replace(je,xe.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(L)||[""],null==g.crossDomain){i=C.createElement("a");try{i.href=g.url,i.href=i.href,g.crossDomain=qe.protocol+"//"+qe.host!=i.protocol+"//"+i.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=E.param(g.data,g.traditional)),ze(Fe,g,e,S),p)return S;for(r in(m=E.event&&g.global)&&0==E.active++&&E.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!He.test(g.type),h=g.url.replace(Re,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Ue,"+")):(a=g.url.slice(h.length),g.data&&(g.processData||"string"==typeof g.data)&&(h+=(Oe.test(h)?"&":"?")+g.data,delete g.data),!1===g.cache&&(h=h.replace(Be,"$1"),a=(Oe.test(h)?"&":"?")+"_="+Pe+++a),g.url=h+a),g.ifModified&&(E.lastModified[h]&&S.setRequestHeader("If-Modified-Since",E.lastModified[h]),E.etag[h]&&S.setRequestHeader("If-None-Match",E.etag[h])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&S.setRequestHeader("Content-Type",g.contentType),S.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ve+"; q=0.01":""):g.accepts["*"]),g.headers)S.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(v,S,g)||p))return S.abort();if(u="abort",_.add(g.complete),S.done(g.success),S.fail(g.error),c=ze(Ge,g,e,S)){if(S.readyState=1,m&&y.trigger("ajaxSend",[S,g]),p)return S;g.async&&0<g.timeout&&(f=w.setTimeout(function(){S.abort("timeout")},g.timeout));try{p=!1,c.send(s,l)}catch(t){if(p)throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var r,a,s,o,u,l=e;p||(p=!0,f&&w.clearTimeout(f),c=void 0,d=i||"",S.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(o=function(t,e,n){for(var i,r,a,s,o=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){u.unshift(r);break}if(u[0]in n)a=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){a=r;break}s=s||r}a=a||s}if(a)return a!==u[0]&&u.unshift(a),n[a]}(g,S,n)),o=function(t,e,n,i){var r,a,s,o,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=a,a=c.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(s=l[u+" "+a]||l["* "+a]))for(r in l)if((o=r.split(" "))[1]===a&&(s=l[u+" "+o[0]]||l["* "+o[0]])){!0===s?s=l[r]:!0!==l[r]&&(a=o[0],c.unshift(o[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+a}}}return{state:"success",data:e}}(g,o,S,r),r?(g.ifModified&&((u=S.getResponseHeader("Last-Modified"))&&(E.lastModified[h]=u),(u=S.getResponseHeader("etag"))&&(E.etag[h]=u)),204===t||"HEAD"===g.type?l="nocontent":304===t?l="notmodified":(l=o.state,a=o.data,r=!(s=o.error))):(s=l,!t&&l||(l="error",t<0&&(t=0))),S.status=t,S.statusText=(e||l)+"",r?b.resolveWith(v,[a,l,S]):b.rejectWith(v,[S,l,s]),S.statusCode(T),T=void 0,m&&y.trigger(r?"ajaxSuccess":"ajaxError",[S,g,r?a:s]),_.fireWith(v,[S,l]),m&&(y.trigger("ajaxComplete",[S,g]),--E.active||E.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,r){E[r]=function(t,e,n,i){return b(e)&&(i=i||n,n=e,e=void 0),E.ajax(E.extend({url:t,type:r,dataType:i,data:e,success:n},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(b(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(t){E(this).wrapInner(n.call(this,t))}):this.each(function(){var t=E(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=b(e);return this.each(function(t){E(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(t){}};var Ke={0:200,1223:204},Ye=E.ajaxSettings.xhr();y.cors=!!Ye&&"withCredentials"in Ye,y.ajax=Ye=!!Ye,E.ajaxTransport(function(r){var a,s;if(y.cors||Ye&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);a=function(t){return function(){a&&(a=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Ke[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),s=i.onerror=i.ontimeout=a("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&w.setTimeout(function(){a&&s()})},a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(t){if(a)throw t}},abort:function(){a&&a()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=E("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),C.head.appendChild(i[0])},abort:function(){r&&r()}}});var Qe,Je=[],Ze=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Je.pop()||E.expando+"_"+Pe++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,a,s=!1!==t.jsonp&&(Ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ze,"$1"+i):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=w[i],w[i]=function(){a=arguments},n.always(function(){void 0===r?E(w).removeProp(i):w[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Je.push(i)),a&&b(r)&&r(a[0]),a=r=void 0}),"script"}),y.createHTMLDocument=((Qe=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qe.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((i=(e=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,e.head.appendChild(i)):e=C),a=!n&&[],(r=x.exec(t))?[e.createElement(r[1])]:(r=vt([t],e,a),a&&a.length&&E(a).remove(),E.merge([],r.childNodes)));var i,r,a},E.fn.load=function(t,e,n){var i,r,a,s=this,o=t.indexOf(" ");return-1<o&&(i=Se(t.slice(o)),t=t.slice(0,o)),b(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,s.html(i?E("<div>").append(E.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length},E.offset={setOffset:function(t,e,n){var i,r,a,s,o,u,l=E.css(t,"position"),c=E(t),h={};"static"===l&&(t.style.position="relative"),o=c.offset(),a=E.css(t,"top"),u=E.css(t,"left"),r=("absolute"===l||"fixed"===l)&&-1<(a+u).indexOf("auto")?(s=(i=c.position()).top,i.left):(s=parseFloat(a)||0,parseFloat(u)||0),b(e)&&(e=e.call(t,n,E.extend({},o))),null!=e.top&&(h.top=e.top-o.top+s),null!=e.left&&(h.left=e.left-o.left+r),"using"in e?e.using.call(t,h):c.css(h)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){E.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(i,"marginTop",!0),left:e.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||yt})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var a="pageYOffset"===r;E.fn[e]=function(t){return F(this,function(t,e,n){var i;if(m(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===n)return i?i[r]:t[e];i?i.scrollTo(a?i.pageXOffset:n,a?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),E.each(["top","left"],function(t,n){E.cssHooks[n]=Kt(y.pixelPosition,function(t,e){if(e)return e=Xt(t,n),Gt.test(e)?E(t).position()[n]+"px":e})}),E.each({Height:"height",Width:"width"},function(s,o){E.each({padding:"inner"+s,content:o,"":"outer"+s},function(i,a){E.fn[a]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return F(this,function(t,e,n){var i;return m(t)?0===a.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+s],i["scroll"+s],t.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?E.css(t,e,r):E.style(t,e,n,r)},o,n?t:void 0,n)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){E.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),b(t))return i=o.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=b,E.isWindow=m,E.camelCase=W,E.type=T,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var tn=w.jQuery,en=w.$;return E.noConflict=function(t){return w.$===E&&(w.$=en),t&&w.jQuery===E&&(w.jQuery=tn),E},t||(w.jQuery=w.$=E),E}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e(t.bootstrap={},t.jQuery,t.Popper)}(this,function(t,e,l){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}e=e&&e.hasOwnProperty("default")?e.default:e,l=l&&l.hasOwnProperty("default")?l.default:l;var r,n,o,u,c,h,d,f,p,m,g,v,y,b,_,T,S,w,C,E,k,A,x,P,O,I,$,M,D,L,U,R,B,N,H,j,F,G,V,q,W,z,X,K,Y,Q,J,Z,tt,et,nt,it,rt,at,st,ot,ut,lt,ct,ht,dt,ft,pt,mt,gt,vt,yt,bt,_t,Tt,St,wt,Ct,Et,kt,At,xt,Pt,Ot,It,$t,Mt,Dt,Lt,Ut,Rt,Bt,Nt,Ht,jt,Ft,Gt,Vt,qt,Wt,zt,Xt,Kt,Yt,Qt,Jt,Zt,te,ee,ne,ie,re,ae,se,oe,ue,le,ce,he,de,fe,pe,me,ge,ve,ye,be,_e,Te,Se,we,Ce,Ee,ke,Ae,xe,Pe,Oe,Ie,$e,Me,De,Le,Ue,Re,Be,Ne,He,je,Fe,Ge,Ve,qe,We,ze,Xe,Ke=(We=e,ze=!1,Xe={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e,n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||""),"#"===n.charAt(0)&&(e=n,n=e="function"==typeof We.escapeSelector?We.escapeSelector(e).substr(1):e.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"));try{return 0<We(document).find(n).length?n:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){We(t).trigger(ze.end)},supportsTransitionEnd:function(){return Boolean(ze)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],a=e[i],s=a&&Xe.isElement(a)?"element":{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase();if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}}},ze=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},We.fn.emulateTransitionEnd=function(t){var e=this,n=!1;return We(this).one(Xe.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||Xe.triggerTransitionEnd(e)},t),this},Xe.supportsTransitionEnd()&&(We.event.special[Xe.TRANSITION_END]={bindType:ze.end,delegateType:ze.end,handle:function(t){if(We(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),Xe),Ye=(n="alert",u="."+(o="bs.alert"),c=(r=e).fn[n],h={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},(qe=mn.prototype).close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},qe.dispose=function(){r.removeData(this._element,o),this._element=null},qe._getRootElement=function(t){var e=Ke.getSelectorFromElement(t),n=!1;return e&&(n=r(e)[0]),n=n||r(t).closest(".alert")[0]},qe._triggerCloseEvent=function(t){var e=r.Event(h.CLOSE);return r(t).trigger(e),e},qe._removeElement=function(e){var n=this;r(e).removeClass("show"),Ke.supportsTransitionEnd()&&r(e).hasClass("fade")?r(e).one(Ke.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150):this._destroyElement(e)},qe._destroyElement=function(t){r(t).detach().trigger(h.CLOSED).remove()},mn._jQueryInterface=function(n){return this.each(function(){var t=r(this),e=t.data(o);e||(e=new mn(this),t.data(o,e)),"close"===n&&e[n](this)})},mn._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},a(mn,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),d=mn,r(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',d._handleDismiss(new d)),r.fn[n]=d._jQueryInterface,r.fn[n].Constructor=d,r.fn[n].noConflict=function(){return r.fn[n]=c,d._jQueryInterface},d),Qe=(p="button",g="."+(m="bs.button"),v=".data-api",y=(f=e).fn[p],b="active",_='[data-toggle^="button"]',T={CLICK_DATA_API:"click"+g+v,FOCUS_BLUR_DATA_API:"focus"+g+v+" blur"+g+v},(Ve=pn.prototype).toggle=function(){var t=!0,e=!0,n=f(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i=f(this._element).find("input")[0];if(i){if("radio"===i.type)if(i.checked&&f(this._element).hasClass(b))t=!1;else{var r=f(n).find(".active")[0];r&&f(r).removeClass(b)}if(t){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!f(this._element).hasClass(b),f(i).trigger("change")}i.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!f(this._element).hasClass(b)),t&&f(this._element).toggleClass(b)},Ve.dispose=function(){f.removeData(this._element,m),this._element=null},pn._jQueryInterface=function(e){return this.each(function(){var t=f(this).data(m);t||(t=new pn(this),f(this).data(m,t)),"toggle"===e&&t[e]()})},a(pn,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),S=pn,f(document).on(T.CLICK_DATA_API,_,function(t){t.preventDefault();var e=t.target;f(e).hasClass("btn")||(e=f(e).closest(".btn")),S._jQueryInterface.call(f(e),"toggle")}).on(T.FOCUS_BLUR_DATA_API,_,function(t){var e=f(t.target).closest(".btn")[0];f(e).toggleClass("focus",/^focus(in)?$/.test(t.type))}),f.fn[p]=S._jQueryInterface,f.fn[p].Constructor=S,f.fn[p].noConflict=function(){return f.fn[p]=y,S._jQueryInterface},S),Je=(ke="carousel",xe="."+(Ae="bs.carousel"),Pe=(Ce=e).fn[ke],Oe={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},Ie={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},$e="next",Me="prev",De={SLIDE:"slide"+xe,SLID:"slid"+xe,KEYDOWN:"keydown"+xe,MOUSEENTER:"mouseenter"+xe,MOUSELEAVE:"mouseleave"+xe,TOUCHEND:"touchend"+xe,LOAD_DATA_API:"load"+xe+".data-api",CLICK_DATA_API:"click"+xe+".data-api"},Le="active",Ue=".active",Re=".active.carousel-item",Be=".carousel-item",Ne=".carousel-item-next, .carousel-item-prev",He=".carousel-indicators",je="[data-slide], [data-slide-to]",Fe='[data-ride="carousel"]',(Ee=fn.prototype).next=function(){this._isSliding||this._slide($e)},Ee.nextWhenVisible=function(){!document.hidden&&Ce(this._element).is(":visible")&&"hidden"!==Ce(this._element).css("visibility")&&this.next()},Ee.prev=function(){this._isSliding||this._slide(Me)},Ee.pause=function(t){t||(this._isPaused=!0),Ce(this._element).find(Ne)[0]&&Ke.supportsTransitionEnd()&&(Ke.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},Ee.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},Ee.to=function(t){var e=this;this._activeElement=Ce(this._element).find(Re)[0];var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)Ce(this._element).one(De.SLID,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();var i=n<t?$e:Me;this._slide(i,this._items[t])}},Ee.dispose=function(){Ce(this._element).off(xe),Ce.removeData(this._element,Ae),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},Ee._getConfig=function(t){return t=s({},Oe,t),Ke.typeCheckConfig(ke,t,Ie),t},Ee._addEventListeners=function(){var e=this;this._config.keyboard&&Ce(this._element).on(De.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(Ce(this._element).on(De.MOUSEENTER,function(t){return e.pause(t)}).on(De.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&Ce(this._element).on(De.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},Ee._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},Ee._getItemIndex=function(t){return this._items=Ce.makeArray(Ce(t).parent().find(Be)),this._items.indexOf(t)},Ee._getItemByDirection=function(t,e){var n=t===$e,i=t===Me,r=this._getItemIndex(e),a=this._items.length-1;if((i&&0===r||n&&r===a)&&!this._config.wrap)return e;var s=(r+(t===Me?-1:1))%this._items.length;return-1==s?this._items[this._items.length-1]:this._items[s]},Ee._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(Ce(this._element).find(Re)[0]),r=Ce.Event(De.SLIDE,{relatedTarget:t,direction:e,from:i,to:n});return Ce(this._element).trigger(r),r},Ee._setActiveIndicatorElement=function(t){if(this._indicatorsElement){Ce(this._indicatorsElement).find(Ue).removeClass(Le);var e=this._indicatorsElement.children[this._getItemIndex(t)];e&&Ce(e).addClass(Le)}},Ee._slide=function(t,e){var n,i,r,a=this,s=Ce(this._element).find(Re)[0],o=this._getItemIndex(s),u=e||s&&this._getItemByDirection(t,s),l=this._getItemIndex(u),c=Boolean(this._interval);if(r=t===$e?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right"),u&&Ce(u).hasClass(Le))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&s&&u){this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(u);var h=Ce.Event(De.SLID,{relatedTarget:u,direction:r,from:o,to:l});Ke.supportsTransitionEnd()&&Ce(this._element).hasClass("slide")?(Ce(u).addClass(i),Ke.reflow(u),Ce(s).addClass(n),Ce(u).addClass(n),Ce(s).one(Ke.TRANSITION_END,function(){Ce(u).removeClass(n+" "+i).addClass(Le),Ce(s).removeClass(Le+" "+i+" "+n),a._isSliding=!1,setTimeout(function(){return Ce(a._element).trigger(h)},0)}).emulateTransitionEnd(600)):(Ce(s).removeClass(Le),Ce(u).addClass(Le),this._isSliding=!1,Ce(this._element).trigger(h)),c&&this.cycle()}},fn._jQueryInterface=function(i){return this.each(function(){var t=Ce(this).data(Ae),e=s({},Oe,Ce(this).data());"object"==typeof i&&(e=s({},e,i));var n="string"==typeof i?i:e.slide;if(t||(t=new fn(this,e),Ce(this).data(Ae,t)),"number"==typeof i)t.to(i);else if("string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}else e.interval&&(t.pause(),t.cycle())})},fn._dataApiClickHandler=function(t){var e=Ke.getSelectorFromElement(this);if(e){var n=Ce(e)[0];if(n&&Ce(n).hasClass("carousel")){var i=s({},Ce(n).data(),Ce(this).data()),r=this.getAttribute("data-slide-to");r&&(i.interval=!1),fn._jQueryInterface.call(Ce(n),i),r&&Ce(n).data(Ae).to(r),t.preventDefault()}}},a(fn,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Oe}}]),Ge=fn,Ce(document).on(De.CLICK_DATA_API,je,Ge._dataApiClickHandler),Ce(window).on(De.LOAD_DATA_API,function(){Ce(Fe).each(function(){var t=Ce(this);Ge._jQueryInterface.call(t,t.data())})}),Ce.fn[ke]=Ge._jQueryInterface,Ce.fn[ke].Constructor=Ge,Ce.fn[ke].noConflict=function(){return Ce.fn[ke]=Pe,Ge._jQueryInterface},Ge),Ze=(ce="collapse",de="."+(he="bs.collapse"),fe=(ue=e).fn[ce],pe={toggle:!0,parent:""},me={toggle:"boolean",parent:"(string|element)"},ge={SHOW:"show"+de,SHOWN:"shown"+de,HIDE:"hide"+de,HIDDEN:"hidden"+de,CLICK_DATA_API:"click"+de+".data-api"},ve="show",ye="collapse",be="collapsing",_e="collapsed",Te=".show, .collapsing",Se='[data-toggle="collapse"]',(le=dn.prototype).toggle=function(){ue(this._element).hasClass(ve)?this.hide():this.show()},le.show=function(){var t,e,n=this;if(!(this._isTransitioning||ue(this._element).hasClass(ve)||(this._parent&&0===(t=ue.makeArray(ue(this._parent).find(Te).filter('[data-parent="'+this._config.parent+'"]'))).length&&(t=null),t&&(e=ue(t).not(this._selector).data(he))&&e._isTransitioning))){var i=ue.Event(ge.SHOW);if(ue(this._element).trigger(i),!i.isDefaultPrevented()){t&&(dn._jQueryInterface.call(ue(t).not(this._selector),"hide"),e||ue(t).data(he,null));var r=this._getDimension();ue(this._element).removeClass(ye).addClass(be),(this._element.style[r]=0)<this._triggerArray.length&&ue(this._triggerArray).removeClass(_e).attr("aria-expanded",!0),this.setTransitioning(!0);var a=function(){ue(n._element).removeClass(be).addClass(ye).addClass(ve),n._element.style[r]="",n.setTransitioning(!1),ue(n._element).trigger(ge.SHOWN)};if(Ke.supportsTransitionEnd()){var s="scroll"+(r[0].toUpperCase()+r.slice(1));ue(this._element).one(Ke.TRANSITION_END,a).emulateTransitionEnd(600),this._element.style[r]=this._element[s]+"px"}else a()}}},le.hide=function(){var t=this;if(!this._isTransitioning&&ue(this._element).hasClass(ve)){var e=ue.Event(ge.HIDE);if(ue(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();if(this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",Ke.reflow(this._element),ue(this._element).addClass(be).removeClass(ye).removeClass(ve),0<this._triggerArray.length)for(var i=0;i<this._triggerArray.length;i++){var r=this._triggerArray[i],a=Ke.getSelectorFromElement(r);null!==a&&(ue(a).hasClass(ve)||ue(r).addClass(_e).attr("aria-expanded",!1))}this.setTransitioning(!0);var s=function(){t.setTransitioning(!1),ue(t._element).removeClass(be).addClass(ye).trigger(ge.HIDDEN)};this._element.style[n]="",Ke.supportsTransitionEnd()?ue(this._element).one(Ke.TRANSITION_END,s).emulateTransitionEnd(600):s()}}},le.setTransitioning=function(t){this._isTransitioning=t},le.dispose=function(){ue.removeData(this._element,he),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},le._getConfig=function(t){return(t=s({},pe,t)).toggle=Boolean(t.toggle),Ke.typeCheckConfig(ce,t,me),t},le._getDimension=function(){return ue(this._element).hasClass("width")?"width":"height"},le._getParent=function(){var n=this,t=null;Ke.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=ue(this._config.parent)[0];var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return ue(t).find(e).each(function(t,e){n._addAriaAndCollapsedClass(dn._getTargetFromElement(e),[e])}),t},le._addAriaAndCollapsedClass=function(t,e){if(t){var n=ue(t).hasClass(ve);0<e.length&&ue(e).toggleClass(_e,!n).attr("aria-expanded",n)}},dn._getTargetFromElement=function(t){var e=Ke.getSelectorFromElement(t);return e?ue(e)[0]:null},dn._jQueryInterface=function(i){return this.each(function(){var t=ue(this),e=t.data(he),n=s({},pe,t.data(),"object"==typeof i&&i);if(!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||(e=new dn(this,n),t.data(he,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},a(dn,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return pe}}]),we=dn,ue(document).on(ge.CLICK_DATA_API,Se,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=ue(this),e=Ke.getSelectorFromElement(this);ue(e).each(function(){var t=ue(this),e=t.data(he)?"toggle":n.data();we._jQueryInterface.call(t,e)})}),ue.fn[ce]=we._jQueryInterface,ue.fn[ce].Constructor=we,ue.fn[ce].noConflict=function(){return ue.fn[ce]=fe,we._jQueryInterface},we),tn=(zt="dropdown",Kt="."+(Xt="bs.dropdown"),Yt=".data-api",Qt=(qt=e).fn[zt],Jt=new RegExp("38|40|27"),Zt={HIDE:"hide"+Kt,HIDDEN:"hidden"+Kt,SHOW:"show"+Kt,SHOWN:"shown"+Kt,CLICK:"click"+Kt,CLICK_DATA_API:"click"+Kt+Yt,KEYDOWN_DATA_API:"keydown"+Kt+Yt,KEYUP_DATA_API:"keyup"+Kt+Yt},te="disabled",ee="show",ne="dropdown-menu-right",ie='[data-toggle="dropdown"]',re=".dropdown-menu",ae={offset:0,flip:!0,boundary:"scrollParent"},se={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},(Wt=hn.prototype).toggle=function(){if(!this._element.disabled&&!qt(this._element).hasClass(te)){var t=hn._getParentFromElement(this._element),e=qt(this._menu).hasClass(ee);if(hn._clearMenus(),!e){var n={relatedTarget:this._element},i=qt.Event(Zt.SHOW,n);if(qt(t).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===l)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var r=this._element;qt(t).hasClass("dropup")&&(qt(this._menu).hasClass("dropdown-menu-left")||qt(this._menu).hasClass(ne))&&(r=t),"scrollParent"!==this._config.boundary&&qt(t).addClass("position-static"),this._popper=new l(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===qt(t).closest(".navbar-nav").length&&qt("body").children().on("mouseover",null,qt.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),qt(this._menu).toggleClass(ee),qt(t).toggleClass(ee).trigger(qt.Event(Zt.SHOWN,n))}}}},Wt.dispose=function(){qt.removeData(this._element,Xt),qt(this._element).off(Kt),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},Wt.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},Wt._addEventListeners=function(){var e=this;qt(this._element).on(Zt.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},Wt._getConfig=function(t){return t=s({},this.constructor.Default,qt(this._element).data(),t),Ke.typeCheckConfig(zt,t,this.constructor.DefaultType),t},Wt._getMenuElement=function(){if(!this._menu){var t=hn._getParentFromElement(this._element);this._menu=qt(t).find(re)[0]}return this._menu},Wt._getPlacement=function(){var t=qt(this._element).parent(),e="bottom-start";return t.hasClass("dropup")?(e="top-start",qt(this._menu).hasClass(ne)&&(e="top-end")):t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":qt(this._menu).hasClass(ne)&&(e="bottom-end"),e},Wt._detectNavbar=function(){return 0<qt(this._element).closest(".navbar").length},Wt._getPopperConfig=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},hn._jQueryInterface=function(e){return this.each(function(){var t=qt(this).data(Xt);if(t||(t=new hn(this,"object"==typeof e?e:null),qt(this).data(Xt,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},hn._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=qt.makeArray(qt(ie)),n=0;n<e.length;n++){var i=hn._getParentFromElement(e[n]),r=qt(e[n]).data(Xt),a={relatedTarget:e[n]};if(r){var s=r._menu;if(qt(i).hasClass(ee)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&qt.contains(i,t.target))){var o=qt.Event(Zt.HIDE,a);qt(i).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&qt("body").children().off("mouseover",null,qt.noop),e[n].setAttribute("aria-expanded","false"),qt(s).removeClass(ee),qt(i).removeClass(ee).trigger(qt.Event(Zt.HIDDEN,a)))}}}},hn._getParentFromElement=function(t){var e,n=Ke.getSelectorFromElement(t);return n&&(e=qt(n)[0]),e||t.parentNode},hn._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||qt(t.target).closest(re).length)):Jt.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!qt(this).hasClass(te))){var e=hn._getParentFromElement(this),n=qt(e).hasClass(ee);if((n||27===t.which&&32===t.which)&&(!n||27!==t.which&&32!==t.which)){var i=qt(e).find(".dropdown-menu .dropdown-item:not(.disabled)").get();if(0!==i.length){var r=i.indexOf(t.target);38===t.which&&0<r&&r--,40===t.which&&r<i.length-1&&r++,r<0&&(r=0),i[r].focus()}}else{if(27===t.which){var a=qt(e).find(ie)[0];qt(a).trigger("focus")}qt(this).trigger("click")}}},a(hn,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return ae}},{key:"DefaultType",get:function(){return se}}]),oe=hn,qt(document).on(Zt.KEYDOWN_DATA_API,ie,oe._dataApiKeydownHandler).on(Zt.KEYDOWN_DATA_API,re,oe._dataApiKeydownHandler).on(Zt.CLICK_DATA_API+" "+Zt.KEYUP_DATA_API,oe._clearMenus).on(Zt.CLICK_DATA_API,ie,function(t){t.preventDefault(),t.stopPropagation(),oe._jQueryInterface.call(qt(this),"toggle")}).on(Zt.CLICK_DATA_API,".dropdown form",function(t){t.stopPropagation()}),qt.fn[zt]=oe._jQueryInterface,qt.fn[zt].Constructor=oe,qt.fn[zt].noConflict=function(){return qt.fn[zt]=Qt,oe._jQueryInterface},oe),en=(Ot="."+(Pt="bs.modal"),It=(At=e).fn.modal,$t={backdrop:!0,keyboard:!0,focus:!0,show:!0},Mt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Dt={HIDE:"hide"+Ot,HIDDEN:"hidden"+Ot,SHOW:"show"+Ot,SHOWN:"shown"+Ot,FOCUSIN:"focusin"+Ot,RESIZE:"resize"+Ot,CLICK_DISMISS:"click.dismiss"+Ot,KEYDOWN_DISMISS:"keydown.dismiss"+Ot,MOUSEUP_DISMISS:"mouseup.dismiss"+Ot,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Ot,CLICK_DATA_API:"click"+Ot+".data-api"},Lt="modal-open",Ut="fade",Rt="show",Bt=".modal-dialog",Nt='[data-toggle="modal"]',Ht='[data-dismiss="modal"]',jt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ft=".sticky-top",Gt=".navbar-toggler",(xt=cn.prototype).toggle=function(t){return this._isShown?this.hide():this.show(t)},xt.show=function(t){var e=this;if(!this._isTransitioning&&!this._isShown){Ke.supportsTransitionEnd()&&At(this._element).hasClass(Ut)&&(this._isTransitioning=!0);var n=At.Event(Dt.SHOW,{relatedTarget:t});At(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),At(document.body).addClass(Lt),this._setEscapeEvent(),this._setResizeEvent(),At(this._element).on(Dt.CLICK_DISMISS,Ht,function(t){return e.hide(t)}),At(this._dialog).on(Dt.MOUSEDOWN_DISMISS,function(){At(e._element).one(Dt.MOUSEUP_DISMISS,function(t){At(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},xt.hide=function(t){var e=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var n=At.Event(Dt.HIDE);if(At(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=Ke.supportsTransitionEnd()&&At(this._element).hasClass(Ut);i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),At(document).off(Dt.FOCUSIN),At(this._element).removeClass(Rt),At(this._element).off(Dt.CLICK_DISMISS),At(this._dialog).off(Dt.MOUSEDOWN_DISMISS),i?At(this._element).one(Ke.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(300):this._hideModal()}}},xt.dispose=function(){At.removeData(this._element,Pt),At(window,document,this._element,this._backdrop).off(Ot),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},xt.handleUpdate=function(){this._adjustDialog()},xt._getConfig=function(t){return t=s({},$t,t),Ke.typeCheckConfig("modal",t,Mt),t},xt._showElement=function(t){var e=this,n=Ke.supportsTransitionEnd()&&At(this._element).hasClass(Ut);function i(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,At(e._element).trigger(r)}this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&Ke.reflow(this._element),At(this._element).addClass(Rt),this._config.focus&&this._enforceFocus();var r=At.Event(Dt.SHOWN,{relatedTarget:t});n?At(this._dialog).one(Ke.TRANSITION_END,i).emulateTransitionEnd(300):i()},xt._enforceFocus=function(){var e=this;At(document).off(Dt.FOCUSIN).on(Dt.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===At(e._element).has(t.target).length&&e._element.focus()})},xt._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?At(this._element).on(Dt.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||At(this._element).off(Dt.KEYDOWN_DISMISS)},xt._setResizeEvent=function(){var e=this;this._isShown?At(window).on(Dt.RESIZE,function(t){return e.handleUpdate(t)}):At(window).off(Dt.RESIZE)},xt._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){At(document.body).removeClass(Lt),t._resetAdjustments(),t._resetScrollbar(),At(t._element).trigger(Dt.HIDDEN)})},xt._removeBackdrop=function(){this._backdrop&&(At(this._backdrop).remove(),this._backdrop=null)},xt._showBackdrop=function(t){var e=this,n=At(this._element).hasClass(Ut)?Ut:"";if(this._isShown&&this._config.backdrop){var i=Ke.supportsTransitionEnd()&&n;if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&At(this._backdrop).addClass(n),At(this._backdrop).appendTo(document.body),At(this._element).on(Dt.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),i&&Ke.reflow(this._backdrop),At(this._backdrop).addClass(Rt),!t)return;if(!i)return void t();At(this._backdrop).one(Ke.TRANSITION_END,t).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){At(this._backdrop).removeClass(Rt);var r=function(){e._removeBackdrop(),t&&t()};Ke.supportsTransitionEnd()&&At(this._element).hasClass(Ut)?At(this._backdrop).one(Ke.TRANSITION_END,r).emulateTransitionEnd(150):r()}else t&&t()},xt._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},xt._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},xt._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},xt._setScrollbar=function(){var r=this;if(this._isBodyOverflowing){At(jt).each(function(t,e){var n=At(e)[0].style.paddingRight,i=At(e).css("padding-right");At(e).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")}),At(Ft).each(function(t,e){var n=At(e)[0].style.marginRight,i=At(e).css("margin-right");At(e).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")}),At(Gt).each(function(t,e){var n=At(e)[0].style.marginRight,i=At(e).css("margin-right");At(e).data("margin-right",n).css("margin-right",parseFloat(i)+r._scrollbarWidth+"px")});var t=document.body.style.paddingRight,e=At("body").css("padding-right");At("body").data("padding-right",t).css("padding-right",parseFloat(e)+this._scrollbarWidth+"px")}},xt._resetScrollbar=function(){At(jt).each(function(t,e){var n=At(e).data("padding-right");void 0!==n&&At(e).css("padding-right",n).removeData("padding-right")}),At(Ft+", "+Gt).each(function(t,e){var n=At(e).data("margin-right");void 0!==n&&At(e).css("margin-right",n).removeData("margin-right")});var t=At("body").data("padding-right");void 0!==t&&At("body").css("padding-right",t).removeData("padding-right")},xt._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},cn._jQueryInterface=function(n,i){return this.each(function(){var t=At(this).data(Pt),e=s({},cn.Default,At(this).data(),"object"==typeof n&&n);if(t||(t=new cn(this,e),At(this).data(Pt,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](i)}else e.show&&t.show(i)})},a(cn,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return $t}}]),Vt=cn,At(document).on(Dt.CLICK_DATA_API,Nt,function(t){var e,n=this,i=Ke.getSelectorFromElement(this);i&&(e=At(i)[0]);var r=At(e).data(Pt)?"toggle":s({},At(e).data(),At(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=At(e).one(Dt.SHOW,function(t){t.isDefaultPrevented()||a.one(Dt.HIDDEN,function(){At(n).is(":visible")&&n.focus()})});Vt._jQueryInterface.call(At(e),r,this)}),At.fn.modal=Vt._jQueryInterface,At.fn.modal.Constructor=Vt,At.fn.modal.noConflict=function(){return At.fn.modal=It,Vt._jQueryInterface},Vt),nn=(dt="tooltip",pt="."+(ft="bs.tooltip"),mt=(ct=e).fn[dt],gt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),bt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(yt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(vt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Tt={HIDE:"hide"+pt,HIDDEN:"hidden"+pt,SHOW:(_t="show")+pt,SHOWN:"shown"+pt,INSERTED:"inserted"+pt,CLICK:"click"+pt,FOCUSIN:"focusin"+pt,FOCUSOUT:"focusout"+pt,MOUSEENTER:"mouseenter"+pt,MOUSELEAVE:"mouseleave"+pt},St="fade",wt="show",Ct="hover",Et="focus",(ht=ln.prototype).enable=function(){this._isEnabled=!0},ht.disable=function(){this._isEnabled=!1},ht.toggleEnabled=function(){this._isEnabled=!this._isEnabled},ht.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=ct(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),ct(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(ct(this.getTipElement()).hasClass(wt))return void this._leave(null,this);this._enter(null,this)}},ht.dispose=function(){clearTimeout(this._timeout),ct.removeData(this.element,this.constructor.DATA_KEY),ct(this.element).off(this.constructor.EVENT_KEY),ct(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&ct(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},ht.show=function(){var e=this;if("none"===ct(this.element).css("display"))throw new Error("Please use show on visible elements");var t=ct.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){ct(this.element).trigger(t);var n=ct.contains(this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!n)return;var i=this.getTipElement(),r=Ke.getUID(this.constructor.NAME);i.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&ct(i).addClass(St);var a="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,s=this._getAttachment(a);this.addAttachmentClass(s);var o=!1===this.config.container?document.body:ct(this.config.container);ct(i).data(this.constructor.DATA_KEY,this),ct.contains(this.element.ownerDocument.documentElement,this.tip)||ct(i).appendTo(o),ct(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new l(this.element,i,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),ct(i).addClass(wt),"ontouchstart"in document.documentElement&&ct("body").children().on("mouseover",null,ct.noop);var u=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,ct(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)};Ke.supportsTransitionEnd()&&ct(this.tip).hasClass(St)?ct(this.tip).one(Ke.TRANSITION_END,u).emulateTransitionEnd(ln._TRANSITION_DURATION):u()}},ht.hide=function(t){function e(){n._hoverState!==_t&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),ct(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()}var n=this,i=this.getTipElement(),r=ct.Event(this.constructor.Event.HIDE);ct(this.element).trigger(r),r.isDefaultPrevented()||(ct(i).removeClass(wt),"ontouchstart"in document.documentElement&&ct("body").children().off("mouseover",null,ct.noop),this._activeTrigger.click=!1,this._activeTrigger[Et]=!1,this._activeTrigger[Ct]=!1,Ke.supportsTransitionEnd()&&ct(this.tip).hasClass(St)?ct(i).one(Ke.TRANSITION_END,e).emulateTransitionEnd(150):e(),this._hoverState="")},ht.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},ht.isWithContent=function(){return Boolean(this.getTitle())},ht.addAttachmentClass=function(t){ct(this.getTipElement()).addClass("bs-tooltip-"+t)},ht.getTipElement=function(){return this.tip=this.tip||ct(this.config.template)[0],this.tip},ht.setContent=function(){var t=ct(this.getTipElement());this.setElementContent(t.find(".tooltip-inner"),this.getTitle()),t.removeClass(St+" "+wt)},ht.setElementContent=function(t,e){var n=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?n?ct(e).parent().is(t)||t.empty().append(e):t.text(ct(e).text()):t[n?"html":"text"](e)},ht.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t=t||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},ht._getAttachment=function(t){return yt[t.toUpperCase()]},ht._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)ct(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(t){return i.toggle(t)});else if("manual"!==t){var e=t===Ct?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,n=t===Ct?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;ct(i.element).on(e,i.config.selector,function(t){return i._enter(t)}).on(n,i.config.selector,function(t){return i._leave(t)})}ct(i.element).closest(".modal").on("hide.bs.modal",function(){return i.hide()})}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},ht._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==t||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},ht._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||ct(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),ct(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?Et:Ct]=!0),ct(e.getTipElement()).hasClass(wt)||e._hoverState===_t?e._hoverState=_t:(clearTimeout(e._timeout),e._hoverState=_t,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===_t&&e.show()},e.config.delay.show):e.show())},ht._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||ct(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),ct(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?Et:Ct]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())},ht._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},ht._getConfig=function(t){return"number"==typeof(t=s({},this.constructor.Default,ct(this.element).data(),t)).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),Ke.typeCheckConfig(dt,t,this.constructor.DefaultType),t},ht._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},ht._cleanTipClass=function(){var t=ct(this.getTipElement()),e=t.attr("class").match(gt);null!==e&&0<e.length&&t.removeClass(e.join(""))},ht._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},ht._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(ct(t).removeClass(St),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},ln._jQueryInterface=function(n){return this.each(function(){var t=ct(this).data(ft),e="object"==typeof n&&n;if((t||!/dispose|hide/.test(n))&&(t||(t=new ln(this,e),ct(this).data(ft,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(ln,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return bt}},{key:"NAME",get:function(){return dt}},{key:"DATA_KEY",get:function(){return ft}},{key:"Event",get:function(){return Tt}},{key:"EVENT_KEY",get:function(){return pt}},{key:"DefaultType",get:function(){return vt}}]),kt=ln,ct.fn[dt]=kt._jQueryInterface,ct.fn[dt].Constructor=kt,ct.fn[dt].noConflict=function(){return ct.fn[dt]=mt,kt._jQueryInterface},kt),rn=(et="popover",it="."+(nt="bs.popover"),rt=(tt=e).fn[et],at=new RegExp("(^|\\s)bs-popover\\S+","g"),st=s({},nn.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ot=s({},nn.DefaultType,{content:"(string|element|function)"}),ut={HIDE:"hide"+it,HIDDEN:"hidden"+it,SHOW:"show"+it,SHOWN:"shown"+it,INSERTED:"inserted"+it,CLICK:"click"+it,FOCUSIN:"focusin"+it,FOCUSOUT:"focusout"+it,MOUSEENTER:"mouseenter"+it,MOUSELEAVE:"mouseleave"+it},lt=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var r=i.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(t){tt(this.getTipElement()).addClass("bs-popover-"+t)},r.getTipElement=function(){return this.tip=this.tip||tt(this.config.template)[0],this.tip},r.setContent=function(){var t=tt(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var t=tt(this.getTipElement()),e=t.attr("class").match(at);null!==e&&0<e.length&&t.removeClass(e.join(""))},i._jQueryInterface=function(n){return this.each(function(){var t=tt(this).data(nt),e="object"==typeof n?n:null;if((t||!/destroy|hide/.test(n))&&(t||(t=new i(this,e),tt(this).data(nt,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return st}},{key:"NAME",get:function(){return et}},{key:"DATA_KEY",get:function(){return nt}},{key:"Event",get:function(){return ut}},{key:"EVENT_KEY",get:function(){return it}},{key:"DefaultType",get:function(){return ot}}]),i}(nn),tt.fn[et]=lt._jQueryInterface,tt.fn[et].Constructor=lt,tt.fn[et].noConflict=function(){return tt.fn[et]=rt,lt._jQueryInterface},lt),an=(L="scrollspy",R="."+(U="bs.scrollspy"),B=(M=e).fn[L],N={offset:10,method:"auto",target:""},H={offset:"number",method:"string",target:"(string|element)"},j={ACTIVATE:"activate"+R,SCROLL:"scroll"+R,LOAD_DATA_API:"load"+R+".data-api"},F="active",G='[data-spy="scroll"]',V=".active",q=".nav, .list-group",W=".nav-link",z=".nav-item",X=".list-group-item",K=".dropdown",Y=".dropdown-item",Q=".dropdown-toggle",J="position",(D=un.prototype).refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":J,r="auto"===this._config.method?t:this._config.method,a=r===J?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),M.makeArray(M(this._selector)).map(function(t){var e,n=Ke.getSelectorFromElement(t);if(n&&(e=M(n)[0]),e){var i=e.getBoundingClientRect();if(i.width||i.height)return[M(e)[r]().top+a,n]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},D.dispose=function(){M.removeData(this._element,U),M(this._scrollElement).off(R),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},D._getConfig=function(t){if("string"!=typeof(t=s({},N,t)).target){var e=M(t.target).attr("id");e||(e=Ke.getUID(L),M(t.target).attr("id",e)),t.target="#"+e}return Ke.typeCheckConfig(L,t,H),t},D._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},D._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},D._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},D._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),n<=t){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},D._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",");t=t.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var n=M(t.join(","));n.hasClass("dropdown-item")?(n.closest(K).find(Q).addClass(F),n.addClass(F)):(n.addClass(F),n.parents(q).prev(W+", "+X).addClass(F),n.parents(q).prev(z).children(W).addClass(F)),M(this._scrollElement).trigger(j.ACTIVATE,{relatedTarget:e})},D._clear=function(){M(this._selector).filter(V).removeClass(F)},un._jQueryInterface=function(e){return this.each(function(){var t=M(this).data(U);if(t||(t=new un(this,"object"==typeof e&&e),M(this).data(U,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},a(un,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return N}}]),Z=un,M(window).on(j.LOAD_DATA_API,function(){for(var t=M.makeArray(M(G)),e=t.length;e--;){var n=M(t[e]);Z._jQueryInterface.call(n,n.data())}}),M.fn[L]=Z._jQueryInterface,M.fn[L].Constructor=Z,M.fn[L].noConflict=function(){return M.fn[L]=B,Z._jQueryInterface},Z),sn=(k="."+(E="bs.tab"),A=(w=e).fn.tab,x={HIDE:"hide"+k,HIDDEN:"hidden"+k,SHOW:"show"+k,SHOWN:"shown"+k,CLICK_DATA_API:"click.bs.tab.data-api"},P="active",O=".active",I="> li > .active",(C=on.prototype).show=function(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&w(this._element).hasClass(P)||w(this._element).hasClass("disabled"))){var t,i,e=w(this._element).closest(".nav, .list-group")[0],r=Ke.getSelectorFromElement(this._element);if(e){var a="UL"===e.nodeName?I:O;i=(i=w.makeArray(w(e).find(a)))[i.length-1]}var s=w.Event(x.HIDE,{relatedTarget:this._element}),o=w.Event(x.SHOW,{relatedTarget:i});if(i&&w(i).trigger(s),w(this._element).trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(t=w(r)[0]),this._activate(this._element,e);var u=function(){var t=w.Event(x.HIDDEN,{relatedTarget:n._element}),e=w.Event(x.SHOWN,{relatedTarget:i});w(i).trigger(t),w(n._element).trigger(e)};t?this._activate(t,t.parentNode,u):u()}}},C.dispose=function(){w.removeData(this._element,E),this._element=null},C._activate=function(t,e,n){function i(){return r._transitionComplete(t,a,n)}var r=this,a=("UL"===e.nodeName?w(e).find(I):w(e).children(O))[0],s=n&&Ke.supportsTransitionEnd()&&a&&w(a).hasClass("fade");a&&s?w(a).one(Ke.TRANSITION_END,i).emulateTransitionEnd(150):i()},C._transitionComplete=function(t,e,n){if(e){w(e).removeClass("show "+P);var i=w(e.parentNode).find("> .dropdown-menu .active")[0];i&&w(i).removeClass(P),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(w(t).addClass(P),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),Ke.reflow(t),w(t).addClass("show"),t.parentNode&&w(t.parentNode).hasClass("dropdown-menu")){var r=w(t).closest(".dropdown")[0];r&&w(r).find(".dropdown-toggle").addClass(P),t.setAttribute("aria-expanded",!0)}n&&n()},on._jQueryInterface=function(n){return this.each(function(){var t=w(this),e=t.data(E);if(e||(e=new on(this),t.data(E,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},a(on,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),$=on,w(document).on(x.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),$._jQueryInterface.call(w(this),"show")}),w.fn.tab=$._jQueryInterface,w.fn.tab.Constructor=$,w.fn.tab.noConflict=function(){return w.fn.tab=A,$._jQueryInterface},$);function on(t){this._element=t}function un(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+W+","+this._config.target+" "+X+","+this._config.target+" "+Y,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,M(this._scrollElement).on(j.SCROLL,function(t){return n._process(t)}),this.refresh(),this._process()}function ln(t,e){if(void 0===l)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}function cn(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=At(t).find(Bt)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}function hn(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}function dn(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=ue.makeArray(ue('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=ue(Se),i=0;i<n.length;i++){var r=n[i],a=Ke.getSelectorFromElement(r);null!==a&&0<ue(a).filter(t).length&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}function fn(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(e),this._element=Ce(t)[0],this._indicatorsElement=Ce(this._element).find(He)[0],this._addEventListeners()}function pn(t){this._element=t}function mn(t){this._element=t}!function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=Ke,t.Alert=Ye,t.Button=Qe,t.Carousel=Je,t.Collapse=Ze,t.Dropdown=tn,t.Modal=en,t.Popover=rn,t.Scrollspy=an,t.Tab=sn,t.Tooltip=nn,Object.defineProperty(t,"__esModule",{value:!0})}),function(u,n,r,o){function l(t,e){this.settings=null,this.options=u.extend({},l.Defaults,e),this.$element=u(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},u.each(["onResize","onThrottledResize"],u.proxy(function(t,e){this._handlers[e]=u.proxy(this[e],this)},this)),u.each(l.Plugins,u.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),u.each(l.Workers,u.proxy(function(t,e){this._pipe.push({filter:e.filter,run:u.proxy(e.run,this)})},this)),this.setup(),this.initialize()}l.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:n,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},l.Width={Default:"default",Inner:"inner",Outer:"outer"},l.Type={Event:"event",State:"state"},l.Plugins={},l.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,r={width:"auto","margin-left":i?e:"","margin-right":i?"":e};n||this.$stage.children().css(r),t.css=r}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,r=!this.settings.autoWidth,a=[];for(t.items={merge:!1,width:e};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,t.items.merge=1<n||t.items.merge,a[i]=r?e*n:this._items[i].width();this._widths=a}},{filter:["items","settings"],run:function(){var t=[],e=this._items,n=this.settings,i=Math.max(2*n.items,4),r=2*Math.ceil(e.length/2),a=n.loop&&e.length?n.rewind?i:Math.max(i,r):0,s="",o="";for(a/=2;0<a;)t.push(this.normalize(t.length/2,!0)),s+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),o=e[t[t.length-1]][0].outerHTML+o,--a;this._clones=t,u(s).addClass("cloned").appendTo(this.$stage),u(o).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=-1,i=0,r=0,a=[];++n<e;)i=a[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,a.push(i+r*t);this._coordinates=a}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],i.eq(e).css(t.css);else n&&(t.css.width=t.items.width,i.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,i,r=this.settings.rtl?1:-1,a=2*this.settings.stagePadding,s=this.coordinates(this.current())+a,o=s+this.width()*r,u=[];for(n=0,i=this._coordinates.length;n<i;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+a*r,(this.op(t,"<=",s)&&this.op(t,">",o)||this.op(e,"<",s)&&this.op(e,">",o))&&u.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+u.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],l.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=u("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()))},l.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return u(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},l.prototype.initialize=function(){var t,e,n;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:o,n=this.$element.children(e).width(),t.length&&n<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},l.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},l.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,n=-1,i=null;t?(u.each(t,function(t){t<=e&&n<t&&(n=Number(t))}),"function"==typeof(i=u.extend({},this.options,t[n])).stagePadding&&(i.stagePadding=i.stagePadding()),delete i.responsive,i.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):i=u.extend({},this.options),this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=n,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},l.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},l.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=u("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},l.prototype.update=function(){for(var t=0,e=this._pipe.length,n=u.proxy(function(t){return this[t]},this._invalidated),i={};t<e;)(this._invalidated.all||0<u.grep(this._pipe[t].filter,n).length)&&this._pipe[t].run(i),t++;this._invalidated={},this.is("valid")||this.enter("valid")},l.prototype.width=function(t){switch(t=t||l.Width.Default){case l.Width.Inner:case l.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},l.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},l.prototype.onThrottledResize=function(){n.clearTimeout(this.resizeTimer),this.resizeTimer=n.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},l.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},l.prototype.registerEventHandlers=function(){u.support.transition&&this.$stage.on(u.support.transition.end+".owl.core",u.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(n,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",u.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",u.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",u.proxy(this.onDragEnd,this)))},l.prototype.onDragStart=function(t){var e=null;3!==t.which&&(e=u.support.transform?{x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),{x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(u.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=u(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),u(r).on("mouseup.owl.core touchend.owl.core",u.proxy(this.onDragEnd,this)),u(r).one("mousemove.owl.core touchmove.owl.core",u.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));u(r).on("mousemove.owl.core touchmove.owl.core",u.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},l.prototype.onDragMove=function(t){var e=null,n=null,i=null,r=this.difference(this._drag.pointer,this.pointer(t)),a=this.difference(this._drag.stage.start,r);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-e,a.x=((a.x-e)%n+n)%n+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*r.x/5:0,a.x=Math.max(Math.min(a.x,e+i),n+i)),this._drag.stage.current=a,this.animate(a.x))},l.prototype.onDragEnd=function(t){var e=this.difference(this._drag.pointer,this.pointer(t)),n=this._drag.stage.current,i=0<e.x^this.settings.rtl?"left":"right";u(r).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==e.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==e.x?i:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=i,(3<Math.abs(e.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},l.prototype.closest=function(n,i){var r=-1,a=this.width(),s=this.coordinates();return this.settings.freeDrag||u.each(s,u.proxy(function(t,e){return"left"===i&&e-30<n&&n<e+30?r=t:"right"===i&&e-a-30<n&&n<e-a+30?r=t+1:this.op(n,"<",e)&&this.op(n,">",s[t+1]!==o?s[t+1]:e-a)&&(r="left"===i?t+1:t),-1===r},this)),this.settings.loop||(this.op(n,">",s[this.minimum()])?r=n=this.minimum():this.op(n,"<",s[this.maximum()])&&(r=n=this.maximum())),r},l.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),u.support.transform3d&&u.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,u.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},l.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},l.prototype.current=function(t){if(t===o)return this._current;if(0===this._items.length)return o;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==o&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},l.prototype.invalidate=function(t){return"string"===u.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),u.map(this._invalidated,function(t,e){return e})},l.prototype.reset=function(t){(t=this.normalize(t))!==o&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},l.prototype.normalize=function(t,e){var n=this._items.length,i=e?0:this._clones.length;return!this.isNumeric(t)||n<1?t=o:(t<0||n+i<=t)&&(t=((t-i/2)%n+n)%n+i/2),t},l.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},l.prototype.maximum=function(t){var e,n,i,r=this.settings,a=this._coordinates.length;if(r.loop)a=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){if(e=this._items.length)for(n=this._items[--e].width(),i=this.$element.width();e--&&!((n+=this._items[e].width()+this.settings.margin)>i););a=e+1}else a=r.center?this._items.length-1:this._items.length-r.items;return t&&(a-=this._clones.length/2),Math.max(a,0)},l.prototype.minimum=function(t){return t?0:this._clones.length/2},l.prototype.items=function(t){return t===o?this._items.slice():(t=this.normalize(t,!0),this._items[t])},l.prototype.mergers=function(t){return t===o?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},l.prototype.clones=function(n){function i(t){return t%2==0?r+t/2:e-(t+1)/2}var e=this._clones.length/2,r=e+this._items.length;return n===o?u.map(this._clones,function(t,e){return i(e)}):u.map(this._clones,function(t,e){return t===n?i(e):null})},l.prototype.speed=function(t){return t!==o&&(this._speed=t),this._speed},l.prototype.coordinates=function(t){var e,n=1,i=t-1;return t===o?u.map(this._coordinates,u.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(n=-1,i=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[i]||0))/2*n):e=this._coordinates[i]||0,e=Math.ceil(e))},l.prototype.duration=function(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},l.prototype.to=function(t,e){var n=this.current(),i=null,r=t-this.relative(n),a=(0<r)-(r<0),s=this._items.length,o=this.minimum(),u=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>s/2&&(r+=-1*a*s),(i=(((t=n+r)-o)%s+s)%s+o)!==t&&i-r<=u&&0<i-r&&(n=i-r,t=i,this.reset(n))):t=this.settings.rewind?(t%(u+=1)+u)%u:Math.max(o,Math.min(u,t)),this.speed(this.duration(n,t,e)),this.current(t),this.isVisible()&&this.update()},l.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},l.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},l.prototype.onTransitionEnd=function(t){if(t!==o&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},l.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==n?t=u(this.options.responsiveBaseElement).width():n.innerWidth?t=n.innerWidth:r.documentElement&&r.documentElement.clientWidth?t=r.documentElement.clientWidth:console.warn("Can not detect viewport width."),t},l.prototype.replace=function(t){this.$stage.empty(),this._items=[],t=t&&(t instanceof jQuery?t:u(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(u.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(+e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},l.prototype.add=function(t,e){var n=this.relative(this._current);e=e===o?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:u(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},l.prototype.remove=function(t){(t=this.normalize(t,!0))!==o&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},l.prototype.preloadAutoWidthImages=function(t){t.each(u.proxy(function(t,e){this.enter("pre-loading"),e=u(e),u(new Image).one("load",u.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},l.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),u(r).off(".owl.core"),!1!==this.settings.responsive&&(n.clearTimeout(this.resizeTimer),this.off(n,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},l.prototype.op=function(t,e,n){var i=this.settings.rtl;switch(e){case"<":return i?n<t:t<n;case">":return i?t<n:n<t;case">=":return i?t<=n:n<=t;case"<=":return i?n<=t:t<=n}},l.prototype.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},l.prototype.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)},l.prototype.trigger=function(t,e,n,i,r){var a={item:{count:this._items.length,index:this.current()}},s=u.camelCase(u.grep(["on",t,n],function(t){return t}).join("-").toLowerCase()),o=u.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),u.extend({relatedTarget:this},a,e));return this._supress[t]||(u.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(o)}),this.register({type:l.Type.Event,name:t}),this.$element.trigger(o),this.settings&&"function"==typeof this.settings[s]&&this.settings[s].call(this,o)),o},l.prototype.enter=function(t){u.each([t].concat(this._states.tags[t]||[]),u.proxy(function(t,e){this._states.current[e]===o&&(this._states.current[e]=0),this._states.current[e]++},this))},l.prototype.leave=function(t){u.each([t].concat(this._states.tags[t]||[]),u.proxy(function(t,e){this._states.current[e]--},this))},l.prototype.register=function(n){if(n.type===l.Type.Event){if(u.event.special[n.name]||(u.event.special[n.name]={}),!u.event.special[n.name].owl){var e=u.event.special[n.name]._default;u.event.special[n.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},u.event.special[n.name].owl=!0}}else n.type===l.Type.State&&(this._states.tags[n.name]?this._states.tags[n.name]=this._states.tags[n.name].concat(n.tags):this._states.tags[n.name]=n.tags,this._states.tags[n.name]=u.grep(this._states.tags[n.name],u.proxy(function(t,e){return u.inArray(t,this._states.tags[n.name])===e},this)))},l.prototype.suppress=function(t){u.each(t,u.proxy(function(t,e){this._supress[e]=!0},this))},l.prototype.release=function(t){u.each(t,u.proxy(function(t,e){delete this._supress[e]},this))},l.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||n.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},l.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},l.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},u.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=u(this),n=t.data("owl.carousel");n||(n=new l(this,"object"==typeof e&&e),t.data("owl.carousel",n),u.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){n.register({type:l.Type.Event,name:e}),n.$element.on(e+".owl.carousel.core",u.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),n[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},n))})),"string"==typeof e&&"_"!==e.charAt(0)&&n[e].apply(n,i)})},u.fn.owlCarousel.Constructor=l}(window.Zepto||window.jQuery,window,document),function(e,n){var i=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=n.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,e;for(t in n.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(o,a){var e=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":o.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var e=this._core.settings,n=e.center&&Math.ceil(e.items/2)||e.items,i=e.center&&-1*n||0,r=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+i,a=this._core.clones().length,s=o.proxy(function(t,e){this.load(e)},this);i++<n;)this.load(a/2+this._core.relative(r)),a&&o.each(this._core.clones(this._core.relative(r)),s),r++},this)},this._core.options=o.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(t){var e=this._core.$stage.children().eq(t),n=e&&e.find(".owl-lazy");!n||-1<o.inArray(e.get(0),this._loaded)||(n.each(o.proxy(function(t,e){var n,i=o(e),r=1<a.devicePixelRatio&&i.attr("data-src-retina")||i.attr("data-src")||i.attr("data-srcset");this._core.trigger("load",{element:i,url:r},"lazy"),i.is("img")?i.one("load.owl.lazy",o.proxy(function(){i.css("opacity",1),this._core.trigger("loaded",{element:i,url:r},"lazy")},this)).attr("src",r):i.is("source")?i.one("load.owl.lazy",o.proxy(function(){this._core.trigger("loaded",{element:i,url:r},"lazy")},this)).attr("srcset",r):((n=new Image).onload=o.proxy(function(){i.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:i,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(e.get(0)))},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},o.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,n){var i=function(t){this._core=t,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&(console.log("update called"),this.update())},this),"loaded.owl.lazy":a.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var e=this;a(n).on("load",function(){e._core.settings.autoHeight&&e.update()}),a(n).resize(function(){e._core.settings.autoHeight&&(null!=e._intervalId&&clearTimeout(e._intervalId),e._intervalId=setTimeout(function(){e.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var t,e=this._core._current,n=e+this._core.settings.items,i=this._core.$stage.children().toArray().slice(e,n),r=[];a.each(i,function(t,e){r.push(a(e).height())}),t=Math.max.apply(null,r),this._core.$stage.parent().height(t).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(c,e){var n=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":c.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":c.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":c.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":c.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":c.proxy(function(t){if(t.namespace){var e=c(t.content).find(".owl-video");e.length&&(e.css("display","none"),this.fetch(e,c(t.content)))}},this)},this._core.options=c.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",c.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var n=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),r=t.attr("data-width")||this._core.settings.videoWidth,a=t.attr("data-height")||this._core.settings.videoHeight,s=t.attr("href");if(!s)throw new Error("Missing video URL.");if(-1<(i=s.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))n="youtube";else if(-1<i[3].indexOf("vimeo"))n="vimeo";else{if(!(-1<i[3].indexOf("vzaar")))throw new Error("Video URL not supported.");n="vzaar"}i=i[6],this._videos[s]={type:n,id:i,width:r,height:a},e.attr("data-video",s),this.thumbnail(t,this._videos[s])},n.prototype.thumbnail=function(e,t){function n(t){i=l.lazyLoad?'<div class="owl-video-tn '+u+'" '+o+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(i),e.after('<div class="owl-video-play-icon"></div>')}var i,r,a=t.width&&t.height?'style="width:'+t.width+"px;height:"+t.height+'px;"':"",s=e.find("img"),o="src",u="",l=this._core.settings;if(e.wrap('<div class="owl-video-wrapper"'+a+"></div>"),this._core.settings.lazyLoad&&(o="data-src",u="owl-lazy"),s.length)return n(s.attr(o)),s.remove(),!1;"youtube"===t.type?(r="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",n(r)):"vimeo"===t.type?c.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t[0].thumbnail_large,n(r)}}):"vzaar"===t.type&&c.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t.framegrab_url,n(r)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(t){var e,n=c(t.target).closest("."+this._core.settings.itemClass),i=this._videos[n.attr("data-video")],r=i.width||"100%",a=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===i.type?e='<iframe width="'+r+'" height="'+a+'" src="//www.youtube.com/embed/'+i.id+"?autoplay=1&rel=0&v="+i.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===i.type?e='<iframe src="//player.vimeo.com/video/'+i.id+'?autoplay=1" width="'+r+'" height="'+a+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===i.type&&(e='<iframe frameborder="0"height="'+a+'"width="'+r+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+i.id+'/player?autoplay=true"></iframe>'),c('<div class="owl-video-frame">'+e+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&c(t).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},c.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,(window,document)),function(s){var e=function(t){this.core=t,this.core.options=s.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":s.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":s.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":s.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&s.support.animation&&s.support.transition){this.core.speed(0);var t,e=s.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),i=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(s.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(a)),r&&i.one(s.support.animation.end,e).addClass("animated owl-animated-in").addClass(r))}},e.prototype.clear=function(t){s(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},s.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,(window,document)),function(i,r,e){var n=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":i.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":i.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":i.proxy(function(t,e,n){t.namespace&&this.play(e,n)},this),"stop.owl.autoplay":i.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=i.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype._next=function(t){this._call=r.setTimeout(i.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},n.prototype.read=function(){return(new Date).getTime()-this._time},n.prototype.play=function(t,e){var n;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,n=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):r.clearTimeout(this._call),this._time+=this.read()%t-n,this._timeout=t,this._call=r.setTimeout(i.proxy(this._next,this,e),t-n)},n.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,r.clearTimeout(this._call),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,r.clearTimeout(this._call))},n.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(a){"use strict";var e=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":a.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var t,n=this._core.settings;for(t in this._controls.$relative=(n.navContainer?a(n.navContainer):a("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(t){this.prev(n.navSpeed)},this)),this._controls.$next=a("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(t){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[a('<button role="button">').addClass(n.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?a(n.dotsContainer):a("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",a.proxy(function(t){var e=a(t.target).parent().is(this._controls.$absolute)?a(t.target).index():a(t.target).parent().index();t.preventDefault(),this.to(e,n.dotsSpeed)},this)),this._overrides)this._core[t]=a.proxy(this[t],this)},e.prototype.destroy=function(){var t,e,n,i,r;for(t in r=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&r.navContainer?this._controls[e].html(""):this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.prototype.update=function(){var t,e,n=this._core.clones().length/2,i=n+this._core.items().length,r=this._core.maximum(!0),a=this._core.settings,s=a.center||a.autoWidth||a.dotsData?1:a.dotsEach||a.items;if("page"!==a.slideBy&&(a.slideBy=Math.min(a.slideBy,a.items)),a.dots||"page"==a.slideBy)for(this._pages=[],t=n,e=0;t<i;t++){if(s<=e||0===e){if(this._pages.push({start:Math.min(r,t-n),end:t-n+s-1}),Math.min(r,t-n)===r)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var t,e=this._core.settings,n=this._core.items().length<=e.items,i=this._core.relative(this._core.current()),r=e.loop||e.rewind;this._controls.$relative.toggleClass("disabled",!e.nav||n),e.nav&&(this._controls.$previous.toggleClass("disabled",!r&&i<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&i>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!e.dots||n),e.dots&&(t=this._pages.length-this._controls.$absolute.children().length,e.dotsData&&0!=t?this._controls.$absolute.html(this._templates.join("")):0<t?this._controls.$absolute.append(new Array(1+t).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},e.prototype.current=function(){var n=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(t,e){return t.start<=n&&t.end>=n},this)).pop()},e.prototype.getPosition=function(t){var e,n,i=this._core.settings;return"page"==i.slideBy?(e=a.inArray(this.current(),this._pages),n=this._pages.length,t?++e:--e,e=this._pages[(e%n+n)%n].start):(e=this._core.relative(this._core.current()),n=this._core.items().length,t?e+=i.slideBy:e-=i.slideBy),e},e.prototype.next=function(t){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},e.prototype.prev=function(t){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},e.prototype.to=function(t,e,n){var i;!n&&this._pages.length?(i=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(t%i+i)%i].start,e)):a.proxy(this._overrides.to,this._core)(t,e)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,(window,document)),function(i,r){"use strict";var e=function(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":i.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&i(r).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":i.proxy(function(t){if(t.namespace){var e=i(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!e)return;this._hashes[e]=t.content}},this),"changed.owl.carousel":i.proxy(function(t){if(t.namespace&&"position"===t.property.name){var n=this._core.items(this._core.relative(this._core.current())),e=i.map(this._hashes,function(t,e){return t===n?e:null}).join();if(!e||r.location.hash.slice(1)===e)return;r.location.hash=e}},this)},this._core.options=i.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),i(r).on("hashchange.owl.navigation",i.proxy(function(t){var e=r.location.hash.substring(1),n=this._core.$stage.children(),i=this._hashes[e]&&n.index(this._hashes[e]);void 0!==i&&i!==this._core.current()&&this._core.to(this._core.relative(i),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var t,e;for(t in i(r).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(r,a){function e(t,n){var i=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return r.each((t+" "+o.join(e+" ")+e).split(" "),function(t,e){if(s[e]!==a)return i=!n||e,!1}),i}function t(t){return e(t,!0)}var s=r("<support>").get(0).style,o="Webkit Moz O ms".split(" "),n={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},i=function(){return!!e("transform")},u=function(){return!!e("perspective")},l=function(){return!!e("animation")};!function(){return!!e("transition")}()||(r.support.transition=new String(t("transition")),r.support.transition.end=n.transition.end[r.support.transition]),l()&&(r.support.animation=new String(t("animation")),r.support.animation.end=n.animation.end[r.support.animation]),i()&&(r.support.transform=new String(t("transform")),r.support.transform3d=u())}(window.Zepto||window.jQuery,(window,void document)),function a(s,o,u){function l(e,t){if(!o[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=o[e]={exports:{}};s[e][0].call(r.exports,function(t){return l(s[e][1][t]||t)},r,r.exports,a,s,o,u)}return o[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,n){"use strict";t(2);var i,r=(i=t(15))&&i.__esModule?i:{default:i};r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},{15:15,2:2}],2:[function(t,e,n){"use strict";t(3),t(5),t(4),t(11),t(10),t(13),t(12),t(14),t(7),t(8),t(6),t(9),t(306),t(307)},{10:10,11:11,12:12,13:13,14:14,3:3,306:306,307:307,4:4,5:5,6:6,7:7,8:8,9:9}],3:[function(t,e,n){t(278),t(214),t(216),t(215),t(218),t(220),t(225),t(219),t(217),t(227),t(226),t(222),t(223),t(221),t(213),t(224),t(228),t(229),t(180),t(182),t(181),t(231),t(230),t(201),t(211),t(212),t(202),t(203),t(204),t(205),t(206),t(207),t(208),t(209),t(210),t(184),t(185),t(186),t(187),t(188),t(189),t(190),t(191),t(192),t(193),t(194),t(195),t(196),t(197),t(198),t(199),t(200),t(265),t(270),t(277),t(268),t(260),t(261),t(266),t(271),t(273),t(256),t(257),t(258),t(259),t(262),t(263),t(264),t(267),t(269),t(272),t(274),t(275),t(276),t(175),t(177),t(176),t(179),t(178),t(163),t(161),t(168),t(165),t(171),t(173),t(160),t(167),t(157),t(172),t(155),t(170),t(169),t(162),t(166),t(154),t(156),t(159),t(158),t(174),t(164),t(247),t(248),t(254),t(249),t(250),t(251),t(252),t(253),t(232),t(183),t(255),t(290),t(291),t(279),t(280),t(285),t(288),t(289),t(283),t(286),t(284),t(287),t(281),t(282),t(233),t(234),t(235),t(236),t(237),t(240),t(238),t(239),t(241),t(242),t(243),t(244),t(246),t(245),e.exports=t(52)},{154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,52:52}],4:[function(t,e,n){t(292),e.exports=t(52).Array.flatMap},{292:292,52:52}],5:[function(t,e,n){t(293),e.exports=t(52).Array.includes},{293:293,52:52}],6:[function(t,e,n){t(294),e.exports=t(52).Object.entries},{294:294,52:52}],7:[function(t,e,n){t(295),e.exports=t(52).Object.getOwnPropertyDescriptors},{295:295,52:52}],8:[function(t,e,n){t(296),e.exports=t(52).Object.values},{296:296,52:52}],9:[function(t,e,n){"use strict";t(232),t(297),e.exports=t(52).Promise.finally},{232:232,297:297,52:52}],10:[function(t,e,n){t(298),e.exports=t(52).String.padEnd},{298:298,52:52}],11:[function(t,e,n){t(299),e.exports=t(52).String.padStart},{299:299,52:52}],12:[function(t,e,n){t(301),e.exports=t(52).String.trimRight},{301:301,52:52}],13:[function(t,e,n){t(300),e.exports=t(52).String.trimLeft},{300:300,52:52}],14:[function(t,e,n){t(302),e.exports=t(151).f("asyncIterator")},{151:151,302:302}],15:[function(t,e,n){t(32),e.exports=t(18).global},{18:18,32:32}],16:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],17:[function(t,e,n){var i=t(28);e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{28:28}],18:[function(t,e,n){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},{}],19:[function(t,e,n){var a=t(16);e.exports=function(i,r,t){if(a(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},{16:16}],20:[function(t,e,n){e.exports=!t(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{23:23}],21:[function(t,e,n){var i=t(28),r=t(24).document,a=i(r)&&i(r.createElement);e.exports=function(t){return a?r.createElement(t):{}}},{24:24,28:28}],22:[function(t,e,n){var m=t(24),g=t(18),v=t(19),y=t(26),b=t(25),_="prototype",T=function(t,e,n){var i,r,a,s=t&T.F,o=t&T.G,u=t&T.S,l=t&T.P,c=t&T.B,h=t&T.W,d=o?g:g[e]||(g[e]={}),f=d[_],p=o?m:u?m[e]:(m[e]||{})[_];for(i in o&&(n=e),n)(r=!s&&p&&void 0!==p[i])&&b(d,i)||(a=r?p[i]:n[i],d[i]=o&&"function"!=typeof p[i]?n[i]:c&&r?v(a,m):h&&p[i]==a?function(i){function t(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)}return t[_]=i[_],t}(a):l&&"function"==typeof a?v(Function.call,a):a,l&&((d.virtual||(d.virtual={}))[i]=a,t&T.R&&f&&!f[i]&&y(f,i,a)))};T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128,e.exports=T},{18:18,19:19,24:24,25:25,26:26}],23:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],24:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],25:[function(t,e,n){var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],26:[function(t,e,n){var i=t(29),r=t(30);e.exports=t(20)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{20:20,29:29,30:30}],27:[function(t,e,n){e.exports=!t(20)&&!t(23)(function(){return 7!=Object.defineProperty(t(21)("div"),"a",{get:function(){return 7}}).a})},{20:20,21:21,23:23}],28:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],29:[function(t,e,n){var i=t(17),r=t(27),a=t(31),s=Object.defineProperty;n.f=t(20)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{17:17,20:20,27:27,31:31}],30:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],31:[function(t,e,n){var r=t(28);e.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{28:28}],32:[function(t,e,n){var i=t(22);i(i.G,{global:t(24)})},{22:22,24:24}],33:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{16:16}],34:[function(t,e,n){var i=t(48);e.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},{48:48}],35:[function(t,e,n){var i=t(152)("unscopables"),r=Array.prototype;null==r[i]&&t(72)(r,i,{}),e.exports=function(t){r[i][t]=!0}},{152:152,72:72}],36:[function(t,e,n){"use strict";var i=t(129)(!0);e.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},{129:129}],37:[function(t,e,n){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],38:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{17:17,81:81}],39:[function(t,e,n){"use strict";var c=t(142),h=t(137),d=t(141);e.exports=[].copyWithin||function(t,e,n){var i=c(this),r=d(i.length),a=h(t,r),s=h(e,r),o=2<arguments.length?n:void 0,u=Math.min((void 0===o?r:h(o,r))-s,r-a),l=1;for(s<a&&a<s+u&&(l=-1,s+=u-1,a+=u-1);0<u--;)s in i?i[a]=i[s]:delete i[a],a+=l,s+=l;return i}},{137:137,141:141,142:142}],40:[function(t,e,n){"use strict";var l=t(142),c=t(137),h=t(141);e.exports=function(t,e,n){for(var i=l(this),r=h(i.length),a=arguments.length,s=c(1<a?e:void 0,r),o=2<a?n:void 0,u=void 0===o?r:c(o,r);s<u;)i[s++]=t;return i}},{137:137,141:141,142:142}],41:[function(t,e,n){var u=t(140),l=t(141),c=t(137);e.exports=function(o){return function(t,e,n){var i,r=u(t),a=l(r.length),s=c(n,a);if(o&&e!=e){for(;s<a;)if((i=r[s++])!=i)return!0}else for(;s<a;s++)if((o||s in r)&&r[s]===e)return o||s||0;return!o&&-1}}},{137:137,140:140,141:141}],42:[function(t,e,n){var b=t(54),_=t(77),T=t(142),S=t(141),i=t(45);e.exports=function(h,t){var d=1==h,f=2==h,p=3==h,m=4==h,g=6==h,v=5==h||g,y=t||i;return function(t,e,n){for(var i,r,a=T(t),s=_(a),o=b(e,n,3),u=S(s.length),l=0,c=d?y(t,u):f?y(t,0):void 0;l<u;l++)if((v||l in s)&&(r=o(i=s[l],l,a),h))if(d)c[l]=r;else if(r)switch(h){case 3:return!0;case 5:return i;case 6:return l;case 2:c.push(i)}else if(m)return!1;return g?-1:p||m?m:c}}},{141:141,142:142,45:45,54:54,77:77}],43:[function(t,e,n){var c=t(33),h=t(142),d=t(77),f=t(141);e.exports=function(t,e,n,i,r){c(e);var a=h(t),s=d(a),o=f(a.length),u=r?o-1:0,l=r?-1:1;if(n<2)for(;;){if(u in s){i=s[u],u+=l;break}if(u+=l,r?u<0:o<=u)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=u:u<o;u+=l)u in s&&(i=e(i,s[u],u,a));return i}},{141:141,142:142,33:33,77:77}],44:[function(t,e,n){var i=t(81),r=t(79),a=t(152)("species");e.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},{152:152,79:79,81:81}],45:[function(t,e,n){var i=t(44);e.exports=function(t,e){return new(i(t))(e)}},{44:44}],46:[function(t,e,n){"use strict";var a=t(33),s=t(81),o=t(76),u=[].slice,l={};e.exports=Function.bind||function(e){var n=a(this),i=u.call(arguments,1),r=function(){var t=i.concat(u.call(arguments));return this instanceof r?function(t,e,n){if(!(e in l)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";l[e]=Function("F,a","return new F("+i.join(",")+")")}return l[e](t,n)}(n,t.length,t):o(n,t,e)};return s(n.prototype)&&(r.prototype=n.prototype),r}},{33:33,76:76,81:81}],47:[function(t,e,n){var r=t(48),a=t(152)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},{152:152,48:48}],48:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],49:[function(t,e,n){"use strict";function s(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var o=t(99).f,u=t(98),l=t(117),c=t(54),h=t(37),d=t(68),i=t(85),r=t(87),a=t(123),f=t(58),p=t(94).fastKey,m=t(149),g=f?"_s":"size";e.exports={getConstructor:function(t,a,n,i){var r=t(function(t,e){h(t,r,a,"_i"),t._t=a,t._i=u(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&d(e,n,t[i],t)});return l(r.prototype,{clear:function(){for(var t=m(this,a),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=m(this,a),n=s(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[g]--}return!!n},forEach:function(t,e){m(this,a);for(var n,i=c(t,1<arguments.length?e:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!s(m(this,a),t)}}),f&&o(r.prototype,"size",{get:function(){return m(this,a)[g]}}),r},def:function(t,e,n){var i,r,a=s(t,e);return a?a.v=n:(t._l=a={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=a),i&&(i.n=a),t[g]++,"F"!==r&&(t._i[r]=a)),t},getEntry:s,setStrong:function(t,n,e){i(t,n,function(t,e){this._t=m(t,n),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?r(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,r(1))},e?"entries":"values",!e,!0),a(n)}}},{117:117,123:123,149:149,37:37,54:54,58:58,68:68,85:85,87:87,94:94,98:98,99:99}],50:[function(t,e,n){"use strict";function s(t){return t._l||(t._l=new v)}function i(t,e){return p(t.a,function(t){return t[0]===e})}var o=t(117),u=t(94).getWeak,r=t(38),l=t(81),c=t(37),h=t(68),a=t(42),d=t(71),f=t(149),p=a(5),m=a(6),g=0,v=function(){this.a=[]};v.prototype={get:function(t){var e=i(this,t);if(e)return e[1]},has:function(t){return!!i(this,t)},set:function(t,e){var n=i(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=m(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(t,n,i,r){var a=t(function(t,e){c(t,a,n,"_i"),t._t=n,t._i=g++,t._l=void 0,null!=e&&h(e,i,t[r],t)});return o(a.prototype,{delete:function(t){if(!l(t))return!1;var e=u(t);return!0===e?s(f(this,n)).delete(t):e&&d(e,this._i)&&delete e[this._i]},has:function(t){if(!l(t))return!1;var e=u(t);return!0===e?s(f(this,n)).has(t):e&&d(e,this._i)}}),a},def:function(t,e,n){var i=u(r(e),!0);return!0===i?s(t).set(e,n):i[t._i]=n,t},ufstore:s}},{117:117,149:149,37:37,38:38,42:42,68:68,71:71,81:81,94:94}],51:[function(t,e,n){"use strict";var v=t(70),y=t(62),b=t(118),_=t(117),T=t(94),S=t(68),w=t(37),C=t(81),E=t(64),k=t(86),A=t(124),x=t(75);e.exports=function(i,t,e,n,r,a){function s(t){var n=c[t];b(c,t,"delete"==t?function(t){return!(a&&!C(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!C(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!C(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var o=v[i],u=o,l=r?"set":"add",c=u&&u.prototype,h={};if("function"==typeof u&&(a||c.forEach&&!E(function(){(new u).entries().next()}))){var d=new u,f=d[l](a?{}:-0,1)!=d,p=E(function(){d.has(1)}),m=k(function(t){new u(t)}),g=!a&&E(function(){for(var t=new u,e=5;e--;)t[l](e,e);return!t.has(-0)});m||(((u=t(function(t,e){w(t,u,i);var n=x(new o,t,u);return null!=e&&S(e,r,n[l],n),n})).prototype=c).constructor=u),(p||g)&&(s("delete"),s("has"),r&&s("get")),(g||f)&&s(l),a&&c.clear&&delete c.clear}else u=n.getConstructor(t,i,r,l),_(u.prototype,e),T.NEED=!0;return A(u,i),h[i]=u,y(y.G+y.W+y.F*(u!=o),h),a||n.setStrong(u,i,r),u}},{117:117,118:118,124:124,37:37,62:62,64:64,68:68,70:70,75:75,81:81,86:86,94:94}],52:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{18:18}],53:[function(t,e,n){"use strict";var i=t(99),r=t(116);e.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},{116:116,99:99}],54:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{19:19,33:33}],55:[function(t,e,n){"use strict";function r(t){return 9<t?t:"0"+t}var i=t(64),a=Date.prototype.getTime,s=Date.prototype.toISOString;e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!i(function(){s.call(new Date(NaN))})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":9999<e?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+"."+(99<n?n:"0"+r(n))+"Z"}:s},{64:64}],56:[function(t,e,n){"use strict";var i=t(38),r=t(143);e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},{143:143,38:38}],57:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],58:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{20:20,64:64}],59:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{21:21,70:70,81:81}],60:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],61:[function(t,e,n){var o=t(107),u=t(104),l=t(108);e.exports=function(t){var e=o(t),n=u.f;if(n)for(var i,r=n(t),a=l.f,s=0;r.length>s;)a.call(t,i=r[s++])&&e.push(i);return e}},{104:104,107:107,108:108}],62:[function(t,e,n){var m=t(70),g=t(52),v=t(72),y=t(118),b=t(54),_="prototype",T=function(t,e,n){var i,r,a,s,o=t&T.F,u=t&T.G,l=t&T.S,c=t&T.P,h=t&T.B,d=u?m:l?m[e]||(m[e]={}):(m[e]||{})[_],f=u?g:g[e]||(g[e]={}),p=f[_]||(f[_]={});for(i in u&&(n=e),n)a=((r=!o&&d&&void 0!==d[i])?d:n)[i],s=h&&r?b(a,m):c&&"function"==typeof a?b(Function.call,a):a,d&&y(d,i,a,t&T.U),f[i]!=a&&v(f,i,s),c&&p[i]!=a&&(p[i]=a)};m.core=g,T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128,e.exports=T},{118:118,52:52,54:54,70:70,72:72}],63:[function(t,e,n){var i=t(152)("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[i]=!1,!"/./"[e](n)}catch(t){}}return!0}},{152:152}],64:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{23:23}],65:[function(t,e,n){"use strict";t(248);var c=t(118),h=t(72),d=t(64),f=t(57),p=t(152),m=t(120),g=p("species"),v=!d(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),y=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(n,t,e){var i=p(n),a=!d(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),r=a?!d(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[g]=function(){return e}),e[i](""),!t}):void 0;if(!a||!r||"replace"===n&&!v||"split"===n&&!y){var s=/./[i],o=e(f,i,""[n],function(t,e,n,i,r){return e.exec===m?a&&!r?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),u=o[0],l=o[1];c(String.prototype,n,u),h(RegExp.prototype,i,2==t?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}}},{118:118,120:120,152:152,248:248,57:57,64:64,72:72}],66:[function(t,e,n){"use strict";var i=t(38);e.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{38:38}],67:[function(t,e,n){"use strict";var p=t(79),m=t(81),g=t(141),v=t(54),y=t(152)("isConcatSpreadable");e.exports=function t(e,n,i,r,a,s,o,u){for(var l,c,h=a,d=0,f=!!o&&v(o,u,3);d<r;){if(d in i){if(l=f?f(i[d],d,n):i[d],c=!1,m(l)&&(c=void 0!==(c=l[y])?!!c:p(l)),c&&0<s)h=t(e,n,l,g(l.length),h,s-1)-1;else{if(9007199254740991<=h)throw TypeError();e[h]=l}h++}d++}return h}},{141:141,152:152,54:54,79:79,81:81}],68:[function(t,e,n){var d=t(54),f=t(83),p=t(78),m=t(38),g=t(141),v=t(153),y={},b={};(n=e.exports=function(t,e,n,i,r){var a,s,o,u,l=r?function(){return t}:v(t),c=d(n,i,e?2:1),h=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(p(l)){for(a=g(t.length);h<a;h++)if((u=e?c(m(s=t[h])[0],s[1]):c(t[h]))===y||u===b)return u}else for(o=l.call(t);!(s=o.next()).done;)if((u=f(o,c,s.value,e))===y||u===b)return u}).BREAK=y,n.RETURN=b},{141:141,153:153,38:38,54:54,78:78,83:83}],69:[function(t,e,n){e.exports=t(126)("native-function-to-string",Function.toString)},{126:126}],70:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{24:24}],71:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{25:25}],72:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{116:116,26:26,58:58,99:99}],73:[function(t,e,n){var i=t(70).document;e.exports=i&&i.documentElement},{70:70}],74:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{27:27,58:58,59:59,64:64}],75:[function(t,e,n){var a=t(81),s=t(122).set;e.exports=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&a(i)&&s&&s(t,i),t}},{122:122,81:81}],76:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],77:[function(t,e,n){var i=t(48);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{48:48}],78:[function(t,e,n){var i=t(88),r=t(152)("iterator"),a=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},{152:152,88:88}],79:[function(t,e,n){var i=t(48);e.exports=Array.isArray||function(t){return"Array"==i(t)}},{48:48}],80:[function(t,e,n){var i=t(81),r=Math.floor;e.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},{81:81}],81:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{28:28}],82:[function(t,e,n){var i=t(81),r=t(48),a=t(152)("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},{152:152,48:48,81:81}],83:[function(t,e,n){var a=t(38);e.exports=function(t,e,n,i){try{return i?e(a(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&a(r.call(t)),e}}},{38:38}],84:[function(t,e,n){"use strict";var i=t(98),r=t(116),a=t(124),s={};t(72)(s,t(152)("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),a(t,e+" Iterator")}},{116:116,124:124,152:152,72:72,98:98}],85:[function(t,e,n){"use strict";function b(){return this}var _=t(89),T=t(62),S=t(118),w=t(72),C=t(88),E=t(84),k=t(124),A=t(105),x=t(152)("iterator"),P=!([].keys&&"next"in[].keys()),O="values";e.exports=function(t,e,n,i,r,a,s){E(n,e,i);function o(t){if(!P&&t in p)return p[t];switch(t){case"keys":case O:return function(){return new n(this,t)}}return function(){return new n(this,t)}}var u,l,c,h=e+" Iterator",d=r==O,f=!1,p=t.prototype,m=p[x]||p["@@iterator"]||r&&p[r],g=m||o(r),v=r?d?o("entries"):g:void 0,y="Array"==e&&p.entries||m;if(y&&(c=A(y.call(new t)))!==Object.prototype&&c.next&&(k(c,h,!0),_||"function"==typeof c[x]||w(c,x,b)),d&&m&&m.name!==O&&(f=!0,g=function(){return m.call(this)}),_&&!s||!P&&!f&&p[x]||w(p,x,g),C[e]=g,C[h]=b,r)if(u={values:d?g:o(O),keys:a?g:o("keys"),entries:v},s)for(l in u)l in p||S(p,l,u[l]);else T(T.P+T.F*(P||f),e,u);return u}},{105:105,118:118,124:124,152:152,62:62,72:72,84:84,88:88,89:89}],86:[function(t,e,n){var a=t(152)("iterator"),s=!1;try{var i=[7][a]();i.return=function(){s=!0},Array.from(i,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var i=[7],r=i[a]();r.next=function(){return{done:n=!0}},i[a]=function(){return r},t(i)}catch(t){}return n}},{152:152}],87:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],88:[function(t,e,n){e.exports={}},{}],89:[function(t,e,n){e.exports=!1},{}],90:[function(t,e,n){var i=Math.expm1;e.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},{}],91:[function(t,e,n){var a=t(93),i=Math.pow,s=i(2,-52),o=i(2,-23),u=i(2,127)*(2-o),l=i(2,-126);e.exports=Math.fround||function(t){var e,n,i=Math.abs(t),r=a(t);return i<l?r*(i/l/o+1/s-1/s)*l*o:u<(n=(e=(1+o/s)*i)-(e-i))||n!=n?r*(1/0):r*n}},{93:93}],92:[function(t,e,n){e.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],93:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],94:[function(t,e,n){function i(t){o(t,r,{value:{i:"O"+ ++u,w:{}}})}var r=t(147)("meta"),a=t(81),s=t(71),o=t(99).f,u=0,l=Object.isExtensible||function(){return!0},c=!t(64)(function(){return l(Object.preventExtensions({}))}),h=e.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!l(t))return"F";if(!e)return"E";i(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!l(t))return!0;if(!e)return!1;i(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&l(t)&&!s(t,r)&&i(t),t}}},{147:147,64:64,71:71,81:81,99:99}],95:[function(t,e,n){var o=t(70),u=t(136).set,l=o.MutationObserver||o.WebKitMutationObserver,c=o.process,h=o.Promise,d="process"==t(48)(c);e.exports=function(){function t(){var t,e;for(d&&(t=c.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?r():i=void 0,t}}i=void 0,t&&t.enter()}var n,i,r;if(d)r=function(){c.nextTick(t)};else if(!l||o.navigator&&o.navigator.standalone)if(h&&h.resolve){var e=h.resolve(void 0);r=function(){e.then(t)}}else r=function(){u.call(o,t)};else{var a=!0,s=document.createTextNode("");new l(t).observe(s,{characterData:!0}),r=function(){s.data=a=!a}}return function(t){var e={fn:t,next:void 0};i&&(i.next=e),n||(n=e,r()),i=e}}},{136:136,48:48,70:70}],96:[function(t,e,n){"use strict";var r=t(33);function i(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=r(n),this.reject=r(i)}e.exports.f=function(t){return new i(t)}},{33:33}],97:[function(t,e,n){"use strict";var d=t(107),f=t(104),p=t(108),m=t(142),g=t(77),r=Object.assign;e.exports=!r||t(64)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var n=m(t),i=arguments.length,r=1,a=f.f,s=p.f;r<i;)for(var o,u=g(arguments[r++]),l=a?d(u).concat(a(u)):d(u),c=l.length,h=0;h<c;)s.call(u,o=l[h++])&&(n[o]=u[o]);return n}:r},{104:104,107:107,108:108,142:142,64:64,77:77}],98:[function(i,t,e){function r(){}var a=i(38),s=i(100),o=i(60),u=i(125)("IE_PROTO"),l="prototype",c=function(){var t,e=i(59)("iframe"),n=o.length;for(e.style.display="none",i(73).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c[l][o[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(r[l]=a(t),n=new r,r[l]=null,n[u]=t):n=c(),void 0===e?n:s(n,e)}},{100:100,125:125,38:38,59:59,60:60,73:73}],99:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{143:143,29:29,38:38,58:58,74:74}],100:[function(t,e,n){var s=t(99),o=t(38),u=t(107);e.exports=t(58)?Object.defineProperties:function(t,e){o(t);for(var n,i=u(e),r=i.length,a=0;a<r;)s.f(t,n=i[a++],e[n]);return t}},{107:107,38:38,58:58,99:99}],101:[function(t,e,n){var i=t(108),r=t(116),a=t(140),s=t(143),o=t(71),u=t(74),l=Object.getOwnPropertyDescriptor;n.f=t(58)?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(o(t,e))return r(!i.f.call(t,e),t[e])}},{108:108,116:116,140:140,143:143,58:58,71:71,74:74}],102:[function(t,e,n){var i=t(140),r=t(103).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},{103:103,140:140}],103:[function(t,e,n){var i=t(106),r=t(60).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{106:106,60:60}],104:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],105:[function(t,e,n){var i=t(71),r=t(142),a=t(125)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{125:125,142:142,71:71}],106:[function(t,e,n){var s=t(71),o=t(140),u=t(41)(!1),l=t(125)("IE_PROTO");e.exports=function(t,e){var n,i=o(t),r=0,a=[];for(n in i)n!=l&&s(i,n)&&a.push(n);for(;e.length>r;)s(i,n=e[r++])&&(~u(a,n)||a.push(n));return a}},{125:125,140:140,41:41,71:71}],107:[function(t,e,n){var i=t(106),r=t(60);e.exports=Object.keys||function(t){return i(t,r)}},{106:106,60:60}],108:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],109:[function(t,e,n){var r=t(62),a=t(52),s=t(64);e.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},{52:52,62:62,64:64}],110:[function(t,e,n){var u=t(107),l=t(140),c=t(108).f;e.exports=function(o){return function(t){for(var e,n=l(t),i=u(n),r=i.length,a=0,s=[];a<r;)c.call(n,e=i[a++])&&s.push(o?[e,n[e]]:n[e]);return s}}},{107:107,108:108,140:140}],111:[function(t,e,n){var i=t(103),r=t(104),a=t(38),s=t(70).Reflect;e.exports=s&&s.ownKeys||function(t){var e=i.f(a(t)),n=r.f;return n?e.concat(n(t)):e}},{103:103,104:104,38:38,70:70}],112:[function(t,e,n){var i=t(70).parseFloat,r=t(134).trim;e.exports=1/i(t(135)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},{134:134,135:135,70:70}],113:[function(t,e,n){var i=t(70).parseInt,r=t(134).trim,a=t(135),s=/^[-+]?0[xX]/;e.exports=8!==i(a+"08")||22!==i(a+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},{134:134,135:135,70:70}],114:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],115:[function(t,e,n){var i=t(38),r=t(81),a=t(96);e.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},{38:38,81:81,96:96}],116:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{30:30}],117:[function(t,e,n){var r=t(118);e.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},{118:118}],118:[function(t,e,n){var a=t(70),s=t(72),o=t(71),u=t(147)("src"),i=t(69),l=(""+i).split("toString");t(52).inspectSource=function(t){return i.call(t)},(e.exports=function(t,e,n,i){var r="function"==typeof n;r&&(o(n,"name")||s(n,"name",e)),t[e]!==n&&(r&&(o(n,u)||s(n,u,t[e]?""+t[e]:l.join(String(e)))),t===a?t[e]=n:i?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||i.call(this)})},{147:147,52:52,69:69,70:70,71:71,72:72}],119:[function(t,e,n){"use strict";var r=t(47),a=RegExp.prototype.exec;e.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},{47:47}],120:[function(t,e,n){"use strict";var i,r,a=t(66),s=RegExp.prototype.exec,o=String.prototype.replace,u=s,l="lastIndex",c=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i[l]||0!==r[l]),h=void 0!==/()??/.exec("")[1];(c||h)&&(u=function(t){var e,n,i,r;return h&&(n=new RegExp("^"+this.source+"$(?!\\s)",a.call(this))),c&&(e=this[l]),i=s.call(this,t),c&&i&&(this[l]=this.global?i.index+i[0].length:e),h&&i&&1<i.length&&o.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),e.exports=u},{66:66}],121:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],122:[function(e,t,n){function r(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var i=e(81),a=e(38);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=e(54)(Function.call,e(101).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return r(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:r}},{101:101,38:38,54:54,81:81}],123:[function(t,e,n){"use strict";var i=t(70),r=t(99),a=t(58),s=t(152)("species");e.exports=function(t){var e=i[t];a&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},{152:152,58:58,70:70,99:99}],124:[function(t,e,n){var i=t(99).f,r=t(71),a=t(152)("toStringTag");e.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},{152:152,71:71,99:99}],125:[function(t,e,n){var i=t(126)("keys"),r=t(147);e.exports=function(t){return i[t]||(i[t]=r(t))}},{126:126,147:147}],126:[function(t,e,n){var i=t(52),r=t(70),a="__core-js_shared__",s=r[a]||(r[a]={});(e.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:t(89)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},{52:52,70:70,89:89}],127:[function(t,e,n){var r=t(38),a=t(33),s=t(152)("species");e.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||null==(n=r(i)[s])?e:a(n)}},{152:152,33:33,38:38}],128:[function(t,e,n){"use strict";var i=t(64);e.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},{64:64}],129:[function(t,e,n){var u=t(139),l=t(57);e.exports=function(o){return function(t,e){var n,i,r=String(l(t)),a=u(e),s=r.length;return a<0||s<=a?o?"":void 0:(n=r.charCodeAt(a))<55296||56319<n||a+1===s||(i=r.charCodeAt(a+1))<56320||57343<i?o?r.charAt(a):n:o?r.slice(a,a+2):i-56320+(n-55296<<10)+65536}}},{139:139,57:57}],130:[function(t,e,n){var i=t(82),r=t(57);e.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},{57:57,82:82}],131:[function(t,e,n){function i(t,e,n,i){var r=String(s(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),a+">"+r+"</"+e+">"}var r=t(62),a=t(64),s=t(57),o=/"/g;e.exports=function(e,t){var n={};n[e]=t(i),r(r.P+r.F*a(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},{57:57,62:62,64:64}],132:[function(t,e,n){var c=t(141),h=t(133),d=t(57);e.exports=function(t,e,n,i){var r=String(d(t)),a=r.length,s=void 0===n?" ":String(n),o=c(e);if(o<=a||""==s)return r;var u=o-a,l=h.call(s,Math.ceil(u/s.length));return l.length>u&&(l=l.slice(0,u)),i?l+r:r+l}},{133:133,141:141,57:57}],133:[function(t,e,n){"use strict";var r=t(139),a=t(57);e.exports=function(t){var e=String(a(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},{139:139,57:57}],134:[function(t,e,n){function i(t,e,n){var i={},r=o(function(){return!!u[t]()||"âÂ"!="âÂ"[t]()}),a=i[t]=r?e(h):u[t];n&&(i[n]=a),s(s.P+s.F*r,"String",i)}var s=t(62),r=t(57),o=t(64),u=t(135),a="["+u+"]",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=i.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};e.exports=i},{135:135,57:57,62:62,64:64}],135:[function(t,e,n){e.exports="\t\n\v\f\r  áá ââââââââââââ¯âã\u2028\u2029\ufeff"},{}],136:[function(t,e,n){function i(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}}function r(t){i.call(t.data)}var a,s,o,u=t(54),l=t(76),c=t(73),h=t(59),d=t(70),f=d.process,p=d.setImmediate,m=d.clearImmediate,g=d.MessageChannel,v=d.Dispatch,y=0,b={},_="onreadystatechange";p&&m||(p=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return b[++y]=function(){l("function"==typeof t?t:Function(t),e)},a(y),y},m=function(t){delete b[t]},"process"==t(48)(f)?a=function(t){f.nextTick(u(i,t,1))}:v&&v.now?a=function(t){v.now(u(i,t,1))}:g?(o=(s=new g).port2,s.port1.onmessage=r,a=u(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(a=function(t){d.postMessage(t+"","*")},d.addEventListener("message",r,!1)):a=_ in h("script")?function(t){c.appendChild(h("script"))[_]=function(){c.removeChild(this),i.call(t)}}:function(t){setTimeout(u(i,t,1),0)}),e.exports={set:p,clear:m}},{48:48,54:54,59:59,70:70,73:73,76:76}],137:[function(t,e,n){var i=t(139),r=Math.max,a=Math.min;e.exports=function(t,e){return(t=i(t))<0?r(t+e,0):a(t,e)}},{139:139}],138:[function(t,e,n){var i=t(139),r=t(141);e.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},{139:139,141:141}],139:[function(t,e,n){var i=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?r:i)(t)}},{}],140:[function(t,e,n){var i=t(77),r=t(57);e.exports=function(t){return i(r(t))}},{57:57,77:77}],141:[function(t,e,n){var i=t(139),r=Math.min;e.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},{139:139}],142:[function(t,e,n){var i=t(57);e.exports=function(t){return Object(i(t))}},{57:57}],143:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{31:31,81:81}],144:[function(t,e,n){"use strict";if(t(58)){var v=t(89),y=t(70),b=t(64),_=t(62),T=t(146),i=t(145),p=t(54),S=t(37),r=t(116),w=t(72),a=t(117),s=t(139),C=t(141),E=t(138),o=t(137),u=t(143),l=t(71),k=t(47),A=t(81),m=t(142),g=t(78),x=t(98),P=t(105),O=t(103).f,I=t(153),c=t(147),h=t(152),d=t(42),f=t(41),$=t(127),M=t(164),D=t(88),L=t(86),U=t(123),R=t(40),B=t(39),N=t(99),H=t(101),j=N.f,F=H.f,G=y.RangeError,V=y.TypeError,q=y.Uint8Array,W="ArrayBuffer",z="Shared"+W,X="BYTES_PER_ELEMENT",K="prototype",Y=Array[K],Q=i.ArrayBuffer,J=i.DataView,Z=d(0),tt=d(2),et=d(3),nt=d(4),it=d(5),rt=d(6),at=f(!0),st=f(!1),ot=M.values,ut=M.keys,lt=M.entries,ct=Y.lastIndexOf,ht=Y.reduce,dt=Y.reduceRight,ft=Y.join,pt=Y.sort,mt=Y.slice,gt=Y.toString,vt=Y.toLocaleString,yt=h("iterator"),bt=h("toStringTag"),_t=c("typed_constructor"),Tt=c("def_constructor"),St=T.CONSTR,wt=T.TYPED,Ct=T.VIEW,Et="Wrong length!",kt=d(1,function(t,e){return It($(t,t[Tt]),e)}),At=b(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),xt=!!q&&!!q[K].set&&b(function(){new q(1).set({})}),Pt=function(t,e){var n=s(t);if(n<0||n%e)throw G("Wrong offset!");return n},Ot=function(t){if(A(t)&&wt in t)return t;throw V(t+" is not a typed array!")},It=function(t,e){if(!(A(t)&&_t in t))throw V("It is not a typed array constructor!");return new t(e)},$t=function(t,e){return Mt($(t,t[Tt]),e)},Mt=function(t,e){for(var n=0,i=e.length,r=It(t,i);n<i;)r[n]=e[n++];return r},Dt=function(t,e,n){j(t,e,{get:function(){return this._d[n]}})},Lt=function(t,e,n){var i,r,a,s,o,u,l=m(t),c=arguments.length,h=1<c?e:void 0,d=void 0!==h,f=I(l);if(null!=f&&!g(f)){for(u=f.call(l),a=[],i=0;!(o=u.next()).done;i++)a.push(o.value);l=a}for(d&&2<c&&(h=p(h,n,2)),i=0,r=C(l.length),s=It(this,r);i<r;i++)s[i]=d?h(l[i],i):l[i];return s},Ut=function(){for(var t=0,e=arguments.length,n=It(this,e);t<e;)n[t]=arguments[t++];return n},Rt=!!q&&b(function(){vt.call(new q(1))}),Bt=function(){return vt.apply(Rt?mt.call(Ot(this)):Ot(this),arguments)},Nt={copyWithin:function(t,e,n){return B.call(Ot(this),t,e,2<arguments.length?n:void 0)},every:function(t,e){return nt(Ot(this),t,1<arguments.length?e:void 0)},fill:function(t){return R.apply(Ot(this),arguments)},filter:function(t,e){return $t(this,tt(Ot(this),t,1<arguments.length?e:void 0))},find:function(t,e){return it(Ot(this),t,1<arguments.length?e:void 0)},findIndex:function(t,e){return rt(Ot(this),t,1<arguments.length?e:void 0)},forEach:function(t,e){Z(Ot(this),t,1<arguments.length?e:void 0)},indexOf:function(t,e){return st(Ot(this),t,1<arguments.length?e:void 0)},includes:function(t,e){return at(Ot(this),t,1<arguments.length?e:void 0)},join:function(t){return ft.apply(Ot(this),arguments)},lastIndexOf:function(t){return ct.apply(Ot(this),arguments)},map:function(t,e){return kt(Ot(this),t,1<arguments.length?e:void 0)},reduce:function(t){return ht.apply(Ot(this),arguments)},reduceRight:function(t){return dt.apply(Ot(this),arguments)},reverse:function(){for(var t,e=Ot(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t,e){return et(Ot(this),t,1<arguments.length?e:void 0)},sort:function(t){return pt.call(Ot(this),t)},subarray:function(t,e){var n=Ot(this),i=n.length,r=o(t,i);return new($(n,n[Tt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,C((void 0===e?i:o(e,i))-r))}},Ht=function(t,e){return $t(this,mt.call(Ot(this),t,e))},jt=function(t,e){Ot(this);var n=Pt(e,1),i=this.length,r=m(t),a=C(r.length),s=0;if(i<a+n)throw G(Et);for(;s<a;)this[n+s]=r[s++]},Ft={entries:function(){return lt.call(Ot(this))},keys:function(){return ut.call(Ot(this))},values:function(){return ot.call(Ot(this))}},Gt=function(t,e){return A(t)&&t[wt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function(t,e){return Gt(t,e=u(e,!0))?r(2,t[e]):F(t,e)},qt=function(t,e,n){return!(Gt(t,e=u(e,!0))&&A(n)&&l(n,"value"))||l(n,"get")||l(n,"set")||n.configurable||l(n,"writable")&&!n.writable||l(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};St||(H.f=Vt,N.f=qt),_(_.S+_.F*!St,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:qt}),b(function(){gt.call({})})&&(gt=vt=function(){return ft.call(this)});var Wt=a({},Nt);a(Wt,Ft),w(Wt,yt,Ft.values),a(Wt,{slice:Ht,set:jt,constructor:function(){},toString:gt,toLocaleString:Bt}),Dt(Wt,"buffer","b"),Dt(Wt,"byteOffset","o"),Dt(Wt,"byteLength","l"),Dt(Wt,"length","e"),j(Wt,bt,{get:function(){return this[wt]}}),e.exports=function(t,h,e,a){function d(t,r){j(t,r,{get:function(){return(t=this._d).v[n](r*h+t.o,At);var t},set:function(t){return e=r,n=t,i=this._d,a&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),void i.v[s](e*h+i.o,n,At);var e,n,i},enumerable:!0})}var f=t+((a=!!a)?"Clamped":"")+"Array",n="get"+t,s="set"+t,p=y[f],o=p||{},i=p&&P(p),r=!p||!T.ABV,u={},l=p&&p[K];r?(p=e(function(t,e,n,i){S(t,p,f,"_d");var r,a,s,o,u=0,l=0;if(A(e)){if(!(e instanceof Q||(o=k(e))==W||o==z))return wt in e?Mt(p,e):Lt.call(p,e);r=e,l=Pt(n,h);var c=e.byteLength;if(void 0===i){if(c%h)throw G(Et);if((a=c-l)<0)throw G(Et)}else if(c<(a=C(i)*h)+l)throw G(Et);s=a/h}else s=E(e),r=new Q(a=s*h);for(w(t,"_d",{b:r,o:l,l:a,e:s,v:new J(r)});u<s;)d(t,u++)}),l=p[K]=x(Wt),w(l,"constructor",p)):b(function(){p(1)})&&b(function(){new p(-1)})&&L(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=e(function(t,e,n,i){var r;return S(t,p,f),A(e)?e instanceof Q||(r=k(e))==W||r==z?void 0!==i?new o(e,Pt(n,h),i):void 0!==n?new o(e,Pt(n,h)):new o(e):wt in e?Mt(p,e):Lt.call(p,e):new o(E(e))}),Z(i!==Function.prototype?O(o).concat(O(i)):O(o),function(t){t in p||w(p,t,o[t])}),p[K]=l,v||(l.constructor=p));var c=l[yt],m=!!c&&("values"==c.name||null==c.name),g=Ft.values;w(p,_t,!0),w(l,wt,f),w(l,Ct,!0),w(l,Tt,p),(a?new p(1)[bt]==f:bt in l)||j(l,bt,{get:function(){return f}}),u[f]=p,_(_.G+_.W+_.F*(p!=o),u),_(_.S,f,{BYTES_PER_ELEMENT:h}),_(_.S+_.F*b(function(){o.of.call(p,1)}),f,{from:Lt,of:Ut}),X in l||w(l,X,h),_(_.P,f,Nt),U(f),_(_.P+_.F*xt,f,{set:jt}),_(_.P+_.F*!m,f,Ft),v||l.toString==gt||(l.toString=gt),_(_.P+_.F*b(function(){new p(1).slice()}),f,{slice:Ht}),_(_.P+_.F*(b(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!b(function(){l.toLocaleString.call([1,2])})),f,{toLocaleString:Bt}),D[f]=m?c:g,v||m||w(l,yt,g)}}else e.exports=function(){}},{101:101,103:103,105:105,116:116,117:117,123:123,127:127,137:137,138:138,139:139,141:141,142:142,143:143,145:145,146:146,147:147,152:152,153:153,164:164,37:37,39:39,40:40,41:41,42:42,47:47,54:54,58:58,62:62,64:64,70:70,71:71,72:72,78:78,81:81,86:86,88:88,89:89,98:98,99:99}],145:[function(t,e,n){"use strict";var i=t(70),r=t(58),a=t(89),s=t(146),o=t(72),u=t(117),l=t(64),c=t(37),h=t(139),d=t(141),f=t(138),p=t(103).f,m=t(99).f,g=t(40),v=t(124),y="ArrayBuffer",b="DataView",_="prototype",T="Wrong index!",S=i[y],w=i[b],C=i.Math,E=i.RangeError,k=i.Infinity,A=S,x=C.abs,P=C.pow,O=C.floor,I=C.log,$=C.LN2,M="byteLength",D="byteOffset",L=r?"_b":"buffer",U=r?"_l":M,R=r?"_o":D;function B(t,e,n){var i,r,a,s=new Array(n),o=8*n-e-1,u=(1<<o)-1,l=u>>1,c=23===e?P(2,-24)-P(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=x(t))!=t||t===k?(r=t!=t?1:0,i=u):(i=O(I(t)/$),t*(a=P(2,-i))<1&&(i--,a*=2),2<=(t+=1<=i+l?c/a:c*P(2,1-l))*a&&(i++,a/=2),u<=i+l?(r=0,i=u):1<=i+l?(r=(t*a-1)*P(2,e),i+=l):(r=t*P(2,l-1)*P(2,e),i=0));8<=e;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,o+=e;0<o;s[h++]=255&i,i/=256,o-=8);return s[--h]|=128*d,s}function N(t,e,n){var i,r=8*n-e-1,a=(1<<r)-1,s=a>>1,o=r-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;0<o;c=256*c+t[u],u--,o-=8);for(i=c&(1<<-o)-1,c>>=-o,o+=e;0<o;i=256*i+t[u],u--,o-=8);if(0===c)c=1-s;else{if(c===a)return i?NaN:l?-k:k;i+=P(2,e),c-=s}return(l?-1:1)*i*P(2,c-e)}function H(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function j(t){return[255&t]}function F(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function V(t){return B(t,52,8)}function q(t){return B(t,23,4)}function W(t,e,n){m(t[_],e,{get:function(){return this[n]}})}function z(t,e,n,i){var r=f(+n);if(r+e>t[U])throw E(T);var a=t[L]._b,s=r+t[R],o=a.slice(s,s+e);return i?o:o.reverse()}function X(t,e,n,i,r,a){var s=f(+n);if(s+e>t[U])throw E(T);for(var o=t[L]._b,u=s+t[R],l=i(+r),c=0;c<e;c++)o[u+c]=l[a?c:e-c-1]}if(s.ABV){if(!l(function(){S(1)})||!l(function(){new S(-1)})||l(function(){return new S,new S(1.5),new S(NaN),S.name!=y})){for(var K,Y=(S=function(t){return c(this,S),new A(f(t))})[_]=A[_],Q=p(A),J=0;Q.length>J;)(K=Q[J++])in S||o(S,K,A[K]);a||(Y.constructor=S)}var Z=new w(new S(2)),tt=w[_].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(w[_],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else S=function(t){c(this,S,y);var e=f(t);this._b=g.call(new Array(e),0),this[U]=e},w=function(t,e,n){c(this,w,b),c(t,S,b);var i=t[U],r=h(e);if(r<0||i<r)throw E("Wrong offset!");if(i<r+(n=void 0===n?i-r:d(n)))throw E("Wrong length!");this[L]=t,this[R]=r,this[U]=n},r&&(W(S,M,"_l"),W(w,"buffer","_b"),W(w,M,"_l"),W(w,D,"_o")),u(w[_],{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t,e){var n=z(this,2,t,e);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t,e){var n=z(this,2,t,e);return n[1]<<8|n[0]},getInt32:function(t,e){return H(z(this,4,t,e))},getUint32:function(t,e){return H(z(this,4,t,e))>>>0},getFloat32:function(t,e){return N(z(this,4,t,e),23,4)},getFloat64:function(t,e){return N(z(this,8,t,e),52,8)},setInt8:function(t,e){X(this,1,t,j,e)},setUint8:function(t,e){X(this,1,t,j,e)},setInt16:function(t,e,n){X(this,2,t,F,e,n)},setUint16:function(t,e,n){X(this,2,t,F,e,n)},setInt32:function(t,e,n){X(this,4,t,G,e,n)},setUint32:function(t,e,n){X(this,4,t,G,e,n)},setFloat32:function(t,e,n){X(this,4,t,q,e,n)},setFloat64:function(t,e,n){X(this,8,t,V,e,n)}});v(S,y),v(w,b),o(w[_],s.VIEW,!0),n[y]=S,n[b]=w},{103:103,117:117,124:124,138:138,139:139,141:141,146:146,37:37,40:40,58:58,64:64,70:70,72:72,89:89,99:99}],146:[function(t,e,n){for(var i,r=t(70),a=t(72),s=t(147),o=s("typed_array"),u=s("view"),l=!(!r.ArrayBuffer||!r.DataView),c=l,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[d[h++]])?(a(i.prototype,o,!0),a(i.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:o,VIEW:u}},{147:147,70:70,72:72}],147:[function(t,e,n){var i=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},{}],148:[function(t,e,n){var i=t(70).navigator;e.exports=i&&i.userAgent||""},{70:70}],149:[function(t,e,n){var i=t(81);e.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{81:81}],150:[function(t,e,n){var i=t(70),r=t(52),a=t(89),s=t(151),o=t(99).f;e.exports=function(t){var e=r.Symbol||(r.Symbol=!a&&i.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:s.f(t)})}},{151:151,52:52,70:70,89:89,99:99}],151:[function(t,e,n){n.f=t(152)},{152:152}],152:[function(t,e,n){var i=t(126)("wks"),r=t(147),a=t(70).Symbol,s="function"==typeof a;(e.exports=function(t){return i[t]||(i[t]=s&&a[t]||(s?a:r)("Symbol."+t))}).store=i},{126:126,147:147,70:70}],153:[function(t,e,n){var i=t(47),r=t(152)("iterator"),a=t(88);e.exports=t(52).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||a[i(t)]}},{152:152,47:47,52:52,88:88}],154:[function(t,e,n){var i=t(62);i(i.P,"Array",{copyWithin:t(39)}),t(35)("copyWithin")},{35:35,39:39,62:62}],155:[function(t,e,n){"use strict";var i=t(62),r=t(42)(4);i(i.P+i.F*!t(128)([].every,!0),"Array",{every:function(t,e){return r(this,t,e)}})},{128:128,42:42,62:62}],156:[function(t,e,n){var i=t(62);i(i.P,"Array",{fill:t(40)}),t(35)("fill")},{35:35,40:40,62:62}],157:[function(t,e,n){"use strict";var i=t(62),r=t(42)(2);i(i.P+i.F*!t(128)([].filter,!0),"Array",{filter:function(t,e){return r(this,t,e)}})},{128:128,42:42,62:62}],158:[function(t,e,n){"use strict";var i=t(62),r=t(42)(6),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t(35)(a)},{35:35,42:42,62:62}],159:[function(t,e,n){"use strict";var i=t(62),r=t(42)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t(35)("find")},{35:35,42:42,62:62}],160:[function(t,e,n){"use strict";var i=t(62),r=t(42)(0),a=t(128)([].forEach,!0);i(i.P+i.F*!a,"Array",{forEach:function(t,e){return r(this,t,e)}})},{128:128,42:42,62:62}],161:[function(t,e,n){"use strict";var p=t(54),i=t(62),m=t(142),g=t(83),v=t(78),y=t(141),b=t(53),_=t(153);i(i.S+i.F*!t(86)(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var i,r,a,s,o=m(t),u="function"==typeof this?this:Array,l=arguments.length,c=1<l?e:void 0,h=void 0!==c,d=0,f=_(o);if(h&&(c=p(c,2<l?n:void 0,2)),null==f||u==Array&&v(f))for(r=new u(i=y(o.length));d<i;d++)b(r,d,h?c(o[d],d):o[d]);else for(s=f.call(o),r=new u;!(a=s.next()).done;d++)b(r,d,h?g(s,c,[a.value,d],!0):a.value);return r.length=d,r}})},{141:141,142:142,153:153,53:53,54:54,62:62,78:78,83:83,86:86}],162:[function(t,e,n){"use strict";var i=t(62),r=t(41)(!1),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!t(128)(a)),"Array",{indexOf:function(t,e){return s?a.apply(this,arguments)||0:r(this,t,e)}})},{128:128,41:41,62:62}],163:[function(t,e,n){var i=t(62);i(i.S,"Array",{isArray:t(79)})},{62:62,79:79}],164:[function(t,e,n){"use strict";var i=t(35),r=t(87),a=t(88),s=t(140);e.exports=t(85)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},{140:140,35:35,85:85,87:87,88:88}],165:[function(t,e,n){"use strict";var i=t(62),r=t(140),a=[].join;i(i.P+i.F*(t(77)!=Object||!t(128)(a)),"Array",{join:function(t){return a.call(r(this),void 0===t?",":t)}})},{128:128,140:140,62:62,77:77}],166:[function(t,e,n){"use strict";var i=t(62),a=t(140),s=t(139),o=t(141),u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!t(128)(u)),"Array",{lastIndexOf:function(t,e){if(l)return u.apply(this,arguments)||0;var n=a(this),i=o(n.length),r=i-1;for(1<arguments.length&&(r=Math.min(r,s(e))),r<0&&(r=i+r);0<=r;r--)if(r in n&&n[r]===t)return r||0;return-1}})},{128:128,139:139,140:140,141:141,62:62}],167:[function(t,e,n){"use strict";var i=t(62),r=t(42)(1);i(i.P+i.F*!t(128)([].map,!0),"Array",{map:function(t,e){return r(this,t,e)}})},{128:128,42:42,62:62}],168:[function(t,e,n){"use strict";var i=t(62),r=t(53);i(i.S+i.F*t(64)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)r(n,t,arguments[t++]);return n.length=e,n}})},{53:53,62:62,64:64}],169:[function(t,e,n){"use strict";var i=t(62),r=t(43);i(i.P+i.F*!t(128)([].reduceRight,!0),"Array",{reduceRight:function(t,e){return r(this,t,arguments.length,e,!0)}})},{128:128,43:43,62:62}],170:[function(t,e,n){"use strict";var i=t(62),r=t(43);i(i.P+i.F*!t(128)([].reduce,!0),"Array",{reduce:function(t,e){return r(this,t,arguments.length,e,!1)}})},{128:128,43:43,62:62}],171:[function(t,e,n){"use strict";var i=t(62),r=t(73),l=t(48),c=t(137),h=t(141),d=[].slice;i(i.P+i.F*t(64)(function(){r&&d.call(r)}),"Array",{slice:function(t,e){var n=h(this.length),i=l(this);if(e=void 0===e?n:e,"Array"==i)return d.call(this,t,e);for(var r=c(t,n),a=c(e,n),s=h(a-r),o=new Array(s),u=0;u<s;u++)o[u]="String"==i?this.charAt(r+u):this[r+u];return o}})},{137:137,141:141,48:48,62:62,64:64,73:73}],172:[function(t,e,n){"use strict";var i=t(62),r=t(42)(3);i(i.P+i.F*!t(128)([].some,!0),"Array",{some:function(t,e){return r(this,t,e)}})},{128:128,42:42,62:62}],173:[function(t,e,n){"use strict";var i=t(62),r=t(33),a=t(142),s=t(64),o=[].sort,u=[1,2,3];i(i.P+i.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!t(128)(o)),"Array",{sort:function(t){return void 0===t?o.call(a(this)):o.call(a(this),r(t))}})},{128:128,142:142,33:33,62:62,64:64}],174:[function(t,e,n){t(123)("Array")},{123:123}],175:[function(t,e,n){var i=t(62);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{62:62}],176:[function(t,e,n){var i=t(62),r=t(55);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{55:55,62:62}],177:[function(t,e,n){"use strict";var i=t(62),r=t(142),a=t(143);i(i.P+i.F*t(64)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var t=r(this),e=a(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}})},{142:142,143:143,62:62,64:64}],178:[function(t,e,n){var i=t(152)("toPrimitive"),r=Date.prototype;i in r||t(72)(r,i,t(56))},{152:152,56:56,72:72}],179:[function(t,e,n){var i=Date.prototype,r="Invalid Date",a=i.toString,s=i.getTime;new Date(NaN)+""!=r&&t(118)(i,"toString",function(){var t=s.call(this);return t==t?a.call(this):r})},{118:118}],180:[function(t,e,n){var i=t(62);i(i.P,"Function",{bind:t(46)})},{46:46,62:62}],181:[function(t,e,n){"use strict";var i=t(81),r=t(105),a=t(152)("hasInstance"),s=Function.prototype;a in s||t(99).f(s,a,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},{105:105,152:152,81:81,99:99}],182:[function(t,e,n){var i=t(99).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||t(58)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},{58:58,99:99}],183:[function(t,e,n){"use strict";var i=t(49),r=t(149);e.exports=t(51)("Map",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},{149:149,49:49,51:51}],184:[function(t,e,n){var i=t(62),r=t(92),a=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+a(t-1)*a(t+1))}})},{62:62,92:92}],185:[function(t,e,n){var i=t(62),r=Math.asinh;i(i.S+i.F*!(r&&0<1/r(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{62:62}],186:[function(t,e,n){var i=t(62),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{62:62}],187:[function(t,e,n){var i=t(62),r=t(93);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{62:62,93:93}],188:[function(t,e,n){var i=t(62);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{62:62}],189:[function(t,e,n){var i=t(62),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{62:62}],190:[function(t,e,n){var i=t(62),r=t(90);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},{62:62,90:90}],191:[function(t,e,n){var i=t(62);i(i.S,"Math",{fround:t(91)})},{62:62,91:91}],192:[function(t,e,n){var i=t(62),u=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,r=0,a=0,s=arguments.length,o=0;a<s;)o<(n=u(arguments[a++]))?(r=r*(i=o/n)*i+1,o=n):r+=0<n?(i=n/o)*i:n;return o===1/0?1/0:o*Math.sqrt(r)}})},{62:62}],193:[function(t,e,n){var i=t(62),r=Math.imul;i(i.S+i.F*t(64)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,a=65535&i;return 0|r*a+((65535&n>>>16)*a+r*(65535&i>>>16)<<16>>>0)}})},{62:62,64:64}],194:[function(t,e,n){var i=t(62);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{62:62}],195:[function(t,e,n){var i=t(62);i(i.S,"Math",{log1p:t(92)})},{62:62,92:92}],196:[function(t,e,n){var i=t(62);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{62:62}],197:[function(t,e,n){var i=t(62);i(i.S,"Math",{sign:t(93)})},{62:62,93:93}],198:[function(t,e,n){var i=t(62),r=t(90),a=Math.exp;i(i.S+i.F*t(64)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},{62:62,64:64,90:90}],199:[function(t,e,n){var i=t(62),r=t(90),a=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(a(t)+a(-t))}})},{62:62,90:90}],200:[function(t,e,n){var i=t(62);i(i.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},{62:62}],201:[function(t,e,n){"use strict";function i(t){var e=c(t,!1);if("string"==typeof e&&2<e.length){var n,i,r,a=(e=b?e.trim():f(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,o=e.slice(2),u=0,l=o.length;u<l;u++)if((s=o.charCodeAt(u))<48||r<s)return NaN;return parseInt(o,i)}}return+e}var r=t(70),a=t(71),s=t(48),o=t(75),c=t(143),u=t(64),l=t(103).f,h=t(101).f,d=t(99).f,f=t(134).trim,p="Number",m=r[p],g=m,v=m.prototype,y=s(t(98)(v))==p,b="trim"in String.prototype;if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(y?u(function(){v.valueOf.call(n)}):s(n)!=p)?o(new g(i(e)),n,m):i(e)};for(var _,T=t(58)?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;T.length>S;S++)a(g,_=T[S])&&!a(m,_)&&d(m,_,h(g,_));(m.prototype=v).constructor=m,t(118)(r,p,m)}},{101:101,103:103,118:118,134:134,143:143,48:48,58:58,64:64,70:70,71:71,75:75,98:98,99:99}],202:[function(t,e,n){var i=t(62);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{62:62}],203:[function(t,e,n){var i=t(62),r=t(70).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{62:62,70:70}],204:[function(t,e,n){var i=t(62);i(i.S,"Number",{isInteger:t(80)})},{62:62,80:80}],205:[function(t,e,n){var i=t(62);i(i.S,"Number",{isNaN:function(t){return t!=t}})},{62:62}],206:[function(t,e,n){var i=t(62),r=t(80),a=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&a(t)<=9007199254740991}})},{62:62,80:80}],207:[function(t,e,n){var i=t(62);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{62:62}],208:[function(t,e,n){var i=t(62);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{62:62}],209:[function(t,e,n){var i=t(62),r=t(112);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{112:112,62:62}],210:[function(t,e,n){var i=t(62),r=t(113);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},{113:113,62:62}],211:[function(t,e,n){"use strict";function l(t,e){for(var n=-1,i=e;++n<6;)i+=t*s[n],s[n]=i%1e7,i=a(i/1e7)}function c(t){for(var e=6,n=0;0<=--e;)n+=s[e],s[e]=a(n/t),n=n%t*1e7}function h(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+p.call("0",7-n.length)+n}return e}var i=t(62),d=t(139),f=t(34),p=t(133),r=1..toFixed,a=Math.floor,s=[0,0,0,0,0,0],m="Number.toFixed: incorrect invocation!",g=function(t,e,n){return 0===e?n:e%2==1?g(t,e-1,n*t):g(t*t,e/2,n)};i(i.P+i.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(64)(function(){r.call({})})),"Number",{toFixed:function(t){var e,n,i,r,a=f(this,m),s=d(t),o="",u="0";if(s<0||20<s)throw RangeError(m);if(a!=a)return"NaN";if(a<=-1e21||1e21<=a)return String(a);if(a<0&&(o="-",a=-a),1e-21<a)if(n=(e=function(){for(var t=0,e=a*g(2,69,1);4096<=e;)t+=12,e/=4096;for(;2<=e;)t+=1,e/=2;return t}()-69)<0?a*g(2,-e,1):a/g(2,e,1),n*=4503599627370496,0<(e=52-e)){for(l(0,n),i=s;7<=i;)l(1e7,0),i-=7;for(l(g(10,i,1),0),i=e-1;23<=i;)c(1<<23),i-=23;c(1<<i),l(1,1),c(2),u=h()}else l(0,n),l(1<<-e,0),u=h()+p.call("0",s);return 0<s?o+((r=u.length)<=s?"0."+p.call("0",s-r)+u:u.slice(0,r-s)+"."+u.slice(r-s)):o+u}})},{133:133,139:139,34:34,62:62,64:64}],212:[function(t,e,n){"use strict";var i=t(62),r=t(64),a=t(34),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},{34:34,62:62,64:64}],213:[function(t,e,n){var i=t(62);i(i.S+i.F,"Object",{assign:t(97)})},{62:62,97:97}],214:[function(t,e,n){var i=t(62);i(i.S,"Object",{create:t(98)})},{62:62,98:98}],215:[function(t,e,n){var i=t(62);i(i.S+i.F*!t(58),"Object",{defineProperties:t(100)})},{100:100,58:58,62:62}],216:[function(t,e,n){var i=t(62);i(i.S+i.F*!t(58),"Object",{defineProperty:t(99).f})},{58:58,62:62,99:99}],217:[function(t,e,n){var i=t(81),r=t(94).onFreeze;t(109)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{109:109,81:81,94:94}],218:[function(t,e,n){var i=t(140),r=t(101).f;t(109)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},{101:101,109:109,140:140}],219:[function(t,e,n){t(109)("getOwnPropertyNames",function(){return t(102).f})},{102:102,109:109}],220:[function(t,e,n){var i=t(142),r=t(105);t(109)("getPrototypeOf",function(){return function(t){return r(i(t))}})},{105:105,109:109,142:142}],221:[function(t,e,n){var i=t(81);t(109)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},{109:109,81:81}],222:[function(t,e,n){var i=t(81);t(109)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{109:109,81:81}],223:[function(t,e,n){var i=t(81);t(109)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{109:109,81:81}],224:[function(t,e,n){var i=t(62);i(i.S,"Object",{is:t(121)})},{121:121,62:62}],225:[function(t,e,n){var i=t(142),r=t(107);t(109)("keys",function(){return function(t){return r(i(t))}})},{107:107,109:109,142:142}],226:[function(t,e,n){var i=t(81),r=t(94).onFreeze;t(109)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{109:109,81:81,94:94}],227:[function(t,e,n){var i=t(81),r=t(94).onFreeze;t(109)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{109:109,81:81,94:94}],228:[function(t,e,n){var i=t(62);i(i.S,"Object",{setPrototypeOf:t(122).set})},{122:122,62:62}],229:[function(t,e,n){"use strict";var i=t(47),r={};r[t(152)("toStringTag")]="z",r+""!="[object z]"&&t(118)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},{118:118,152:152,47:47}],230:[function(t,e,n){var i=t(62),r=t(112);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},{112:112,62:62}],231:[function(t,e,n){var i=t(62),r=t(113);i(i.G+i.F*(parseInt!=r),{parseInt:r})},{113:113,62:62}],232:[function(n,t,e){"use strict";function i(){}function h(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e}function r(c,n){if(!c._n){c._n=!0;var i=c._c;S(function(){for(var u=c._v,l=1==c._s,t=0,e=function(t){var e,n,i,r=l?t.ok:t.fail,a=t.resolve,s=t.reject,o=t.domain;try{r?(l||(2==c._h&&B(c),c._h=1),!0===r?e=u:(o&&o.enter(),e=r(u),o&&(o.exit(),i=!0)),e===t.promise?s(x("Promise-chain cycle")):(n=h(e))?n.call(e,a,s):a(e)):s(u)}catch(t){o&&!i&&o.exit(),s(t)}};i.length>t;)e(i[t++]);c._c=[],c._n=!1,n&&!c._h&&U(c)})}}function a(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),r(e,!0))}var s,o,u,l,c=n(89),d=n(70),f=n(54),p=n(47),m=n(62),g=n(81),v=n(33),y=n(37),b=n(68),_=n(127),T=n(136).set,S=n(95)(),w=n(96),C=n(114),E=n(148),k=n(115),A="Promise",x=d.TypeError,P=d.process,O=P&&P.versions,I=O&&O.v8||"",$=d[A],M="process"==p(P),D=o=w.f,L=!!function(){try{var t=$.resolve(1),e=(t.constructor={})[n(152)("species")]=function(t){t(i,i)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==I.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(t){}}(),U=function(a){T.call(d,function(){var t,e,n,i=a._v,r=R(a);if(r&&(t=C(function(){M?P.emit("unhandledRejection",i,a):(e=d.onunhandledrejection)?e({promise:a,reason:i}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",i)}),a._h=M||R(a)?2:1),a._a=void 0,r&&t.e)throw t.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(e){T.call(d,function(){var t;M?P.emit("rejectionHandled",e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw x("Promise can't be resolved itself");(n=h(t))?S(function(){var e={_w:i,_d:!1};try{n.call(t,f(N,e,1),f(a,e,1))}catch(t){a.call(e,t)}}):(i._v=t,i._s=1,r(i,!1))}catch(t){a.call({_w:i,_d:!1},t)}}};L||($=function(t){y(this,$,A,"_h"),v(t),s.call(this);try{t(f(N,this,1),f(a,this,1))}catch(t){a.call(this,t)}},(s=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(117)($.prototype,{then:function(t,e){var n=D(_(this,$));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?P.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&r(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new s;this.promise=t,this.resolve=f(N,t,1),this.reject=f(a,t,1)},w.f=D=function(t){return t===$||t===l?new u:o(t)}),m(m.G+m.W+m.F*!L,{Promise:$}),n(124)($,A),n(123)(A),l=n(52)[A],m(m.S+m.F*!L,A,{reject:function(t){var e=D(this);return(0,e.reject)(t),e.promise}}),m(m.S+m.F*(c||!L),A,{resolve:function(t){return k(c&&this===l?$:this,t)}}),m(m.S+m.F*!(L&&n(86)(function(t){$.all(t).catch(i)})),A,{all:function(t){var s=this,e=D(s),o=e.resolve,u=e.reject,n=C(function(){var i=[],r=0,a=1;b(t,!1,function(t){var e=r++,n=!1;i.push(void 0),a++,s.resolve(t).then(function(t){n||(n=!0,i[e]=t,--a||o(i))},u)}),--a||o(i)});return n.e&&u(n.v),e.promise},race:function(t){var e=this,n=D(e),i=n.reject,r=C(function(){b(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},{114:114,115:115,117:117,123:123,124:124,127:127,136:136,148:148,152:152,33:33,37:37,47:47,52:52,54:54,62:62,68:68,70:70,81:81,86:86,89:89,95:95,96:96}],233:[function(t,e,n){var i=t(62),a=t(33),s=t(38),o=(t(70).Reflect||{}).apply,u=Function.apply;i(i.S+i.F*!t(64)(function(){o(function(){})}),"Reflect",{apply:function(t,e,n){var i=a(t),r=s(n);return o?o(i,e,r):u.call(i,e,r)}})},{33:33,38:38,62:62,64:64,70:70}],234:[function(t,e,n){var i=t(62),u=t(98),l=t(33),c=t(38),h=t(81),r=t(64),d=t(46),f=(t(70).Reflect||{}).construct,p=r(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),m=!r(function(){f(function(){})});i(i.S+i.F*(p||m),"Reflect",{construct:function(t,e,n){l(t),c(e);var i=arguments.length<3?t:l(n);if(m&&!p)return f(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(d.apply(t,r))}var a=i.prototype,s=u(h(a)?a:Object.prototype),o=Function.apply.call(t,s,e);return h(o)?o:s}})},{33:33,38:38,46:46,62:62,64:64,70:70,81:81,98:98}],235:[function(t,e,n){var i=t(99),r=t(62),a=t(38),s=t(143);r(r.S+r.F*t(64)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){a(t),e=s(e,!0),a(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},{143:143,38:38,62:62,64:64,99:99}],236:[function(t,e,n){var i=t(62),r=t(101).f,a=t(38);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(a(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{101:101,38:38,62:62}],237:[function(t,e,n){"use strict";function i(t){this._t=a(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}var r=t(62),a=t(38);t(84)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},{38:38,62:62,84:84}],238:[function(t,e,n){var i=t(101),r=t(62),a=t(38);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(a(t),e)}})},{101:101,38:38,62:62}],239:[function(t,e,n){var i=t(62),r=t(105),a=t(38);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(a(t))}})},{105:105,38:38,62:62}],240:[function(t,e,n){var o=t(101),u=t(105),l=t(71),i=t(62),c=t(81),h=t(38);i(i.S,"Reflect",{get:function t(e,n,i){var r,a,s=arguments.length<3?e:i;return h(e)===s?e[n]:(r=o.f(e,n))?l(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:c(a=u(e))?t(a,n,s):void 0}})},{101:101,105:105,38:38,62:62,71:71,81:81}],241:[function(t,e,n){var i=t(62);i(i.S,"Reflect",{has:function(t,e){return e in t}})},{62:62}],242:[function(t,e,n){var i=t(62),r=t(38),a=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!a||a(t)}})},{38:38,62:62}],243:[function(t,e,n){var i=t(62);i(i.S,"Reflect",{ownKeys:t(111)})},{111:111,62:62}],244:[function(t,e,n){var i=t(62),r=t(38),a=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return a&&a(t),!0}catch(t){return!1}}})},{38:38,62:62}],245:[function(t,e,n){var i=t(62),r=t(122);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},{122:122,62:62}],246:[function(t,e,n){var l=t(99),c=t(101),h=t(105),d=t(71),i=t(62),f=t(116),p=t(38),m=t(81);i(i.S,"Reflect",{set:function t(e,n,i,r){var a,s,o=arguments.length<4?e:r,u=c.f(p(e),n);if(!u){if(m(s=h(e)))return t(s,n,i,o);u=f(0)}if(d(u,"value")){if(!1===u.writable||!m(o))return!1;if(a=c.f(o,n)){if(a.get||a.set||!1===a.writable)return!1;a.value=i,l.f(o,n,a)}else l.f(o,n,f(0,i));return!0}return void 0!==u.set&&(u.set.call(o,i),!0)}})},{101:101,105:105,116:116,38:38,62:62,71:71,81:81,99:99}],247:[function(t,e,n){var i=t(70),a=t(75),r=t(99).f,s=t(103).f,o=t(82),u=t(66),l=i.RegExp,c=l,h=l.prototype,d=/a/g,f=/a/g,p=new l(d)!==d;if(t(58)&&(!p||t(64)(function(){return f[t(152)("match")]=!1,l(d)!=d||l(f)==f||"/a/i"!=l(d,"i")}))){l=function(t,e){var n=this instanceof l,i=o(t),r=void 0===e;return!n&&i&&t.constructor===l&&r?t:a(p?new c(i&&!r?t.source:t,e):c((i=t instanceof l)?t.source:t,i&&r?u.call(t):e),n?this:h,l)};function m(e){e in l||r(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}for(var g=s(c),v=0;g.length>v;)m(g[v++]);(h.constructor=l).prototype=h,t(118)(i,"RegExp",l)}t(123)("RegExp")},{103:103,118:118,123:123,152:152,58:58,64:64,66:66,70:70,75:75,82:82,99:99}],248:[function(t,e,n){"use strict";var i=t(120);t(62)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},{120:120,62:62}],249:[function(t,e,n){t(58)&&"g"!=/./g.flags&&t(99).f(RegExp.prototype,"flags",{configurable:!0,get:t(66)})},{58:58,66:66,99:99}],250:[function(t,e,n){"use strict";var h=t(38),d=t(141),f=t(36),p=t(119);t(65)("match",1,function(i,r,l,c){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=c(l,t,this);if(e.done)return e.value;var n=h(t),i=String(this);if(!n.global)return p(n,i);for(var r,a=n.unicode,s=[],o=n.lastIndex=0;null!==(r=p(n,i));){var u=String(r[0]);""===(s[o]=u)&&(n.lastIndex=f(i,d(n.lastIndex),a)),o++}return 0===o?null:s}]})},{119:119,141:141,36:36,38:38,65:65}],251:[function(t,e,n){"use strict";var C=t(38),i=t(142),E=t(141),k=t(139),A=t(36),x=t(119),P=Math.max,O=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;t(65)("replace",2,function(r,a,T,S){return[function(t,e){var n=r(this),i=null==t?void 0:t[a];return void 0!==i?i.call(t,n,e):T.call(String(n),t,e)},function(t,e){var n=S(T,t,this,e);if(n.done)return n.value;var i=C(t),r=String(this),a="function"==typeof e;a||(e=String(e));var s=i.global;if(s){var o=i.unicode;i.lastIndex=0}for(var u=[];;){var l=x(i,r);if(null===l)break;if(u.push(l),!s)break;""===String(l[0])&&(i.lastIndex=A(r,E(i.lastIndex),o))}for(var c,h="",d=0,f=0;f<u.length;f++){l=u[f];for(var p=String(l[0]),m=P(O(k(l.index),r.length),0),g=[],v=1;v<l.length;v++)g.push(void 0===(c=l[v])?c:String(c));var y=l.groups;if(a){var b=[p].concat(g,m,r);void 0!==y&&b.push(y);var _=String(e.apply(void 0,b))}else _=w(p,r,m,g,y,e);d<=m&&(h+=r.slice(d,m)+_,d=m+p.length)}return h+r.slice(d)}];function w(a,s,o,u,l,t){var c=o+a.length,h=u.length,e=p;return void 0!==l&&(l=i(l),e=f),T.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return a;case"`":return s.slice(0,o);case"'":return s.slice(c);case"<":n=l[e.slice(1,-1)];break;default:var i=+e;if(0==i)return t;if(h<i){var r=d(i/10);return 0!==r&&r<=h?void 0===u[r-1]?e.charAt(1):u[r-1]+e.charAt(1):t}n=u[i-1]}return void 0===n?"":n})}})},{119:119,139:139,141:141,142:142,36:36,38:38,65:65}],252:[function(t,e,n){"use strict";var u=t(38),l=t(121),c=t(119);t(65)("search",1,function(i,r,s,o){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=o(s,t,this);if(e.done)return e.value;var n=u(t),i=String(this),r=n.lastIndex;l(r,0)||(n.lastIndex=0);var a=c(n,i);return l(n.lastIndex,r)||(n.lastIndex=r),null===a?-1:a.index}]})},{119:119,121:121,38:38,65:65}],253:[function(t,e,n){"use strict";var h=t(82),b=t(38),_=t(127),T=t(36),S=t(141),w=t(119),d=t(120),i=t(64),C=Math.min,f=[].push,s="split",p="length",m="lastIndex",E=4294967295,k=!i(function(){RegExp(E,"y")});t(65)("split",2,function(r,a,g,v){var y;return y="c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[p]||2!="ab"[s](/(?:ab)*/)[p]||4!="."[s](/(.?)(.?)/)[p]||1<"."[s](/()()/)[p]||""[s](/.?/)[p]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!h(t))return g.call(n,t,e);for(var i,r,a,s=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,l=void 0===e?E:e>>>0,c=new RegExp(t.source,o+"g");(i=d.call(c,n))&&!(u<(r=c[m])&&(s.push(n.slice(u,i.index)),1<i[p]&&i.index<n[p]&&f.apply(s,i.slice(1)),a=i[0][p],u=r,s[p]>=l));)c[m]===i.index&&c[m]++;return u===n[p]?!a&&c.test("")||s.push(""):s.push(n.slice(u)),s[p]>l?s.slice(0,l):s}:"0"[s](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:g.call(this,t,e)}:g,[function(t,e){var n=r(this),i=null==t?void 0:t[a];return void 0!==i?i.call(t,n,e):y.call(String(n),t,e)},function(t,e){var n=v(y,t,this,e,y!==g);if(n.done)return n.value;var i=b(t),r=String(this),a=_(i,RegExp),s=i.unicode,o=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(k?"y":"g"),u=new a(k?i:"^(?:"+i.source+")",o),l=void 0===e?E:e>>>0;if(0==l)return[];if(0===r.length)return null===w(u,r)?[r]:[];for(var c=0,h=0,d=[];h<r.length;){u.lastIndex=k?h:0;var f,p=w(u,k?r:r.slice(h));if(null===p||(f=C(S(u.lastIndex+(k?0:h)),r.length))===c)h=T(r,h,s);else{if(d.push(r.slice(c,h)),d.length===l)return d;for(var m=1;m<=p.length-1;m++)if(d.push(p[m]),d.length===l)return d;h=c=f}}return d.push(r.slice(c)),d}]})},{119:119,120:120,127:127,141:141,36:36,38:38,64:64,65:65,82:82}],254:[function(e,t,n){"use strict";e(249);function i(t){e(118)(RegExp.prototype,o,t,!0)}var r=e(38),a=e(66),s=e(58),o="toString",u=/./[o];e(64)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?i(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?a.call(t):void 0)}):u.name!=o&&i(function(){return u.call(this)})},{118:118,249:249,38:38,58:58,64:64,66:66}],255:[function(t,e,n){"use strict";var i=t(49),r=t(149);e.exports=t(51)("Set",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},{149:149,49:49,51:51}],256:[function(t,e,n){"use strict";t(131)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{131:131}],257:[function(t,e,n){"use strict";t(131)("big",function(t){return function(){return t(this,"big","","")}})},{131:131}],258:[function(t,e,n){"use strict";t(131)("blink",function(t){return function(){return t(this,"blink","","")}})},{131:131}],259:[function(t,e,n){"use strict";t(131)("bold",function(t){return function(){return t(this,"b","","")}})},{131:131}],260:[function(t,e,n){"use strict";var i=t(62),r=t(129)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},{129:129,62:62}],261:[function(t,e,n){"use strict";var i=t(62),o=t(141),u=t(130),l="endsWith",c=""[l];i(i.P+i.F*t(63)(l),"String",{endsWith:function(t,e){var n=u(this,t,l),i=1<arguments.length?e:void 0,r=o(n.length),a=void 0===i?r:Math.min(o(i),r),s=String(t);return c?c.call(n,s,a):n.slice(a-s.length,a)===s}})},{130:130,141:141,62:62,63:63}],262:[function(t,e,n){"use strict";t(131)("fixed",function(t){return function(){return t(this,"tt","","")}})},{131:131}],263:[function(t,e,n){"use strict";t(131)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{131:131}],264:[function(t,e,n){"use strict";t(131)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{131:131}],265:[function(t,e,n){var i=t(62),a=t(137),s=String.fromCharCode,r=String.fromCodePoint;i(i.S+i.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;r<i;){if(e=+arguments[r++],a(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{137:137,62:62}],266:[function(t,e,n){"use strict";var i=t(62),r=t(130);i(i.P+i.F*t(63)("includes"),"String",{includes:function(t,e){return!!~r(this,t,"includes").indexOf(t,1<arguments.length?e:void 0)}})},{130:130,62:62,63:63}],267:[function(t,e,n){"use strict";t(131)("italics",function(t){return function(){return t(this,"i","","")}})},{131:131}],268:[function(t,e,n){"use strict";var i=t(129)(!0);t(85)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},{129:129,85:85}],269:[function(t,e,n){"use strict";t(131)("link",function(e){return function(t){return e(this,"a","href",t)}})},{131:131}],270:[function(t,e,n){var i=t(62),s=t(140),o=t(141);i(i.S,"String",{raw:function(t){for(var e=s(t.raw),n=o(e.length),i=arguments.length,r=[],a=0;a<n;)r.push(String(e[a++])),a<i&&r.push(String(arguments[a]));return r.join("")}})},{140:140,141:141,62:62}],271:[function(t,e,n){var i=t(62);i(i.P,"String",{repeat:t(133)})},{133:133,62:62}],272:[function(t,e,n){"use strict";t(131)("small",function(t){return function(){return t(this,"small","","")}})},{131:131}],273:[function(t,e,n){"use strict";var i=t(62),a=t(141),s=t(130),o="startsWith",u=""[o];i(i.P+i.F*t(63)(o),"String",{startsWith:function(t,e){var n=s(this,t,o),i=a(Math.min(1<arguments.length?e:void 0,n.length)),r=String(t);return u?u.call(n,r,i):n.slice(i,i+r.length)===r}})},{130:130,141:141,62:62,63:63}],274:[function(t,e,n){"use strict";t(131)("strike",function(t){return function(){return t(this,"strike","","")}})},{131:131}],275:[function(t,e,n){"use strict";t(131)("sub",function(t){return function(){return t(this,"sub","","")}})},{131:131}],276:[function(t,e,n){"use strict";t(131)("sup",function(t){return function(){return t(this,"sup","","")}})},{131:131}],277:[function(t,e,n){"use strict";t(134)("trim",function(t){return function(){return t(this,3)}})},{134:134}],278:[function(t,e,n){"use strict";function i(t){var e=q[t]=P(R[H]);return e._k=t,e}function r(t,e){C(t);for(var n,i=S(e=k(e)),r=0,a=i.length;r<a;)Z(t,n=i[r++],e[n]);return t}function a(t){var e=G.call(this,t=A(t,!0));return!(this===z&&c(q,t)&&!c(W,t))&&(!(e||!c(this,t)||!c(q,t)||c(this,j)&&this[j][t])||e)}function s(t,e){if(t=k(t),e=A(e,!0),t!==z||!c(q,e)||c(W,e)){var n=D(t,e);return!n||!c(q,e)||c(t,j)&&t[j][e]||(n.enumerable=!0),n}}function o(t){for(var e,n=U(k(t)),i=[],r=0;n.length>r;)c(q,e=n[r++])||e==j||e==p||i.push(e);return i}function u(t){for(var e,n=t===z,i=U(n?W:k(t)),r=[],a=0;i.length>a;)!c(q,e=i[a++])||n&&!c(z,e)||r.push(q[e]);return r}var l=t(70),c=t(71),h=t(58),d=t(62),f=t(118),p=t(94).KEY,m=t(64),g=t(126),v=t(124),y=t(147),b=t(152),_=t(151),T=t(150),S=t(61),w=t(79),C=t(38),E=t(81),k=t(140),A=t(143),x=t(116),P=t(98),O=t(102),I=t(101),$=t(99),M=t(107),D=I.f,L=$.f,U=O.f,R=l.Symbol,B=l.JSON,N=B&&B.stringify,H="prototype",j=b("_hidden"),F=b("toPrimitive"),G={}.propertyIsEnumerable,V=g("symbol-registry"),q=g("symbols"),W=g("op-symbols"),z=Object[H],X="function"==typeof R,K=l.QObject,Y=!K||!K[H]||!K[H].findChild,Q=h&&m(function(){return 7!=P(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=D(z,e);i&&delete z[e],L(t,e,n),i&&t!==z&&L(z,e,i)}:L,J=X&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},Z=function(t,e,n){return t===z&&Z(W,e,n),C(t),e=A(e,!0),C(n),c(q,e)?(n.enumerable?(c(t,j)&&t[j][e]&&(t[j][e]=!1),n=P(n,{enumerable:x(0,!1)})):(c(t,j)||L(t,j,x(1,{})),t[j][e]=!0),Q(t,e,n)):L(t,e,n)};X||(f((R=function(t){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=y(0<arguments.length?t:void 0),n=function(t){this===z&&n.call(W,t),c(this,j)&&c(this[j],e)&&(this[j][e]=!1),Q(this,e,x(1,t))};return h&&Y&&Q(z,e,{configurable:!0,set:n}),i(e)})[H],"toString",function(){return this._k}),I.f=s,$.f=Z,t(103).f=O.f=o,t(108).f=a,t(104).f=u,h&&!t(89)&&f(z,"propertyIsEnumerable",a,!0),_.f=function(t){return i(b(t))}),d(d.G+d.W+d.F*!X,{Symbol:R});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)b(tt[et++]);for(var nt=M(b.store),it=0;nt.length>it;)T(nt[it++]);d(d.S+d.F*!X,"Symbol",{for:function(t){return c(V,t+="")?V[t]:V[t]=R(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),d(d.S+d.F*!X,"Object",{create:function(t,e){return void 0===e?P(t):r(P(t),e)},defineProperty:Z,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:o,getOwnPropertySymbols:u}),B&&d(d.S+d.F*(!X||m(function(){var t=R();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;r<arguments.length;)i.push(arguments[r++]);if(n=e=i[1],(E(e)||void 0!==t)&&!J(t))return w(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),i[1]=e,N.apply(B,i)}}),R[H][F]||t(72)(R[H],F,R[H].valueOf),v(R,"Symbol"),v(Math,"Math",!0),v(l.JSON,"JSON",!0)},{101:101,102:102,103:103,104:104,107:107,108:108,116:116,118:118,124:124,126:126,140:140,143:143,147:147,150:150,151:151,152:152,38:38,58:58,61:61,62:62,64:64,70:70,71:71,72:72,79:79,81:81,89:89,94:94,98:98,99:99}],279:[function(t,e,n){"use strict";var i=t(62),r=t(146),a=t(145),l=t(38),c=t(137),h=t(141),s=t(81),o=t(70).ArrayBuffer,d=t(127),f=a.ArrayBuffer,p=a.DataView,u=r.ABV&&o.isView,m=f.prototype.slice,g=r.VIEW,v="ArrayBuffer";i(i.G+i.W+i.F*(o!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,v,{isView:function(t){return u&&u(t)||s(t)&&g in t}}),i(i.P+i.U+i.F*t(64)(function(){return!new f(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(l(this),t);for(var n=l(this).byteLength,i=c(t,n),r=c(void 0===e?n:e,n),a=new(d(this,f))(h(r-i)),s=new p(this),o=new p(a),u=0;i<r;)o.setUint8(u++,s.getUint8(i++));return a}}),t(123)(v)},{123:123,127:127,137:137,141:141,145:145,146:146,38:38,62:62,64:64,70:70,81:81}],280:[function(t,e,n){var i=t(62);i(i.G+i.W+i.F*!t(146).ABV,{DataView:t(145).DataView})},{145:145,146:146,62:62}],281:[function(t,e,n){t(144)("Float32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],282:[function(t,e,n){t(144)("Float64",8,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],283:[function(t,e,n){t(144)("Int16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],284:[function(t,e,n){t(144)("Int32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],285:[function(t,e,n){t(144)("Int8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],286:[function(t,e,n){t(144)("Uint16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],287:[function(t,e,n){t(144)("Uint32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],288:[function(t,e,n){t(144)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},{144:144}],289:[function(t,e,n){t(144)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}},!0)},{144:144}],290:[function(t,e,n){"use strict";function i(e){return function(t){return e(this,0<arguments.length?t:void 0)}}var a,r=t(70),s=t(42)(0),o=t(118),u=t(94),l=t(97),c=t(50),h=t(81),d=t(149),f=t(149),p=!r.ActiveXObject&&"ActiveXObject"in r,m="WeakMap",g=u.getWeak,v=Object.isExtensible,y=c.ufstore,b={get:function(t){if(h(t)){var e=g(t);return!0===e?y(d(this,m)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(d(this,m),t,e)}},_=e.exports=t(51)(m,i,b,c,!0,!0);f&&p&&(l((a=c.getConstructor(i,m)).prototype,b),u.NEED=!0,s(["delete","has","get","set"],function(i){var t=_.prototype,r=t[i];o(t,i,function(t,e){if(!h(t)||v(t))return r.call(this,t,e);this._f||(this._f=new a);var n=this._f[i](t,e);return"set"==i?this:n})}))},{118:118,149:149,42:42,50:50,51:51,70:70,81:81,94:94,97:97}],291:[function(t,e,n){"use strict";var i=t(50),r=t(149);t(51)("WeakSet",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},{149:149,50:50,51:51}],292:[function(t,e,n){"use strict";var i=t(62),a=t(67),s=t(142),o=t(141),u=t(33),l=t(45);i(i.P,"Array",{flatMap:function(t,e){var n,i,r=s(this);return u(t),n=o(r.length),i=l(r,0),a(i,r,r,n,0,1,t,e),i}}),t(35)("flatMap")},{141:141,142:142,33:33,35:35,45:45,62:62,67:67}],293:[function(t,e,n){"use strict";var i=t(62),r=t(41)(!0);i(i.P,"Array",{includes:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t(35)("includes")},{35:35,41:41,62:62}],294:[function(t,e,n){var i=t(62),r=t(110)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},{110:110,62:62}],295:[function(t,e,n){var i=t(62),u=t(111),l=t(140),c=t(101),h=t(53);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=l(t),r=c.f,a=u(i),s={},o=0;a.length>o;)void 0!==(n=r(i,e=a[o++]))&&h(s,e,n);return s}})},{101:101,111:111,140:140,53:53,62:62}],296:[function(t,e,n){var i=t(62),r=t(110)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},{110:110,62:62}],297:[function(t,e,n){"use strict";var i=t(62),r=t(52),a=t(70),s=t(127),o=t(115);i(i.P+i.R,"Promise",{finally:function(e){var n=s(this,r.Promise||a.Promise),t="function"==typeof e;return this.then(t?function(t){return o(n,e()).then(function(){return t})}:e,t?function(t){return o(n,e()).then(function(){throw t})}:e)}})},{115:115,127:127,52:52,62:62,70:70}],298:[function(t,e,n){"use strict";var i=t(62),r=t(132),a=t(148),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);i(i.P+i.F*s,"String",{padEnd:function(t,e){return r(this,t,1<arguments.length?e:void 0,!1)}})},{132:132,148:148,62:62}],299:[function(t,e,n){"use strict";var i=t(62),r=t(132),a=t(148),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);i(i.P+i.F*s,"String",{padStart:function(t,e){return r(this,t,1<arguments.length?e:void 0,!0)}})},{132:132,148:148,62:62}],300:[function(t,e,n){"use strict";t(134)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},{134:134}],301:[function(t,e,n){"use strict";t(134)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},{134:134}],302:[function(t,e,n){t(150)("asyncIterator")},{150:150}],303:[function(t,e,n){for(var i=t(164),r=t(107),a=t(118),s=t(70),o=t(72),u=t(88),l=t(152),c=l("iterator"),h=l("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),m=0;m<p.length;m++){var g,v=p[m],y=f[v],b=s[v],_=b&&b.prototype;if(_&&(_[c]||o(_,c,d),_[h]||o(_,h,v),u[v]=d,y))for(g in i)_[g]||a(_,g,i[g],!0)}},{107:107,118:118,152:152,164:164,70:70,72:72,88:88}],304:[function(t,e,n){var i=t(62),r=t(136);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{136:136,62:62}],305:[function(t,e,n){function i(r){return function(t,e){var n=2<arguments.length,i=!!n&&o.call(arguments,2);return r(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,e)}}var r=t(70),a=t(62),s=t(148),o=[].slice,u=/MSIE .\./.test(s);a(a.G+a.B+a.F*u,{setTimeout:i(r.setTimeout),setInterval:i(r.setInterval)})},{148:148,62:62,70:70}],306:[function(t,e,n){t(305),t(304),t(303),e.exports=t(52)},{303:303,304:304,305:305,52:52}],307:[function(t,e,n){var i=function(a){"use strict";var u,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function s(t,e,n,i){var a,s,o,u,r=e&&e.prototype instanceof v?e:v,l=Object.create(r.prototype),c=new A(i||[]);return l._invoke=(a=t,s=n,o=c,u=d,function(t,e){if(u===p)throw new Error("Generator is already running");if(u===m){if("throw"===t)throw e;return P()}for(o.method=t,o.arg=e;;){var n=o.delegate;if(n){var i=C(n,o);if(i){if(i===g)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(u===d)throw u=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);u=p;var r=h(a,s,o);if("normal"===r.type){if(u=o.done?m:f,r.arg===g)continue;return{value:r.arg,done:o.done}}"throw"===r.type&&(u=m,o.method="throw",o.arg=r.arg)}}),l}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var d="suspendedStart",f="suspendedYield",p="executing",m="completed",g={};function v(){}function o(){}function c(){}var y={};y[r]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(x([])));_&&_!==t&&l.call(_,r)&&(y=_);var T=c.prototype=v.prototype=Object.create(y);function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function w(u){var e;this._invoke=function(n,i){function t(){return new Promise(function(t,e){!function e(t,n,i,r){var a=h(u[t],u,n);if("throw"!==a.type){var s=a.arg,o=s.value;return o&&"object"==typeof o&&l.call(o,"__await")?Promise.resolve(o.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):Promise.resolve(o).then(function(t){s.value=t,i(s)},function(t){return e("throw",t,i,r)})}r(a.arg)}(n,i,t,e)})}return e=e?e.then(t,t):t()}}function C(t,e){var n=t.iterator[e.method];if(n===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,C(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,g):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:u,done:!0}}return o.prototype=T.constructor=c,c.constructor=o,c[i]=o.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(T),t},a.awrap=function(t){return{__await:t}},S(w.prototype),w.prototype[n]=function(){return this},a.AsyncIterator=w,a.async=function(t,e,n,i){var r=new w(s(t,e,n,i));return a.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},S(T),T[i]="Generator",T[r]=function(){return this},T.toString=function(){return"[object Generator]"},a.keys=function(n){var i=[];for(var t in n)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=x,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return a.type="throw",a.arg=n,i.next=t,e&&(i.method="next",i.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=l.call(r,"catchLoc"),o=l.call(r,"finallyLoc");if(s&&o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&l.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),g}},a}("object"==typeof e?e.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},{}]},{},[1]),function(ot){"use strict";function t(t){if(!mt(t))return qn;pt(t.objectMaxDepth)&&(qn.objectMaxDepth=u(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function u(t){return f(t)&&0<t}function x(i,r){return r=r||Error,function(){var t,e=arguments[0];for(t="["+(i?i+":":"")+e+"] http://errors.angularjs.org/1.6.9/"+(i?i+"/":"")+e,e=1;e<arguments.length;e++){var n;t=t+(1==e?"?":"&")+"p"+(e-1)+"=",t+=encodeURIComponent(n="function"==typeof(n=arguments[e])?n.toString().replace(/ \{[\s\S]*$/,""):void 0===n?"undefined":"string"!=typeof n?JSON.stringify(n):n)}return new r(t)}}function P(t){if(null!=t&&!m(t)){if(oi(t)||gt(t)||Fn&&t instanceof Fn)return 1;var e="length"in Object(t)&&t.length;return f(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}}function ut(t,e,n){var i,r;if(t)if(yt(t))for(i in t)"prototype"!==i&&"length"!==i&&"name"!==i&&t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else if(oi(t)||P(t)){var a="object"!=typeof t;for(i=0,r=t.length;i<r;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==ut)t.forEach(e,n,t);else if(l(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)zn.call(t,i)&&e.call(n,t[i],i,t);return t}function a(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function v(n){return function(t,e){n(e,t)}}function d(t,e,n){for(var i=t.$$hashKey,r=0,a=e.length;r<a;++r){var s=e[r];if(mt(s)||yt(s))for(var o=Object.keys(s),u=0,l=o.length;u<l;u++){var c=o[u],h=s[c];n&&mt(h)?y(h)?t[c]=new Date(h.valueOf()):p(h)?t[c]=new RegExp(h):h.nodeName?t[c]=h.cloneNode(!0):g(h)?t[c]=h.clone():(mt(t[c])||(t[c]=oi(h)?[]:{}),d(t[c],[h],!0)):t[c]=h}}return i?t.$$hashKey=i:delete t.$$hashKey,t}function lt(t){return d(t,Yn.call(arguments,1),!1)}function e(t){return d(t,Yn.call(arguments,1),!0)}function c(t){return parseInt(t,10)}function ct(t,e){return lt(Object.create(t),e)}function ht(){}function dt(t){return t}function w(t){return function(){return t}}function h(t){return yt(t.toString)&&t.toString!==Zn}function ft(t){return void 0===t}function pt(t){return void 0!==t}function mt(t){return null!==t&&"object"==typeof t}function l(t){return null!==t&&"object"==typeof t&&!ti(t)}function gt(t){return"string"==typeof t}function f(t){return"number"==typeof t}function y(t){return"[object Date]"===Zn.call(t)}function vt(t){switch(Zn.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return t instanceof Error}}function yt(t){return"function"==typeof t}function p(t){return"[object RegExp]"===Zn.call(t)}function m(t){return t&&t.window===t}function bt(t){return t&&t.$evalAsync&&t.$watch}function _t(t){return"boolean"==typeof t}function g(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function Tt(t){return Xn(t.nodeName||t[0]&&t[0].nodeName)}function St(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function C(t,n,e){function r(t,e,n){if(--n<0)return"...";var i,r=e.$$hashKey;if(oi(t)){i=0;for(var a=t.length;i<a;i++)e.push(s(t[i],n))}else if(l(t))for(i in t)e[i]=s(t[i],n);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=s(t[i],n));else for(i in t)zn.call(t,i)&&(e[i]=s(t[i],n));return r?e.$$hashKey=r:delete e.$$hashKey,e}function s(t,e){if(!mt(t))return t;if(-1!==(n=a.indexOf(t)))return o[n];if(m(t)||bt(t))throw ei("cpws");var n=!1,i=function(t){switch(Zn.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(s(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":return(e=new RegExp(t.source,t.toString().match(/[^/]*$/)[0])).lastIndex=t.lastIndex,e;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(yt(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=oi(t)?[]:Object.create(ti(t)),n=!0),a.push(t),o.push(i),n?r(t,i,e):i}var i,a=[],o=[];if(e=u(e)?e:NaN,n){if((i=n)&&f(i.length)&&ui.test(Zn.call(i))||"[object ArrayBuffer]"===Zn.call(n))throw ei("cpta");if(t===n)throw ei("cpi");return oi(n)?n.length=0:ut(n,function(t,e){"$$hashKey"!==e&&delete n[e]}),a.push(t),o.push(n),r(t,n,e)}return s(t,e)}function wt(t,e){return t===e||t!=t&&e!=e}function Ct(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i=typeof t;if(i===typeof e&&"object"===i){if(!oi(t)){if(y(t))return!!y(e)&&wt(t.getTime(),e.getTime());if(p(t))return!!p(e)&&t.toString()===e.toString();if(bt(t)||bt(e)||m(t)||m(e)||oi(e)||y(e)||p(e))return!1;for(n in i=Pt(),t)if("$"!==n.charAt(0)&&!yt(t[n])){if(!Ct(t[n],e[n]))return!1;i[n]=!0}for(n in e)if(!(n in i)&&"$"!==n.charAt(0)&&pt(e[n])&&!yt(e[n]))return!1;return!0}if(!oi(e))return!1;if((i=t.length)===e.length){for(n=0;n<i;n++)if(!Ct(t[n],e[n]))return!1;return!0}}return!1}function E(t,e,n){return t.concat(Yn.call(e,n))}function Et(t,e){var n=2<arguments.length?Yn.call(arguments,2):[];return!yt(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,E(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function i(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:m(e)?n="$WINDOW":e&&ot.document===e?n="$DOCUMENT":bt(e)&&(n="$SCOPE"),n}function n(t,e){if(!ft(t))return f(e)||(e=e?2:null),JSON.stringify(t,i,e)}function s(t){return gt(t)?JSON.parse(t):t}function b(t,e){t=t.replace(fi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return ri(n)?e:n}function _(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return n*=(e=b(e,i))-i,(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}function kt(t){t=Fn(t).clone().empty();var e=Fn("<div>").append(t).html();try{return t[0].nodeType===yi?Xn(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Xn(e)})}catch(t){return Xn(e)}}function o(t){try{return decodeURIComponent(t)}catch(t){}}function k(t){var r={};return ut((t||"").split("&"),function(t){var e,n,i;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(e=t.indexOf("="))&&(n=t.substring(0,e),i=t.substring(e+1)),pt(n=o(n))&&(i=!pt(i)||o(i),zn.call(r,n)?oi(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i))}),r}function T(t){var n=[];return ut(t,function(t,e){oi(t)?ut(t,function(t){n.push(A(e,!0)+(!0===t?"":"="+A(t,!0)))}):n.push(A(e,!0)+(!0===t?"":"="+A(t,!0)))}),n.length?n.join("&"):""}function S(t){return A(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function A(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function r(n,t){var i,r,e={};ut(pi,function(t){t+="app",!i&&n.hasAttribute&&n.hasAttribute(t)&&(r=(i=n).getAttribute(t))}),ut(pi,function(t){var e;t+="app",!i&&(e=n.querySelector("["+t.replace(":","\\:")+"]"))&&(r=(i=e).getAttribute(t))}),i&&(mi?(e.strictDi=null!==function(t,e){var n,i,r=pi.length;for(i=0;i<r;++i)if(n=pi[i]+e,gt(n=t.getAttribute(n)))return n;return null}(i,"strict-di"),t(i,r?[r]:[],e)):ot.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function O(e,n,i){mt(i)||(i={}),i=lt({strictDi:!1},i);function r(){if((e=Fn(e)).injector()){var t=e[0]===ot.document?"document":kt(e);throw ei("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng"),(t=Rt(n,i.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t}var t=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(ot&&t.test(ot.name)&&(i.debugInfoEnabled=!0,ot.name=ot.name.replace(t,"")),ot&&!a.test(ot.name))return r();ot.name=ot.name.replace(a,""),ni.resumeBootstrap=function(t){return ut(t,function(t){n.push(t)}),r()},yt(ni.resumeDeferredBootstrap)&&ni.resumeDeferredBootstrap()}function I(){ot.name="NG_ENABLE_DEBUG_INFO!"+ot.name,ot.location.reload()}function $(t){if(!(t=ni.element(t).injector()))throw ei("test");return t.get("$$testability")}function At(t,n){return n=n||"_",t.replace(gi,function(t,e){return(e?n:"")+t.toLowerCase()})}function xt(t,e,n){if(!t)throw ei("areq",e||"?",n||"required");return t}function M(t,e,n){return n&&oi(t)&&(t=t[t.length-1]),xt(yt(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function N(t,e){if("hasOwnProperty"===t)throw ei("badname",e)}function D(t,e,n){if(!e)return t;for(var i,r=t,a=(e=e.split(".")).length,s=0;s<a;s++)i=e[s],t=t&&(r=t)[i];return!n&&yt(t)?Et(r,t):t}function L(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)!e&&t[r]===n||(e=e||Fn(Yn.call(t,0,r))).push(n);return e||t}function Pt(){return Object.create(null)}function U(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!h(t)||oi(t)||y(t)?n(t):t.toString()}return t}function R(t,e){if(oi(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(mt(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function B(t,e){var n=[];return u(e)&&(t=ni.copy(t,null,e)),JSON.stringify(t,function(t,e){if(mt(e=i(t,e))){if(0<=n.indexOf(e))return"...";n.push(e)}return e})}function H(t,e){return e.toUpperCase()}function j(t){return t.replace(Si,H)}function F(t){return 1===(t=t.nodeType)||!t||9===t}function G(t,e){var n,i,r=e.createDocumentFragment(),a=[];if(Ai.test(t)){for(n=r.appendChild(e.createElement("div")),i=(xi.exec(t)||["",""])[1].toLowerCase(),i=Oi[i]||Oi._default,n.innerHTML=i[1]+t.replace(Pi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=E(a,n.childNodes),(n=r.firstChild).textContent=""}else a.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",ut(a,function(t){r.appendChild(t)}),r}function V(t){if(t instanceof V)return t;var e,n;if(gt(t)&&(t=li(t),e=!0),!(this instanceof V)){if(e&&"<"!==t.charAt(0))throw Ei("nosel");return new V(t)}e?(e=ot.document,Z(this,t=(n=ki.exec(t))?[e.createElement(n[1])]:(n=G(t,e))?n.childNodes:[])):yt(t)?rt(t):Z(this,t)}function Ot(t){return t.cloneNode(!0)}function q(t,e){!e&&F(t)&&Fn.cleanData([t]),t.querySelectorAll&&Fn.cleanData(t.querySelectorAll("*"))}function W(n,t,i,e){if(pt(e))throw Ei("offargs");var r=(e=X(n))&&e.events,a=e&&e.handle;if(a)if(t){var s=function(t){var e=r[t];pt(i)&&St(e||[],i),pt(i)&&e&&0<e.length||(n.removeEventListener(t,a),delete r[t])};ut(t.split(" "),function(t){s(t),Ci[t]&&s(Ci[t])})}else for(t in r)"$destroy"!==t&&n.removeEventListener(t,a),delete r[t]}function z(t,e){var n=t.ng339,i=n&&_i[n];i&&(e?delete i.data[e]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),W(t)),delete _i[n],t.ng339=void 0))}function X(t,e){var n=(n=t.ng339)&&_i[n];return e&&!n&&(t.ng339=n=++Ti,n=_i[n]={events:{},data:{},handle:void 0}),n}function K(t,e,n){if(F(t)){var i,r=pt(n),a=!r&&e&&!mt(e),s=!e;if(t=(t=X(t,!a))&&t.data,r)t[j(e)]=n;else{if(s)return t;if(a)return t&&t[j(e)];for(i in e)t[j(i)]=e[i]}}}function Y(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function Q(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;ut(e.split(" "),function(t){t=li(t),i=i.replace(" "+t+" "," ")}),i!==n&&t.setAttribute("class",li(i))}}function J(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;ut(e.split(" "),function(t){t=li(t),-1===i.indexOf(" "+t+" ")&&(i+=t+" ")}),i!==n&&t.setAttribute("class",li(i))}}function Z(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function tt(t,e){return et(t,"$"+(e||"ngController")+"Controller")}function et(t,e,n){for(9===t.nodeType&&(t=t.documentElement),e=oi(e)?e:[e];t;){for(var i=0,r=e.length;i<r;i++)if(pt(n=Fn.data(t,e[i])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function nt(t){for(q(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function it(t,e){e||q(t);var n=t.parentNode;n&&n.removeChild(t)}function rt(t){function e(){ot.document.removeEventListener("DOMContentLoaded",e),ot.removeEventListener("load",e),t()}"complete"===ot.document.readyState?ot.setTimeout(t):(ot.document.addEventListener("DOMContentLoaded",e),ot.addEventListener("load",e))}function It(t,e){var n=Mi[e.toLowerCase()];return n&&Di[Tt(t)]&&n}function at(o,u){function t(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=u[e||t.type],i=n?n.length:0;if(i){if(ft(t.immediatePropagationStopped)){var r=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),r&&r.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var a=n.specialHandlerWrapper||st;1<i&&(n=R(n));for(var s=0;s<i;s++)t.isImmediatePropagationStopped()||a(o,t,n[s])}}return t.elem=o,t}function st(t,e,n){n.call(t,e)}function $t(t,e,n){var i=e.relatedTarget;i&&(i===t||Ii.call(t,i))||n.call(t,e)}function Mt(){this.$get=function(){return lt(V,{hasClass:function(t,e){return t.attr&&(t=t[0]),Y(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),J(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Q(t,e)}})}}function Dt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):"function"===(n=typeof t)||"object"===n&&null!==t?t.$$hashKey=n+":"+(e||function(){return++ii})():n+":"+t}function Lt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function Ut(t){return(t=Function.prototype.toString.call(t).replace(Vi,"")).match(Hi)||t.match(ji)}function Rt(t,u){function e(n){return function(t,e){if(!mt(t))return n(t,e);ut(t,v(n))}}function a(t,e){if(N(t,"service"),(yt(e)||oi(e))&&(e=h.instantiate(e)),!e.$get)throw qi("pget",t);return c[t+"Provider"]=e}function n(t,e,n){return a(t,{$get:!1!==n?(i=t,r=e,function(){var t=p.invoke(r,this);if(ft(t))throw qi("undef",i);return t}):e});var i,r}function r(t){xt(ft(t)||oi(t),"modulesToLoad","not an array");var n,i=[];return ut(t,function(e){function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=h.get(i[0]);r[i[1]].apply(r,i[2])}}if(!o.get(e)){o.set(e,!0);try{gt(e)?(n=Vn(e),p.modules[e]=n,i=i.concat(r(n.requires)).concat(n._runBlocks),t(n._invokeQueue),t(n._configBlocks)):yt(e)||oi(e)?i.push(h.invoke(e)):M(e,"module")}catch(t){throw oi(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),qi("modulerr",e,t.stack||t.message||t)}}}),i}function i(n,i){function o(e,t){if(n.hasOwnProperty(e)){if(n[e]===s)throw qi("cdep",e+" <- "+l.join(" <- "));return n[e]}try{return l.unshift(e),n[e]=s,n[e]=i(e,t),n[e]}catch(t){throw n[e]===s&&delete n[e],t}finally{l.shift()}}function a(t,e,n){for(var i=[],r=0,a=(t=Rt.$$annotate(t,u,n)).length;r<a;r++){var s=t[r];if("string"!=typeof s)throw qi("itkn",s);i.push(e&&e.hasOwnProperty(s)?e[s]:o(s,n))}return i}return{invoke:function(t,e,n,i){if("string"==typeof n&&(i=n,n=null),n=a(t,n,i),oi(t)&&(t=t[t.length-1]),i=t,jn||"function"!=typeof i)i=!1;else{var r=i.$$ngIsClass;_t(r)||(r=i.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(i))),i=r}return i?(n.unshift(null),new(Function.prototype.bind.apply(t,n))):t.apply(e,n)},instantiate:function(t,e,n){var i=oi(t)?t[t.length-1]:t;return(t=a(t,e,n)).unshift(null),new(Function.prototype.bind.apply(i,t))},get:o,annotate:Rt.$$annotate,has:function(t){return c.hasOwnProperty(t+"Provider")||n.hasOwnProperty(t)}}}u=!0===u;var s={},l=[],o=new Bi,c={$provide:{provider:e(a),factory:e(n),service:e(function(t,e){return n(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return n(t,w(e),!1)}),constant:e(function(t,e){N(t,"constant"),c[t]=e,d[t]=e}),decorator:function(t,e){var n=h.get(t+"Provider"),i=n.$get;n.$get=function(){var t=p.invoke(i,n);return p.invoke(e,null,{$delegate:t})}}}},h=c.$injector=i(c,function(t,e){throw ni.isString(e)&&l.push(e),qi("unpr",l.join(" <- "))}),d={},f=i(d,function(t,e){var n=h.get(t+"Provider",e);return p.invoke(n.$get,n,void 0,t)}),p=f;c.$injectorProvider={$get:w(f)},p.modules=h.modules=Pt();var m=r(t);return(p=f.get("$injector")).strictDi=u,ut(m,function(t){t&&p.invoke(t)}),p.loadNewModules=function(t){ut(r(t),function(t){t&&p.invoke(t)})},p}function Bt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,a){function s(t){var e;t?(t.scrollIntoView(),yt(e=o.yOffset)?e=e():g(e)?(e=e[0],e="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom):f(e)||(e=0),e&&(t=t.getBoundingClientRect().top,n.scrollBy(0,t-e))):n.scrollTo(0,0)}function o(t){var e,n,i;(t=gt(t)?t:f(t)?t.toString():r.hash())?(e=u.getElementById(t))?s(e):(n=u.getElementsByName(t),i=null,Array.prototype.some.call(n,function(t){if("a"===Tt(t))return i=t,!0}),(e=i)?s(e):"top"===t&&s(null)):s(null)}var u=n.document;return t&&a.$watch(function(){return r.hash()},function(t,e){var n,i;t===e&&""===t||(n=function(){a.$evalAsync(o)},"complete"===(i=i||ot).document.readyState?i.setTimeout(n):Fn(i).on("load",n))}),o}]}function Nt(t,e){return t||e?t?e?(oi(t)&&(t=t.join(" ")),oi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Ht(t){return mt(t)?t:{}}function jt(a,t,e,s){function i(t){try{t.apply(null,Yn.call(arguments,1))}finally{if(0===--p)for(;m.length;)try{m.pop()()}catch(t){e.error(t)}}}function n(){_=null,r()}function o(){Ct(g=ft(g=T())?null:g,C)&&(g=C),v=C=g}function r(){var t=v;o(),y===u.url()&&t===g||(y=u.url(),v=g,ut(S,function(t){t(u.url(),g)}))}var u=this,l=a.location,c=a.history,h=a.setTimeout,d=a.clearTimeout,f={};u.isMock=!1;var p=0,m=[];u.$$completeOutstandingRequest=i,u.$$incOutstandingRequestCount=function(){p++},u.notifyWhenNoOutstandingRequests=function(t){0===p?t():m.push(t)};var g,v,y=l.href,b=t.find("base"),_=null,T=s.history?function(){try{return c.state}catch(t){}}:ht;o(),u.url=function(t,e,n){if(ft(n)&&(n=null),l!==a.location&&(l=a.location),c!==a.history&&(c=a.history),t){var i=v===n;if(y===t&&(!s.history||i))return u;var r=y&&ve(y)===ve(t);return y=t,v=n,!s.history||r&&i?(r||(_=t),e?l.replace(t):r?(e=l,n=-1===(n=t.indexOf("#"))?"":t.substr(n),e.hash=n):l.href=t,l.href!==t&&(_=t)):(c[e?"replaceState":"pushState"](n,"",t),o()),_=_&&t,u}return _||l.href.replace(/%27/g,"'")},u.state=function(){return g};var S=[],w=!1,C=null;u.onUrlChange=function(t){return w||(s.history&&Fn(a).on("popstate",n),Fn(a).on("hashchange",n),w=!0),S.push(t),t},u.$$applicationDestroyed=function(){Fn(a).off("hashchange popstate",n)},u.$$checkUrlChange=r,u.baseHref=function(){var t=b.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},u.defer=function(t,e){var n;return p++,n=h(function(){delete f[n],i(t)},e||0),f[n]=!0,n},u.defer.cancel=function(t){return!!f[t]&&(delete f[t],d(t),i(ht),!0)}}function Ft(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new jt(t,i,e,n)}]}function Gt(){this.$get=function(){function t(t,e){function n(t){t!==l&&(c?c===t&&(c=t.n):c=t,i(t.n,t.p),i(t,l),(l=t).n=null)}function i(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in h)throw x("$cacheFactory")("iid",t);var r=0,a=lt({},e,{id:t}),s=Pt(),o=e&&e.capacity||Number.MAX_VALUE,u=Pt(),l=null,c=null;return h[t]={put:function(t,e){if(!ft(e)){if(o<Number.MAX_VALUE)n(u[t]||(u[t]={key:t}));return t in s||r++,s[t]=e,o<r&&this.remove(c.key),e}},get:function(t){if(o<Number.MAX_VALUE){var e=u[t];if(!e)return;n(e)}return s[t]},remove:function(t){if(o<Number.MAX_VALUE){var e=u[t];if(!e)return;e===l&&(l=e.p),e===c&&(c=e.n),i(e.n,e.p),delete u[t]}t in s&&(delete s[t],r--)},removeAll:function(){s=Pt(),r=0,u=Pt(),l=c=null},destroy:function(){u=a=s=null,delete h[t]},info:function(){return lt({},a,{size:r})}}}var h={};return t.info=function(){var n={};return ut(h,function(t,e){n[e]=t.info()}),n},t.get=function(t){return h[t]},t}}function Vt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function qt(n,e){function m(t,i,r){var a=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,s=Pt();return ut(t,function(t,e){if(t in o)s[e]=o[t];else{var n=t.match(a);if(!n)throw Zi("iscp",i,e,t,r?"controller bindings definition":"isolate scope definition");s[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e},n[4]&&(o[t]=s[e])}}),s}var g={},$=/^\s*directive:\s*([\w-]+)\s+(.*)$/,M=/(([\w-]+)(?::([^;]+))?;?)/,l=function(t){var e,n={};for(t=t.split(","),e=0;e<t.length;e++)n[t[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),D=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,L=/^(on[a-z]+|formaction)$/,o=Pt();this.directive=function t(c,e){return xt(c,"name"),N(c,"directive"),gt(c)?(function(t){var e=t.charAt(0);if(!e||e!==Xn(e))throw Zi("baddir",t);if(t!==t.trim())throw Zi("baddir",t)}(c),xt(e,"directiveFactory"),g.hasOwnProperty(c)||(g[c]=[],n.factory(c+"Directive",["$injector","$exceptionHandler",function(o,u){var l=[];return ut(g[c],function(t,e){try{var n=o.invoke(t);yt(n)?n={compile:w(n)}:!n.compile&&n.link&&(n.compile=w(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||c,n.require=(s=(a=n).require||a.controller&&a.name,!oi(s)&&mt(s)&&ut(s,function(t,e){var n=t.match(D);t.substring(n[0].length)||(s[e]=n[0]+e)}),s);var i=n,r=n.restrict;if(r&&(!gt(r)||!/[EACM]/.test(r)))throw Zi("badrestrict",r,c);i.restrict=r||"EA",n.$$moduleName=t.$$moduleName,l.push(n)}catch(t){u(t)}var a,s}),l}])),g[c].push(e)):ut(c,v(t)),this},this.component=function t(e,r){function n(i){function t(n){return yt(n)||oi(n)?function(t,e){return i.invoke(n,this,{$element:t,$attrs:e})}:n}var e=r.template||r.templateUrl?r.template:"",n={controller:a,controllerAs:function(t,e){if(e&&gt(e))return e;if(gt(t)){var n=ar.exec(t);if(n)return n[3]}}(r.controller)||r.controllerAs||"$ctrl",template:t(e),templateUrl:t(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return ut(r,function(t,e){"$"===e.charAt(0)&&(n[e]=t)}),n}if(!gt(e))return ut(e,v(Et(this,t))),this;var a=r.controller||function(){};return ut(r,function(t,e){"$"===e.charAt(0)&&(n[e]=t,yt(a)&&(a[e]=t))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(t){return pt(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return pt(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var U=!0,rt=!(this.debugInfoEnabled=function(t){return pt(t)?(U=t,this):U}),R=!(this.preAssignBindingsEnabled=function(t){return pt(t)?(rt=t,this):rt});this.strictComponentBindingsEnabled=function(t){return pt(t)?(R=t,this):R};var B=10;this.onChangesTtl=function(t){return arguments.length?(B=t,this):B};var at=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(at=t,this):at};var st=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(st=t,this):st},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(f,b,N,t,v,H,a,i,r,c){function s(){try{if(!--e)throw o=void 0,Zi("infchng",B);a.$apply(function(){for(var e=[],t=0,n=o.length;t<n;++t)try{o[t]()}catch(t){e.push(t)}if(o=void 0,e.length)throw e})}finally{e++}}function j(t,e){if(e){var n,i,r,a=Object.keys(e);for(n=0,i=a.length;n<i;n++)this[r=a[n]]=e[r]}else this.$attr={};this.$$element=t}function w(t,e){try{t.addClass(e)}catch(t){}}function F(s,t,e,n,o){s instanceof Fn||(s=Fn(s));var u=C(s,t,s,e,n,o);F.$$addScopeClass(s);var l=null;return function(t,e,n){if(!s)throw Zi("multilink");xt(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new());var i=(n=n||{}).parentBoundTranscludeFn,r=n.transcludeControllers;if(n=n.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),n="html"!==(l=l||((n=n&&n[0])&&"foreignobject"!==Tt(n)&&Zn.call(n).match(/SVG/)?"svg":"html"))?Fn(J(l,Fn("<div>").append(s).html())):e?$i.clone.call(s):s,r)for(var a in r)n.data("$"+a+"Controller",r[a].instance);return F.$$addScopeInfo(n,t),e&&e(n,t),u&&u(t,n,n,i),e||(s=u=null),n}}function C(t,c,e,n,i,r){for(var a,s,o,u,h,d=[],l=oi(t)||t instanceof Fn,f=0;f<t.length;f++)a=new j,11===jn&&p(t,f,l),(r=(s=G(t[f],[],a,0===f?n:void 0,i)).length?k(s,t[f],a,c,e,null,[],[],r):null)&&r.scope&&F.$$addScopeClass(a.$$element),a=r&&r.terminal||!(o=t[f].childNodes)||!o.length?null:C(o,r?(r.transcludeOnThisElement||!r.templateOnThisElement)&&r.transclude:c),(r||a)&&(d.push(f,r,a),u=!0,h=h||r),r=null;return u?function(t,e,n,i){var r,a,s,o,u,l;if(h)for(l=Array(e.length),o=0;o<d.length;o+=3)l[r=d[o]]=e[r];else l=e;for(o=0,u=d.length;o<u;)a=l[d[o++]],e=d[o++],r=d[o++],e?(e.scope?(s=t.$new(),F.$$addScopeInfo(Fn(a),s)):s=t,e(r,s,a,n,e.transcludeOnThisElement?E(t,e.transclude,i):!e.templateOnThisElement&&i?i:!i&&c?E(t,c):null)):r&&r(t,a.childNodes,void 0,i)}:null}function p(t,e,n){var i,r=t[e],a=r.parentNode;if(r.nodeType===yi)for(;(i=a?r.nextSibling:t[e+1])&&i.nodeType===yi;)r.nodeValue+=i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===t[e+1]&&t.splice(e+1,1)}function E(a,s,o){function t(t,e,n,i,r){return t||((t=a.$new(!1,r)).$$transcluded=!0),s(t,e,{parentBoundTranscludeFn:o,transcludeControllers:n,futureParentElement:i})}var e,n=t.$$slots=Pt();for(e in s.$$slots)n[e]=s.$$slots[e]?E(a,s.$$slots[e],o):null;return t}function G(t,e,n,i,r){var a,s,o,u,l=n.$attr;switch(t.nodeType){case 1:_(e,zt(a=Tt(t)),"E",i,r);for(var c,h,d,f,p=t.attributes,m=0,g=p&&p.length;m<g;m++){var v=!1,y=!1;h=(c=p[m]).name,d=c.value,c=zt(h),(f=O.test(c))&&(h=h.replace(nr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})),(c=c.match(I))&&T(c[1])&&(y=(v=h).substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),l[c=zt(h.toLowerCase())]=h,!f&&n.hasOwnProperty(c)||(n[c]=d,It(t,c)&&(n[c]=!0)),A(t,e,d,c,f),_(e,c,"A",i,r,v,y)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!P)break;if(mt(l=t.className)&&(l=l.animVal),gt(l)&&""!==l)for(;t=M.exec(l);)_(e,c=zt(t[2]),"C",i,r)&&(n[c]=li(t[3])),l=l.substr(t.index+t[0].length);break;case yi:s=e,o=t.nodeValue,(u=b(o,!0))&&s.push({priority:0,compile:function(t){var i=!!(t=t.parent()).length;return i&&F.$$addBindingClass(t),function(t,e){var n=e.parent();i||F.$$addBindingClass(n),F.$$addBindingInfo(n,u.expressions),t.$watch(u,function(t){e[0].nodeValue=t})}}});break;case 8:if(!x)break;!function(t,e,n,i,r){try{var a=$.exec(t.nodeValue);if(a){var s=zt(a[1]);_(e,s,"M",i,r)&&(n[s]=li(a[2]))}}catch(t){}}(t,e,n,i,r)}return e.sort(S),e}function V(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Zi("uterdir",e,n);1===t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r);else i.push(t);return Fn(i)}function q(a,s,o){return function(t,e,n,i,r){return e=V(e[0],s,o),a(t,e,n,i,r)}}function W(t,e,n,i,r,a){var s;return t?F(e,n,i,r,a):function(){return s||(s=F(e,n,i,r,a),e=n=a=null),s.apply(this,arguments)}}function k(t,g,v,e,n,i,y,b,r){function a(t,e,n,i){t&&(n&&(t=q(t,n,i)),t.require=o.require,t.directiveName=u,S!==o&&!o.$$isolateScope||(t=tt(t,{isolateScope:!0})),y.push(t)),e&&(n&&(e=q(e,n,i)),e.require=o.require,e.directiveName=u,S!==o&&!o.$$isolateScope||(e=tt(e,{isolateScope:!0})),b.push(e))}function s(t,e,n,i,s){var r,a,o,u,l,c,h,d;for(r in g===n?d=(i=v).$$element:i=new j(d=Fn(n),v),l=e,S?u=e.$new(!0):_&&(l=e.$parent),s&&((h=function(t,e,n,i){var r;if(bt(t)||(i=n,n=e,e=t,t=void 0),C&&(r=c),n=n||(C?d.parent():d),!i)return s(t,e,r,n,m);var a=s.$$slots[i];if(a)return a(t,e,r,n,m);if(ft(a))throw Zi("noslot",i,kt(d))}).$$boundTransclude=s,h.isSlotFilled=function(t){return!!s.$$slots[t]}),T&&(c=function(t,e,n,i,r,a,s){var o,u=Pt();for(o in i){var l=i[o],c={$scope:l===s||l.$$isolateScope?r:a,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]),c=H(h,c,!0,l.controllerAs),u[l.name]=c,t.data("$"+l.name+"Controller",c.instance)}return u}(d,i,h,T,u,e,S)),S&&(F.$$addScopeInfo(d,u,!0,!(w&&(w===S||w===S.$$originalDirective))),F.$$addScopeClass(d,!0),u.$$isolateBindings=S.$$isolateBindings,(a=nt(e,i,u,u.$$isolateBindings,S)).removeWatches&&u.$on("$destroy",a.removeWatches)),c){a=T[r],o=c[r];var f=a.$$bindings.bindToController;if(rt){o.bindingInfo=f?nt(l,i,o.instance,f,a):{};var p=o();p!==o.instance&&(o.instance=p,d.data("$"+a.name+"Controller",p),o.bindingInfo.removeWatches&&o.bindingInfo.removeWatches(),o.bindingInfo=nt(l,i,o.instance,f,a))}else o.instance=o(),d.data("$"+a.name+"Controller",o.instance),o.bindingInfo=nt(l,i,o.instance,f,a)}for(ut(T,function(t,e){var n=t.require;t.bindToController&&!oi(n)&&mt(n)&&lt(c[e].instance,z(e,n,d,c))}),ut(c,function(t){var e=t.instance;if(yt(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){N(t)}if(yt(e.$onInit))try{e.$onInit()}catch(t){N(t)}yt(e.$doCheck)&&(l.$watch(function(){e.$doCheck()}),e.$doCheck()),yt(e.$onDestroy)&&l.$on("$destroy",function(){e.$onDestroy()})}),r=0,a=y.length;r<a;r++)et(o=y[r],o.isolateScope?u:e,d,i,o.require&&z(o.directiveName,o.require,d,c),h);var m=e;for(S&&(S.template||null===S.templateUrl)&&(m=u),t&&t(m,n.childNodes,void 0,s),r=b.length-1;0<=r;r--)et(o=b[r],o.isolateScope?u:e,d,i,o.require&&z(o.directiveName,o.require,d,c),h);ut(c,function(t){yt((t=t.instance).$postLink)&&t.$postLink()})}r=r||{};for(var o,u,l,c,h,d=-Number.MAX_VALUE,_=r.newScopeDirective,T=r.controllerDirectives,S=r.newIsolateScopeDirective,w=r.templateDirective,f=r.nonTlbTranscludeDirective,p=!1,m=!1,C=r.hasElementTranscludeDirective,E=v.$$element=Fn(g),k=e,A=!1,x=!1,P=0,O=t.length;P<O;P++){var I=(o=t[P]).$$start,$=o.$$end;if(I&&(E=V(g,I,$)),l=void 0,d>o.priority)break;if((h=o.scope)&&(o.templateUrl||(mt(h)?(Q("new/isolated scope",S||_,o,E),S=o):Q("new/isolated scope",S,o,E)),_=_||o),u=o.name,!A&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(h=P+1;A=t[h++];)if(A.transclude&&!A.$$tlb||A.replace&&(A.templateUrl||A.template)){x=!0;break}A=!0}if(!o.templateUrl&&o.controller&&(T=T||Pt(),Q("'"+u+"' controller",T[u],o,E),T[u]=o),h=o.transclude)if(p=!0,o.$$tlb||(Q("transclusion",f,o,E),f=o),"element"===h)C=!0,d=o.priority,l=E,E=v.$$element=Fn(F.$$createComment(u,v[u])),g=E[0],Z(n,Yn.call(l,0),g),l[0].$$parentNode=l[0].parentNode,k=W(x,l,e,d,i&&i.name,{nonTlbTranscludeDirective:f});else{var M=Pt();if(mt(h)){l=[];var D=Pt(),L=Pt();for(var U in ut(h,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,D[t]=e,M[e]=null,L[e]=n}),ut(E.contents(),function(t){var e=D[zt(Tt(t))];e?(L[e]=!0,M[e]=M[e]||[],M[e].push(t)):l.push(t)}),ut(L,function(t,e){if(!t)throw Zi("reqslot",e)}),M)M[U]&&(M[U]=W(x,M[U],e))}else l=Fn(Ot(g)).contents();E.empty(),(k=W(x,l,e,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope})).$$slots=M}if(o.template)if(m=!0,Q("template",w,o,E),h=yt((w=o).template)?o.template(E,v):o.template,h=it(h),o.replace){if(i=o,l=Ai.test(h)?Kt(J(o.templateNamespace,li(h))):[],g=l[0],1!==l.length||1!==g.nodeType)throw Zi("tplrt",u,"");Z(n,E,g),h=G(g,[],O={$attr:{}});var R=t.splice(P+1,t.length-(P+1));(S||_)&&X(h,S,_),t=t.concat(h).concat(R),K(v,O),O=t.length}else E.html(h);if(o.templateUrl)m=!0,Q("template",w,o,E),(w=o).replace&&(i=o),s=Y(t.splice(P,t.length-P),E,v,n,p&&k,y,b,{controllerDirectives:T,newScopeDirective:_!==o&&_,newIsolateScopeDirective:S,templateDirective:w,nonTlbTranscludeDirective:f}),O=t.length;else if(o.compile)try{c=o.compile(E,v,k);var B=o.$$originalDirective||o;yt(c)?a(null,Et(B,c),I,$):c&&a(Et(B,c.pre),Et(B,c.post),I,$)}catch(t){N(t,kt(E))}o.terminal&&(s.terminal=!0,d=Math.max(d,o.priority))}return s.scope=_&&!0===_.scope,s.transcludeOnThisElement=p,s.templateOnThisElement=m,s.transclude=k,r.hasElementTranscludeDirective=C,s}function z(n,t,i,r){var a;if(gt(t)){var e=t.match(D);t=t.substring(e[0].length);var s=e[1]||e[3];e="?"===e[2];if("^^"===s?i=i.parent():a=(a=r&&r[t])&&a.instance,!a){var o="$"+t+"Controller";a=s?i.inheritedData(o):i.data(o)}if(!a&&!e)throw Zi("ctreq",t,n)}else if(oi(t))for(a=[],s=0,e=t.length;s<e;s++)a[s]=z(n,t[s],i,r);else mt(t)&&(a={},ut(t,function(t,e){a[e]=z(n,t,i,r)}));return a||null}function X(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=ct(t[i],{$$isolateScope:e,$$newScope:n})}function _(t,e,n,i,r,a,s){if(e!==r){var o=null;if(g.hasOwnProperty(e))for(var u=0,l=(r=f.get(e+"Directive")).length;u<l;u++)if(e=r[u],(ft(i)||i>e.priority)&&-1!==e.restrict.indexOf(n)){if(a&&(e=ct(e,{$$start:a,$$end:s})),!e.$$bindings){var c=o=e,h=e.name,d={isolateScope:null,bindToController:null};if(mt(c.scope)&&(!0===c.bindToController?(d.bindToController=m(c.scope,h,!0),d.isolateScope={}):d.isolateScope=m(c.scope,h,!1)),mt(c.bindToController)&&(d.bindToController=m(c.bindToController,h,!0)),d.bindToController&&!c.controller)throw Zi("noctrl",h);mt((o=o.$$bindings=d).isolateScope)&&(e.$$isolateBindings=o.isolateScope)}t.push(e),o=e}return o}}function T(t){if(g.hasOwnProperty(t))for(var e=f.get(t+"Directive"),n=0,i=e.length;n<i;n++)if((t=e[n]).multiElement)return 1}function K(n,i){var r=i.$attr,a=n.$attr;ut(n,function(t,e){"$"!==e.charAt(0)&&(i[e]&&i[e]!==t&&(t=t.length?t+(("style"===e?";":" ")+i[e]):i[e]),n.$set(e,t,!0,r[e]))}),ut(i,function(t,e){n.hasOwnProperty(e)||"$"===e.charAt(0)||(n[e]=t,"class"!==e&&"style"!==e&&(a[e]=r[e]))})}function Y(o,u,l,c,h,d,f,p){var m,g,v=[],y=u[0],b=o.shift(),_=ct(b,{templateUrl:null,transclude:null,replace:null,$$originalDirective:b}),T=yt(b.templateUrl)?b.templateUrl(u,l):b.templateUrl,S=b.templateNamespace;return u.empty(),t(T).then(function(t){var n,e;if(t=it(t),b.replace){if(t=Ai.test(t)?Kt(J(S,li(t))):[],n=t[0],1!==t.length||1!==n.nodeType)throw Zi("tplrt",b.name,T);t={$attr:{}},Z(c,u,n);var i=G(n,[],t);mt(b.scope)&&X(i,!0),o=i.concat(o),K(l,t)}else n=y,u.html(t);for(o.unshift(_),m=k(o,n,l,h,u,b,d,f,p),ut(c,function(t,e){t===n&&(c[e]=u[0])}),g=C(u[0].childNodes,h);v.length;){t=v.shift(),e=v.shift();var r=v.shift(),a=v.shift();i=u[0];if(!t.$$destroyed){if(e!==y){var s=e.className;p.hasElementTranscludeDirective&&b.replace||(i=Ot(n)),Z(r,Fn(e),i),w(Fn(i),s)}e=m.transcludeOnThisElement?E(t,m.transclude,a):a,m(g,t,i,c,e)}}v=null}).catch(function(t){vt(t)&&N(t)}),function(t,e,n,i,r){t=r,e.$$destroyed||(v?v.push(e,n,i,t):(m.transcludeOnThisElement&&(t=E(e,m.transclude,r)),m(g,e,n,i,t)))}}function S(t,e){var n=e.priority-t.priority;return 0!=n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Q(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Zi("multidir",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,kt(i))}function J(t,e){switch(t=Xn(t||"html")){case"svg":case"math":var n=ot.document.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function A(t,e,r,a,n){var s=function(t,e){if("srcdoc"===e)return i.HTML;var n=Tt(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return i.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return i.RESOURCE_URL}(t,a),o=l[a]||n,u=b(r,!n,s,o);if(u){if("multiple"===a&&"select"===Tt(t))throw Zi("selmulti",kt(t));if(L.test(a))throw Zi("nodomevents");e.push({priority:100,compile:function(){return{pre:function(t,e,n){e=n.$$observers||(n.$$observers=Pt());var i=n[a];i!==r&&(u=i&&b(i,!0,s,o),r=i),u&&(n[a]=u(t),(e[a]||(e[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||t).$watch(u,function(t,e){"class"===a&&t!==e?n.$updateClass(t,e):n.$set(a,t)}))}}}})}}function Z(t,e,n){var i,r,a=e[0],s=e.length,o=a.parentNode;if(t)for(i=0,r=t.length;i<r;i++)if(t[i]===a){t[i++]=n,r=i+s-1;for(var u=t.length;i<u;i++,r++)r<u?t[i]=t[r]:delete t[i];t.length-=s-1,t.context===a&&(t.context=n);break}for(o&&o.replaceChild(n,a),t=ot.document.createDocumentFragment(),i=0;i<s;i++)t.appendChild(e[i]);for(Fn.hasData(a)&&(Fn.data(n,Fn.data(a)),Fn(a).off("$destroy")),Fn.cleanData(t.querySelectorAll("*")),i=1;i<s;i++)delete e[i];e[0]=n,e.length=1}function tt(t,e){return lt(function(){return t.apply(null,arguments)},t,e)}function et(t,e,n,i,r,a){try{t(e,n,i,r,a)}catch(t){N(t,kt(n))}}function y(t,e){if(R)throw Zi("missingattr",t,e)}function nt(c,h,d,t,f){function p(t,e,n){yt(d.$onChanges)&&!wt(e,n)&&(o||(c.$$postDigest(s),o=[]),r||(r={},o.push(i)),r[t]&&(n=r[t].previousValue),r[t]=new Wt(n,e))}function i(){d.$onChanges(r),r=void 0}var r,m=[],g={};return ut(t,function(t,n){var e,i,r,a,s=t.attrName,o=t.optional;switch(t.mode){case"@":o||zn.call(h,s)||(y(s,f.name),d[n]=h[s]=void 0),o=h.$observe(s,function(t){(gt(t)||_t(t))&&(p(n,t,d[n]),d[n]=t)}),h.$$observers[s].$$scope=c,gt(e=h[s])?d[n]=b(e)(c):_t(e)&&(d[n]=e),g[n]=new Wt(tr,d[n]),m.push(o);break;case"=":if(!zn.call(h,s)){if(o)break;y(s,f.name),h[s]=void 0}if(o&&!h[s])break;i=v(h[s]),a=i.literal?Ct:wt,r=i.assign||function(){throw e=d[n]=i(c),Zi("nonassign",h[s],s,f.name)},e=d[n]=i(c),(o=function(t){return a(t,d[n])||(a(t,e)?r(c,t=d[n]):d[n]=t),e=t}).$stateful=!0,o=t.collection?c.$watchCollection(h[s],o):c.$watch(v(h[s],o),null,i.literal),m.push(o);break;case"<":if(!zn.call(h,s)){if(o)break;y(s,f.name),h[s]=void 0}if(o&&!h[s])break;var u=(i=v(h[s])).literal,l=d[n]=i(c);g[n]=new Wt(tr,d[n]),o=c.$watch(i,function(t,e){if(e===t){if(e===l||u&&Ct(e,l))return;e=l}p(n,t,e),d[n]=t},u),m.push(o);break;case"&":if(o||zn.call(h,s)||y(s,f.name),(i=h.hasOwnProperty(s)?v(h[s]):ht)===ht&&o)break;d[n]=function(t){return i(c,t)}}}),{initialChanges:g,removeWatches:m.length&&function(){for(var t=0,e=m.length;t<e;++t)m[t]()}}}var o,h=/^\w/,d=ot.document.createElement("div"),x=at,P=st,e=B;j.prototype={$normalize:zt,$addClass:function(t){t&&0<t.length&&r.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&r.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Xt(t,e);n&&n.length&&r.addClass(this.$$element,n),(n=Xt(e,t))&&n.length&&r.removeClass(this.$$element,n)},$set:function(t,e,n,i){var r=It(this.$$element[0],t),a=Li[t],s=t;if(r?(this.$$element.prop(t,e),i=r):a&&(this[a]=e,s=a),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=At(t,"-")),"a"===(r=Tt(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===r&&"src"===t)this[t]=e=c(e,"src"===t);else if("img"===r&&"srcset"===t&&pt(e)){r="",a=li(e);for(var o=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=(o=/\s/.test(a)?o:/(,)/,a=a.split(o),o=Math.floor(a.length/2),0);u<o;u++){var l=2*u;r=(r=r+c(li(a[l]),!0))+(" "+li(a[1+l]))}a=li(a[2*u]).split(/\s/),r+=c(li(a[0]),!0),2===a.length&&(r+=" "+li(a[1])),this[t]=e=r}!1!==n&&(null===e||ft(e)?this.$$element.removeAttr(i):h.test(i)?this.$$element.attr(i,e):function(t,e,n){d.innerHTML="<span "+e+">";var i=(e=d.firstChild.attributes)[0];e.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}(this.$$element[0],i,e)),(t=this.$$observers)&&ut(t[s],function(t){try{t(e)}catch(t){N(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=Pt()),r=i[t]||(i[t]=[]);return r.push(e),a.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||ft(n[t])||e(n[t])}),function(){St(r,e)}}};var n=b.startSymbol(),u=b.endSymbol(),it="{{"===n&&"}}"===u?dt:function(t){return t.replace(/\{\{/g,n).replace(/}}/g,u)},O=/^ngAttr[A-Z]/,I=/^(.+)Start$/;return F.$$addBindingInfo=U?function(t,e){var n=t.data("$binding")||[];oi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:ht,F.$$addBindingClass=U?function(t){w(t,"ng-binding")}:ht,F.$$addScopeInfo=U?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:ht,F.$$addScopeClass=U?function(t,e){w(t,e?"ng-isolate-scope":"ng-scope")}:ht,F.$$createComment=function(t,e){var n="";return U&&(n=" "+(t||"")+": ",e&&(n+=e+" ")),ot.document.createComment(n)},F}]}function Wt(t,e){this.previousValue=t,this.currentValue=e}function zt(t){return t.replace(nr,"").replace(ir,function(t,e,n){return n?e.toUpperCase():e})}function Xt(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),a=0;t:for(;a<i.length;a++){for(var s=i[a],o=0;o<r.length;o++)if(s===r[o])continue t;n+=(0<n.length?" ":"")+s}return n}function Kt(t){var e=(t=Fn(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(8===n.nodeType||n.nodeType===yi&&""===n.nodeValue.trim())&&Qn.call(t,e,1)}return t}function Yt(){var c={},h=!1;this.has=function(t){return c.hasOwnProperty(t)},this.register=function(t,e){N(t,"controller"),mt(t)?lt(c,t):c[t]=e},this.allowGlobals=function(){h=!0},this.$get=["$injector","$window",function(o,u){function l(t,e,n,i){if(!t||!mt(t.$scope))throw x("$controller")("noscp",i,e);t.$scope[e]=n}return function(e,n,t,i){var r,a,s;if(t=!0===t,i&&gt(i)&&(s=i),gt(e)){if(!(i=e.match(ar)))throw rr("ctrlfmt",e);if(a=i[1],s=s||i[3],!(e=c.hasOwnProperty(a)?c[a]:D(n.$scope,a,!0)||(h?D(u,a,!0):void 0)))throw rr("ctrlreg",a);M(e,a,!0)}return t?(t=(oi(e)?e[e.length-1]:e).prototype,r=Object.create(t||null),s&&l(n,s,r,a||e.name),lt(function(){var t=o.invoke(e,r,n,a);return t!==r&&(mt(t)||yt(t))&&(r=t,s&&l(n,s,r,a||e.name)),r},{instance:r,identifier:s})):(r=o.instantiate(e,n,a),s&&l(n,s,r,a||e.name),r)}}]}function Qt(){this.$get=["$window",function(t){return Fn(t.document)}]}function Jt(){this.$get=["$document","$rootScope",function(t,e){function n(){r=i.hidden}var i=t[0],r=i&&i.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return r}}]}function Zt(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}function te(t){return mt(t)?y(t)?t.toISOString():n(t):t}function ee(){this.$get=function(){return function(t){if(!t)return"";var n=[];return a(t,function(t,e){null===t||ft(t)||yt(t)||(oi(t)?ut(t,function(t){n.push(A(e)+"="+A(te(t)))}):n.push(A(e)+"="+A(te(t))))}),n.join("&")}}}function ne(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function n(t,i,r){null===t||ft(t)||(oi(t)?ut(t,function(t,e){n(t,i+"["+(mt(t)?e:"")+"]")}):mt(t)&&!y(t)?a(t,function(t,e){n(t,i+(r?"":"[")+e+(r?"":"]"))}):e.push(A(i)+"="+A(te(t))))}(t,"",!0),e.join("&")}}}function ie(e,t){if(gt(e)){var n,i,r=e.replace(cr,"").trim();if(r)if((i=n=(n=t("Content-Type"))&&0===n.indexOf(sr))||(i=(i=r.match(ur))&&lr[i[0]].test(r)),i)try{e=s(r)}catch(t){if(!n)return e;throw hr("baddata",e,t)}}return e}function re(t){var n,r=Pt();return gt(t)?ut(t.split("\n"),function(t){n=t.indexOf(":");var e=Xn(li(t.substr(0,n)));t=li(t.substr(n+1)),e&&(r[e]=r[e]?r[e]+", "+t:t)}):mt(t)&&ut(t,function(t,e){var n=Xn(e),i=li(t);n&&(r[n]=r[n]?r[n]+", "+i:i)}),r}function ae(e){var n;return function(t){return n=n||re(e),t?(void 0===(t=n[Xn(t)])&&(t=null),t):n}}function se(e,n,i,t){return yt(t)?t(e,n,i):(ut(t,function(t){e=t(e,n,i)}),e)}function oe(){var C=this.defaults={transformResponse:[ie],transformRequest:[function(t){return mt(t)&&"[object File]"!==Zn.call(t)&&"[object Blob]"!==Zn.call(t)&&"[object FormData]"!==Zn.call(t)?n(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(or),put:R(or),patch:R(or)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},E=!1;this.useApplyAsync=function(t){return pt(t)?(E=!!t,this):E};var e=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(a,v,y,t,b,_,s,T){function S(t){function e(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],a=e[n++];t=t.then(r,a)}return e.length=0,t}function g(t){var e=lt({},t);return e.data=se(t.data,t.headers,t.status,n.transformResponse),200<=(t=t.status)&&t<300?e:_.reject(e)}if(!mt(t))throw x("$http")("badreq",t);if(!gt(T.valueOf(t.url)))throw x("$http")("badreq",t.url);var n=lt({method:"get",transformRequest:C.transformRequest,transformResponse:C.transformResponse,paramSerializer:C.paramSerializer,jsonpCallbackParam:C.jsonpCallbackParam},t);n.headers=function(t){var e,n,i,r,a,s,o,u=C.headers,l=lt({},t.headers);u=lt({},u.common,u[Xn(t.method)]);t:for(e in u){for(i in n=Xn(e),l)if(Xn(i)===n)continue t;l[e]=u[e]}return r=l,a=R(t),o={},ut(r,function(t,e){yt(t)?null!=(s=t(a))&&(o[e]=s):o[e]=t}),o}(t),n.method=Kn(n.method),n.paramSerializer=gt(n.paramSerializer)?s.get(n.paramSerializer):n.paramSerializer,a.$$incOutstandingRequestCount();var i=[],r=[];return t=_.resolve(n),ut(o,function(t){(t.request||t.requestError)&&i.unshift(t.request,t.requestError),(t.response||t.responseError)&&r.push(t.response,t.responseError)}),t=e(t,i),(t=e(t=t.then(function(t){var a,e,s,n,o,i,r,u,l,c=t.headers,h=se(t.data,ae(c),void 0,t.transformRequest);return ft(h)&&ut(c,function(t,e){"content-type"===Xn(e)&&delete c[e]}),ft(t.withCredentials)&&!ft(C.withCredentials)&&(t.withCredentials=C.withCredentials),a=t,e=h,o=_.defer(),i=o.promise,r=a.headers,u="jsonp"===Xn(a.method),l=a.url,u?l=T.getTrustedResourceUrl(l):gt(l)||(l=T.valueOf(l)),l=function(t,e){return 0<e.length&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(l,a.paramSerializer(a.params)),u&&(l=function(n,i){var t=n.split("?");if(2<t.length)throw hr("badjsonp",n);return ut(t=k(t[1]),function(t,e){if("JSON_CALLBACK"===t)throw hr("badjsonp",n);if(e===i)throw hr("badjsonp",i,n)}),n+=(-1===n.indexOf("?")?"?":"&")+i+"=JSON_CALLBACK"}(l,a.jsonpCallbackParam)),S.pendingRequests.push(a),i.then(m,m),!a.cache&&!C.cache||!1===a.cache||"GET"!==a.method&&"JSONP"!==a.method||(s=mt(a.cache)?a.cache:mt(C.cache)?C.cache:w),s&&(pt(n=s.get(l))?n&&yt(n.then)?n.then(p,p):oi(n)?f(n[1],n[0],R(n[2]),n[3],n[4]):f(n,200,{},"OK","complete"):s.put(l,i)),ft(n)&&((n=Je(a.url)?y()[a.xsrfCookieName||C.xsrfCookieName]:void 0)&&(r[a.xsrfHeaderName||C.xsrfHeaderName]=n),v(a.method,l,e,function(t,e,n,i,r){function a(){f(e,t,n,i,r)}s&&(200<=t&&t<300?s.put(l,[t,e,re(n),i,r]):s.remove(l)),E?b.$applyAsync(a):(a(),b.$$phase||b.$apply())},r,a.timeout,a.withCredentials,a.responseType,d(a.eventHandlers),d(a.uploadEventHandlers))),i.then(g,g);function d(t){if(t){var e={};return ut(t,function(n,t){e[t]=function(t){function e(){n(t)}E?b.$applyAsync(e):b.$$phase?e():b.$apply(e)}}),e}}function f(t,e,n,i,r){(200<=(e=-1<=e?e:0)&&e<300?o.resolve:o.reject)({data:t,status:e,headers:ae(n),config:a,statusText:i,xhrStatus:r})}function p(t){f(t.data,t.status,R(t.headers()),t.statusText,t.xhrStatus)}function m(){var t=S.pendingRequests.indexOf(a);-1!==t&&S.pendingRequests.splice(t,1)}}),r)).finally(function(){a.$$completeOutstandingRequest(ht)})}var w=t("$http");C.paramSerializer=gt(C.paramSerializer)?s.get(C.paramSerializer):C.paramSerializer;var o=[];return ut(e,function(t){o.unshift(gt(t)?s.get(t):s.invoke(t))}),S.pendingRequests=[],function(t){ut(arguments,function(n){S[n]=function(t,e){return S(lt({},e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){ut(arguments,function(i){S[i]=function(t,e,n){return S(lt({},n||{},{method:i,url:t,data:e}))}})}("post","put","patch"),S.defaults=C,S}]}function ue(){this.$get=function(){return function(){return new ot.XMLHttpRequest}}}function le(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return v=i,y=(g=t).defer,b=e,_=n[0],function(t,i,e,r,n,a,s,o,u,l){function c(){f&&f(),p&&p.abort()}function h(t,e,n,i,r,a){pt(m)&&y.cancel(m),f=p=null,t(e,n,i,r,a)}if(i=i||g.url(),"jsonp"===Xn(t))var d=b.createCallback(i),f=function(t,i,r){t=t.replace("JSON_CALLBACK",i);var a=_.createElement("script"),s=null;return a.type="text/javascript",a.src=t,a.async=!0,s=function(t){a.removeEventListener("load",s),a.removeEventListener("error",s),_.body.removeChild(a),a=null;var e=-1,n="unknown";t&&("load"!==t.type||b.wasCalled(i)||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),r&&r(e,n)},a.addEventListener("load",s),a.addEventListener("error",s),_.body.appendChild(a),s}(i,d,function(t,e){var n=200===t&&b.getResponse(d);h(r,t,n,"",e,"complete"),b.removeCallback(d)});else{var p=v(t,i);if(p.open(t,i,!0),ut(n,function(t,e){pt(t)&&p.setRequestHeader(e,t)}),p.onload=function(){var t=p.statusText||"",e="response"in p?p.response:p.responseText,n=1223===p.status?204:p.status;0===n&&(n=e?200:"file"===Qe(i).protocol?404:0),h(r,n,e,p.getAllResponseHeaders(),t,"complete")},p.onerror=function(){h(r,-1,null,null,"","error")},p.onabort=function(){h(r,-1,null,null,"","abort")},p.ontimeout=function(){h(r,-1,null,null,"","timeout")},ut(u,function(t,e){p.addEventListener(e,t)}),ut(l,function(t,e){p.upload.addEventListener(e,t)}),s&&(p.withCredentials=!0),o)try{p.responseType=o}catch(t){if("json"!==o)throw t}p.send(ft(e)?null:e)}if(0<a)var m=y(c,a);else a&&yt(a.then)&&a.then(c)};var g,v,y,b,_}]}function ce(){var T="{{",S="}}";this.startSymbol=function(t){return t?(T=t,this):T},this.endSymbol=function(t){return t?(S=t,this):S},this.$get=["$parse","$exceptionHandler","$sce",function(p,m,g){function t(t){return"\\\\\\"+t}function v(t){return t.replace(n,T).replace(i,S)}function y(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function e(r,t,n,i){function e(t){try{var e=t;return t=n?g.getTrusted(n,e):g.valueOf(e),i&&!pt(t)?t:U(t)}catch(t){m(dr.interr(r,t))}}var a;if(!r.length||-1===r.indexOf(T))return t||((a=w(t=v(r))).exp=r,a.expressions=[],a.$$watchDelegate=y),a;i=!!i;var s,o,u=0,l=[],c=[];a=r.length;for(var h=[],d=[];u<a;){if(-1===(s=r.indexOf(T,u))||-1===(o=r.indexOf(S,s+b))){u!==a&&h.push(v(r.substring(u)));break}u!==s&&h.push(v(r.substring(u,s))),u=r.substring(s+b,o),l.push(u),c.push(p(u,e)),u=o+_,d.push(h.length),h.push("")}if(n&&1<h.length&&dr.throwNoconcat(r),!t||l.length){var f=function(t){for(var e=0,n=l.length;e<n;e++){if(i&&ft(t[e]))return;h[d[e]]=t[e]}return h.join("")};return lt(function(t){var e=0,n=l.length,i=Array(n);try{for(;e<n;e++)i[e]=c[e](t);return f(i)}catch(t){m(dr.interr(r,t))}},{exp:r,expressions:l,$$watchDelegate:function(i,r){var a;return i.$watchGroup(c,function(t,e){var n=f(t);r.call(this,n,t!==e?a:n,i),a=n})}})}}var b=T.length,_=S.length,n=new RegExp(T.replace(/./g,t),"g"),i=new RegExp(S.replace(/./g,t),"g");return e.startSymbol=function(){return T},e.endSymbol=function(){return S},e}]}function he(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(f,p,m,g,v){function t(t,e,n,i){function r(){a?t.apply(null,s):t(l)}var a=4<arguments.length,s=a?Yn.call(arguments,4):[],o=p.setInterval,u=p.clearInterval,l=0,c=pt(i)&&!i,h=(c?g:m).defer(),d=h.promise;return n=pt(n)?n:0,d.$$intervalId=o(function(){c?v.defer(r):f.$evalAsync(r),h.notify(l++),0<n&&n<=l&&(h.resolve(l),u(d.$$intervalId),delete y[d.$$intervalId]),c||f.$apply()},e),y[d.$$intervalId]=h,d}var y={};return t.cancel=function(t){return!!(t&&t.$$intervalId in y)&&(y[t.$$intervalId].promise.$$state.pur=!0,y[t.$$intervalId].reject("canceled"),p.clearInterval(t.$$intervalId),delete y[t.$$intervalId],!0)},t}]}function de(t){for(var e=(t=t.split("/")).length;e--;)t[e]=S(t[e].replace(/%2F/g,"/"));return t.join("/")}function fe(t,e){var n=Qe(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=c(n.port)||mr[n.protocol]||null}function pe(t,e,n){if(vr.test(t))throw gr("badpath",t);(i="/"!==t.charAt(0))&&(t="/"+t),t=Qe(t);for(var i,r=(i=(i&&"/"===t.pathname.charAt(0)?t.pathname.substring(1):t.pathname).split("/")).length;r--;)i[r]=decodeURIComponent(i[r]),n&&(i[r]=i[r].replace(/\//g,"%2F"));n=i.join("/"),e.$$path=n,e.$$search=k(t.search),e.$$hash=decodeURIComponent(t.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function me(t,e){return t.slice(0,e.length)===e}function ge(t,e){if(me(e,t))return e.substr(t.length)}function ve(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function ye(t){return t.replace(/(#.+)|#$/,"$1")}function be(r,a,s){this.$$html5=!0,s=s||"",fe(r,this),this.$$parse=function(t){var e=ge(a,t);if(!gt(e))throw gr("ipthprfx",t,a);pe(e,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=T(this.$$search),e=this.$$hash?"#"+S(this.$$hash):"";this.$$url=de(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=a+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(pt(n=ge(r,t))?(i=n,i=s&&pt(n=ge(s,n))?a+(ge("/",n)||n):r+i):pt(n=ge(a,t))?i=a+n:a===t+"/"&&(i=a),i&&this.$$parse(i),!!i);var n,i}}function _e(r,a,s){fe(r,this),this.$$parse=function(t){var e;ft(n=ge(r,t)||ge(a,t))||"#"!==n.charAt(0)?this.$$html5?e=n:(e="",ft(n)&&(r=t,this.replace())):ft(e=ge(s,n))&&(e=n),pe(e,this,!1),t=this.$$path;var n,i=/^\/[A-Z]:(\/.*)/;me(e,n=r)&&(e=e.replace(n,"")),i.exec(e)||(t=(e=i.exec(t))?e[1]:t),this.$$path=t,this.$$compose()},this.$$compose=function(){var t=T(this.$$search),e=this.$$hash?"#"+S(this.$$hash):"";this.$$url=de(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+(this.$$url?s+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,e){return ve(r)===ve(t)&&(this.$$parse(t),!0)}}function Te(r,a,s){this.$$html5=!0,_e.apply(this,arguments),this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(r===ve(t)?n=t:(i=ge(a,t))?n=r+s+i:a===t+"/"&&(n=a),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var t=T(this.$$search),e=this.$$hash?"#"+S(this.$$hash):"";this.$$url=de(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+s+this.$$url,this.$$urlUpdatedByLocation=!0}}function Se(t){return function(){return this[t]}}function we(e,n){return function(t){return ft(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function Ce(){var p="!",m={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return pt(t)?(p=t,this):p},this.html5Mode=function(t){return _t(t)?(m.enabled=t,this):mt(t)?(_t(t.enabled)&&(m.enabled=t.enabled),_t(t.requireBase)&&(m.requireBase=t.requireBase),(_t(t.rewriteLinks)||gt(t.rewriteLinks))&&(m.rewriteLinks=t.rewriteLinks),this):m},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(s,o,e,r,a){function u(t,e,n){var i=c.url(),r=c.$$state;try{o.url(t,e,n),c.$$state=o.state()}catch(t){throw c.url(i),c.$$state=r,t}}function l(t,e){s.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,t;t=o.baseHref();var n,i=o.url();if(m.enabled){if(!t&&m.requireBase)throw gr("nobase");n=i.substring(0,i.indexOf("/",i.indexOf("//")+2))+(t||"/"),t=e.history?be:Te}else n=ve(i),t=_e;var h=n.substr(0,ve(n).lastIndexOf("/")+1);(c=new t(n,h,"#"+p)).$$parseLinkUrl(i,i),c.$$state=o.state();var d=/^\s*(javascript|mailto):/i;r.on("click",function(t){if((n=m.rewriteLinks)&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var e=Fn(t.target);"a"!==Tt(e[0]);)if(e[0]===r[0]||!(e=e.parent())[0])return;if(!gt(n)||!ft(e.attr(n))){var n=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");mt(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=Qe(n.animVal).href),d.test(n)||!n||e.attr("target")||t.isDefaultPrevented()||!c.$$parseLinkUrl(n,i)||(t.preventDefault(),c.absUrl()!==o.url()&&(s.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),ye(c.absUrl())!==ye(i)&&o.url(c.absUrl(),!0);var f=!0;return o.onUrlChange(function(i,r){me(i,h)?(s.$evalAsync(function(){var t,e=c.absUrl(),n=c.$$state;i=ye(i),c.$$parse(i),c.$$state=r,t=s.$broadcast("$locationChangeStart",i,e,r,n).defaultPrevented,c.absUrl()===i&&(t?(c.$$parse(e),u(e,!1,c.$$state=n)):(f=!1,l(e,n)))}),s.$$phase||s.$digest()):a.location.href=i}),s.$watch(function(){if(f||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var n=ye(o.url()),t=ye(c.absUrl()),i=o.state(),r=c.$$replace,a=n!==t||c.$$html5&&e.history&&i!==c.$$state;(f||a)&&(f=!1,s.$evalAsync(function(){var t=c.absUrl(),e=s.$broadcast("$locationChangeStart",t,n,c.$$state,i).defaultPrevented;c.absUrl()===t&&(e?(c.$$parse(n),c.$$state=i):(a&&u(t,r,i===c.$$state?null:c.$$state),l(n,i)))}))}c.$$replace=!1}),c}]}function Ee(){var i=!0,a=this;this.debugEnabled=function(t){return pt(t)?(i=t,this):i},this.$get=["$window",function(n){function t(t){var e=n.console||{},i=e[t]||e.log||ht;return function(){var n=[];return ut(arguments,function(t){var e;n.push((vt(e=t)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),Function.prototype.apply.call(i,e,n)}}var e,r=jn||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:(e=t("debug"),function(){i&&e.apply(a,arguments)})}}]}function ke(t){return t+""}function Ae(t,e){return void 0!==t?t:e}function xe(t,e){return void 0===t?e:void 0===e?t:t+e}function Pe(t,e,n){var i,r,a=t.isPure=function(t,e){switch(t.type){case Cr.MemberExpression:if(t.computed)return!1;break;case Cr.UnaryExpression:return 1;case Cr.BinaryExpression:return"+"!==t.operator&&1;case Cr.CallExpression:return!1}return void 0===e?Er:e}(t,n);switch(t.type){case Cr.Program:i=!0,ut(t.body,function(t){Pe(t.expression,e,a),i=i&&t.expression.constant}),t.constant=i;break;case Cr.Literal:t.constant=!0,t.toWatch=[];break;case Cr.UnaryExpression:Pe(t.argument,e,a),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Cr.BinaryExpression:Pe(t.left,e,a),Pe(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Cr.LogicalExpression:Pe(t.left,e,a),Pe(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Cr.ConditionalExpression:Pe(t.test,e,a),Pe(t.alternate,e,a),Pe(t.consequent,e,a),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Cr.Identifier:t.constant=!1,t.toWatch=[t];break;case Cr.MemberExpression:Pe(t.object,e,a),t.computed&&Pe(t.property,e,a),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Cr.CallExpression:i=n=!!t.filter&&!e(t.callee.name).$stateful,r=[],ut(t.arguments,function(t){Pe(t,e,a),i=i&&t.constant,r.push.apply(r,t.toWatch)}),t.constant=i,t.toWatch=n?r:[t];break;case Cr.AssignmentExpression:Pe(t.left,e,a),Pe(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Cr.ArrayExpression:i=!0,r=[],ut(t.elements,function(t){Pe(t,e,a),i=i&&t.constant,r.push.apply(r,t.toWatch)}),t.constant=i,t.toWatch=r;break;case Cr.ObjectExpression:i=!0,r=[],ut(t.properties,function(t){Pe(t.value,e,a),i=i&&t.value.constant,r.push.apply(r,t.value.toWatch),t.computed&&(Pe(t.key,e,!1),i=i&&t.key.constant,r.push.apply(r,t.key.toWatch))}),t.constant=i,t.toWatch=r;break;case Cr.ThisExpression:t.constant=!1,t.toWatch=[];break;case Cr.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Oe(t){if(1===t.length){var e=(t=t[0].expression).toWatch;return 1!==e.length||e[0]!==t?e:void 0}}function Ie(t){return t.type===Cr.Identifier||t.type===Cr.MemberExpression}function $e(t){if(1===t.body.length&&Ie(t.body[0].expression))return{type:Cr.AssignmentExpression,left:t.body[0].expression,right:{type:Cr.NGValueParameter},operator:"="}}function Me(t){this.$filter=t}function De(t){this.$filter=t}function Le(t,e,n){this.ast=new Cr(t,n),this.astCompiler=new(n.csp?De:Me)(e)}function Ue(t){return yt(t.valueOf)?t.valueOf():_r.call(t)}function Re(){var n,i,h=Pt(),f={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){f[t]=e},this.setIdentifierFns=function(t,e){return n=t,i=e,this},this.$get=["$filter",function(r){function t(t,e){var n,i;switch(typeof t){case"string":return i=t=t.trim(),(n=h[i])||((n=new Le(n=new wr(c),r,c).parse(t)).constant?n.$$watchDelegate=a:n.oneTime?n.$$watchDelegate=n.literal?l:o:n.inputs&&(n.$$watchDelegate=u),h[i]=n),s(n,e);case"function":return s(t,e);default:return s(ht,e)}}function d(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&("object"==typeof(t=Ue(t))&&!n))&&(t===e||t!=t&&e!=e)}function u(t,e,n,a,i){var s;if(1===(o=a.inputs).length){var r=d,o=o[0];return t.$watch(function(t){var e=o(t);return d(e,r,o.isPure)||(s=a(t,void 0,void 0,[e]),r=e&&Ue(e)),s},e,n,i)}for(var u=[],l=[],c=0,h=o.length;c<h;c++)u[c]=d,l[c]=null;return t.$watch(function(t){for(var e=!1,n=0,i=o.length;n<i;n++){var r=o[n](t);(e=e||!d(r,u[n],o[n].isPure))&&(l[n]=r,u[n]=r&&Ue(r))}return e&&(s=a(t,void 0,void 0,l)),s},e,n,i)}function o(t,i,e,n,r){function a(t,e,n){o=t,yt(i)&&i(t,e,n),pt(t)&&n.$$postDigest(function(){pt(o)&&s()})}var s,o;return s=n.inputs?u(t,a,e,n,r):t.$watch(function(t){return n(t)},a,e)}function l(t,i,e,n){function r(t){var e=!0;return ut(t,function(t){pt(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return n(t)},function(t,e,n){s=t,yt(i)&&i(t,e,n),r(t)&&n.$$postDigest(function(){r(s)&&a()})},e)}function a(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function s(r,a){if(!a)return r;var t=r.$$watchDelegate,s=!1,e=t!==l&&t!==o?function(t,e,n,i){return n=s&&i?i[0]:r(t,e,n,i),a(n,t,e)}:function(t,e,n,i){return n=r(t,e,n,i),t=a(n,t,e),pt(n)?t:n};s=!r.inputs;return t&&t!==u?(e.$$watchDelegate=t,e.inputs=r.inputs):a.$stateful||(e.$$watchDelegate=u,e.inputs=r.inputs?r.inputs:[r]),e.inputs&&(e.inputs=e.inputs.map(function(e){return e.isPure===Er?function(t){return e(t)}:e})),e}var c={csp:hi().noUnsafeEval,literals:C(f),isIdentifierStart:yt(n)&&n,isIdentifierContinue:yt(i)&&i};return t.$$getAst=function(t){return new Le(new wr(c),r,c).getAst(t).ast},t}]}function Be(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(e,t){return He(function(t){e.$evalAsync(t)},t,n)}],this.errorOnUnhandledRejections=function(t){return pt(t)?(n=t,this):n}}function Ne(){var n=!0;this.$get=["$browser","$exceptionHandler",function(e,t){return He(function(t){e.defer(t)},t,n)}],this.errorOnUnhandledRejections=function(t){return pt(t)?(n=t,this):n}}function He(s,o,u){function n(){return new t}function t(){var e=this.promise=new a;this.resolve=function(t){h(e,t)},this.reject=function(t){d(e,t)},this.notify=function(t){p(e,t)}}function a(){this.$$state={status:0}}function l(){for(;!v&&y.length;){var t=y.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+("function"==typeof(e=t.value)?e.toString().replace(/ \{[\s\S]*$/,""):ft(e)?"undefined":"string"!=typeof e?B(e,void 0):e);vt(t.value)?o(t.value,e):o(e)}}}function c(a){!u||a.pending||2!==a.status||a.pur||(0===v&&0===y.length&&s(l),y.push(a)),!a.processScheduled&&a.pending&&(a.processScheduled=!0,++v,s(function(){var t,e,n;n=a.pending,a.processScheduled=!1,a.pending=void 0;try{for(var i=0,r=n.length;i<r;++i){a.pur=!0,e=n[i][0],t=n[i][a.status];try{yt(t)?h(e,t(a.value)):(1===a.status?h:d)(e,a.value)}catch(t){d(e,t),t&&!0===t.$$passToExceptionHandler&&o(t)}}}finally{--v,u&&0===v&&s(l)}}))}function h(t,e){t.$$state.status||(e===t?f(t,g("qcycle",e)):function e(n,t){function i(t){o||(o=!0,e(n,t))}function r(t){o||(o=!0,f(n,t))}function a(t){p(n,t)}var s,o=!1;try{(mt(t)||yt(t))&&(s=t.then),yt(s)?(n.$$state.status=-1,s.call(t,i,r,a)):(n.$$state.value=t,n.$$state.status=1,c(n.$$state))}catch(t){r(t)}}(t,e))}function d(t,e){t.$$state.status||f(t,e)}function f(t,e){t.$$state.value=e,t.$$state.status=2,c(t.$$state)}function p(t,r){var a=t.$$state.pending;t.$$state.status<=0&&a&&a.length&&s(function(){for(var t,e,n=0,i=a.length;n<i;n++){e=a[n][0],t=a[n][3];try{p(e,yt(t)?t(r):r)}catch(t){o(t)}}})}function r(t){var e=new a;return d(e,t),e}function i(t,e,n){var i=null;try{yt(n)&&(i=n())}catch(t){return r(t)}return i&&yt(i.then)?i.then(function(){return e(t)},r):e(t)}function m(t,e,n,i){var r=new a;return h(r,t),r.then(e,n,i)}function e(t){if(!yt(t))throw g("norslvr",t);var e=new a;return t(function(t){h(e,t)},function(t){d(e,t)}),e}var g=x("$q",TypeError),v=0,y=[];lt(a.prototype,{then:function(t,e,n){if(ft(t)&&ft(e)&&ft(n))return this;var i=new a;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&c(this.$$state),i},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return i(t,b,e)},function(t){return i(t,r,e)},t)}});var b=m;return e.prototype=a.prototype,e.defer=n,e.reject=r,e.when=m,e.resolve=b,e.all=function(t){var n=new a,i=0,r=oi(t)?[]:{};return ut(t,function(t,e){i++,m(t).then(function(t){r[e]=t,--i||h(n,r)},function(t){d(n,t)})}),0===i&&h(n,r),n},e.race=function(t){var e=n();return ut(t,function(t){m(t).then(e.resolve,e.reject)}),e.promise},e}function je(){this.$get=["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,a=e?function(t){var e=i(t);return function(){r(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return a.supported=e,a}]}function Fe(){var _=10,T=x("$rootScope"),S=null,w=null;this.digestTtl=function(t){return arguments.length&&(_=t),_},this.$get=["$exceptionHandler","$parse","$browser",function(c,p,h){function r(t){t.currentScope.$$destroyed=!0}function a(){this.$id=++ii,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(g.$$phase)throw T("inprog",g.$$phase);g.$$phase=t}function u(t,e){for(;t.$$watchersCount+=e,t=t.$parent;);}function s(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function f(){}function m(){for(;n.length;)try{n.shift()()}catch(t){c(t)}w=null}a.prototype={constructor:a,$new:function(t,e){var n;function i(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++ii,this.$$ChildScope=null}return e=e||this,t?(n=new a).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(i.prototype=this,i)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,!t&&e===this||n.$on("$destroy",r),n},$watch:function(t,e,n,i){var r=p(t);if(e=yt(e)?e:ht,r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var a=this,s=a.$$watchers,o={fn:e,last:f,get:r,exp:i||t,eq:!!n};return S=null,s||((s=a.$$watchers=[]).$$digestWatchIndex=-1),s.unshift(o),s.$$digestWatchIndex++,u(this,1),function(){var t=St(s,o);0<=t&&(u(a,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),S=null}},$watchGroup:function(t,i){function r(){l=!1,e?(e=!1,i(s,s,u)):i(s,a,u)}var a=Array(t.length),s=Array(t.length),o=[],u=this,l=!1,e=!0;if(t.length)return 1===t.length?this.$watch(t[0],function(t,e,n){s[0]=t,a[0]=e,i(s,t===e?s:a,n)}):(ut(t,function(t,n){var e=u.$watch(t,function(t,e){s[n]=t,a[n]=e,l||(l=!0,u.$evalAsync(r))});o.push(e)}),function(){for(;o.length;)o.shift()()});var n=!0;return u.$evalAsync(function(){n&&i(s,s,u)}),function(){n=!1}},$watchCollection:function(t,e){function n(t){var e,n,i;if(!ft(r=t)){if(mt(r))if(P(r))for(a!==c&&(f=(a=c).length=0,u++),t=r.length,f!==t&&(u++,a.length=f=t),e=0;e<t;e++)i=a[e],n=r[e],i!=i&&n!=n||i===n||(u++,a[e]=n);else{for(e in a!==h&&(a=h={},f=0,u++),t=0,r)zn.call(r,e)&&(t++,n=r[e],i=a[e],e in a?i!=i&&n!=n||i===n||(u++,a[e]=n):(f++,a[e]=n,u++));if(t<f)for(e in u++,a)zn.call(r,e)||(f--,delete a[e])}else a!==r&&(a=r,u++);return u}}n.$stateful=!0;var r,a,i,s=this,o=1<e.length,u=0,l=p(t,n),c=[],h={},d=!0,f=0;return this.$watch(l,function(){if(d?(d=!1,e(r,r,s)):e(r,i,s),o)if(mt(r))if(P(r)){i=Array(r.length);for(var t=0;t<r.length;t++)i[t]=r[t]}else for(t in i={},r)zn.call(r,t)&&(i[t]=r[t]);else i=r})},$digest:function(){var t,e,n,i,r,a,s,o,u=_,l=[];d("$digest"),h.$$checkUrlChange(),this===g&&null!==w&&(h.defer.cancel(w),m()),S=null;do{for(r=!1,a=this,i=0;i<v.length;i++){try{(0,(o=v[i]).fn)(o.scope,o.locals)}catch(t){c(t)}S=null}v.length=0;t:do{if(i=a.$$watchers)for(i.$$digestWatchIndex=i.length;i.$$digestWatchIndex--;)try{if(t=i[i.$$digestWatchIndex])if((e=(0,t.get)(a))===(n=t.last)||(t.eq?Ct(e,n):ri(e)&&ri(n))){if(t===S){r=!1;break t}}else r=!0,(S=t).last=t.eq?C(e,null):e,(0,t.fn)(e,n===f?e:n,a),u<5&&(l[s=4-u]||(l[s]=[]),l[s].push({msg:yt(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){c(t)}if(!(i=a.$$watchersCount&&a.$$childHead||a!==this&&a.$$nextSibling))for(;a!==this&&!(i=a.$$nextSibling);)a=a.$parent}while(a=i);if((r||v.length)&&!u--)throw g.$$phase=null,T("infdig",_,l)}while(r||v.length);for(g.$$phase=null;b<y.length;)try{y[b++]()}catch(t){c(t)}y.length=b=0,h.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===g&&h.$$applicationDestroyed(),u(this,-this.$$watchersCount),this.$$listenerCount)s(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=ht,this.$on=this.$watch=this.$watchGroup=function(){return ht},this.$$listeners={},this.$$nextSibling=null,function t(e){9===jn&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t,e){g.$$phase||v.length||h.defer(function(){v.length&&g.$digest()}),v.push({scope:this,fn:p(t),locals:e})},$$postDigest:function(t){y.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{g.$$phase=null}}catch(t){c(t)}finally{try{g.$digest()}catch(t){throw c(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),t=p(t),null===w&&(w=h.defer(function(){g.$apply(m)}))},$on:function(e,n){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(n);for(var t=this;t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var r=this;return function(){var t=i.indexOf(n);-1!==t&&(delete i[t],s(r,1,e))}},$emit:function(t,e){var n,i,r,a=[],s=this,o=!1,u={name:t,targetScope:s,stopPropagation:function(){o=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=E([u],arguments,1);do{for(n=s.$$listeners[t]||a,u.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,l)}catch(t){c(t)}else n.splice(i,1),i--,r--;if(o)break;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var a,s,o=E([r],arguments,1);n=i;){for(a=0,s=(i=(r.currentScope=n).$$listeners[t]||[]).length;a<s;a++)if(i[a])try{i[a].apply(null,o)}catch(t){c(t)}else i.splice(a,1),a--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var g=new a,v=g.$$asyncQueue=[],y=g.$$postDigestQueue=[],n=g.$$applyAsyncQueue=[],b=0;return g}]}function Ge(){var r=/^\s*(https?|s?ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return pt(t)?(r=t,this):r},this.imgSrcSanitizationWhitelist=function(t){return pt(t)?(a=t,this):a},this.$get=function(){return function(t,e){var n,i=e?a:r;return""===(n=Qe(t&&t.trim()).href)||n.match(i)?t:"unsafe:"+n}}}function Ve(t){var e=[];return pt(t)&&ut(t,function(t){e.push(function(t){if("self"===t)return t;if(gt(t)){if(-1<t.indexOf("***"))throw kr("iwcard",t);return t=ci(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(p(t))return new RegExp("^"+t.source+"$");throw kr("imatcher")}(t))}),e}function qe(){this.SCE_CONTEXTS=Ar;var l=["self"],c=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(l=Ve(t)),l},this.resourceUrlBlacklist=function(t){return arguments.length&&(c=Ve(t)),c},this.$get=["$injector",function(t){function s(t,e){return"self"===t?Je(e):t.exec(e.href)}function e(t){function e(t){this.$$unwrapTrustedValue=function(){return t}}return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var o=function(t){throw kr("unsafe")};t.has("$sanitize")&&(o=t.get("$sanitize"));var n=e(),u={};return u[Ar.HTML]=e(n),u[Ar.CSS]=e(n),u[Ar.URL]=e(n),u[Ar.JS]=e(n),u[Ar.RESOURCE_URL]=e(u[Ar.URL]),{trustAs:function(t,e){var n=u.hasOwnProperty(t)?u[t]:null;if(!n)throw kr("icontext",t,e);if(null===e||ft(e)||""===e)return e;if("string"!=typeof e)throw kr("itype",t);return new n(e)},getTrusted:function(t,e){if(null===e||ft(e)||""===e)return e;if((r=u.hasOwnProperty(t)?u[t]:null)&&e instanceof r)return e.$$unwrapTrustedValue();if(t===Ar.RESOURCE_URL){var n,i,r=Qe(e.toString()),a=!1;for(n=0,i=l.length;n<i;n++)if(s(l[n],r)){a=!0;break}if(a)for(n=0,i=c.length;n<i;n++)if(s(c[n],r)){a=!1;break}if(a)return e;throw kr("insecurl",e.toString())}if(t===Ar.HTML)return o(e);throw kr("unsafe")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function We(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(i,t){if(e&&jn<8)throw kr("iequirks");var r=R(Ar);r.isEnabled=function(){return e},r.trustAs=t.trustAs,r.getTrusted=t.getTrusted,r.valueOf=t.valueOf,e||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=dt),r.parseAs=function(e,t){var n=i(t);return n.literal&&n.constant?n:i(t,function(t){return r.getTrusted(e,t)})};var a=r.parseAs,s=r.getTrusted,o=r.trustAs;return ut(Ar,function(e,t){var n=Xn(t);r[("parse_as_"+n).replace(xr,H)]=function(t){return a(e,t)},r[("get_trusted_"+n).replace(xr,H)]=function(t){return s(e,t)},r[("trust_as_"+n).replace(xr,H)]=function(t){return o(e,t)}}),r}]}function ze(){this.$get=["$window","$document",function(t,e){var n={},i=!((!t.nw||!t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,r=c((/android (\d+)/.exec(Xn((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},o=s.body&&s.body.style,u=!1,l=!1;return o&&(u=!!("transition"in o||"webkitTransition"in o),l=!!("animation"in o||"webkitAnimation"in o)),{history:!(!i||r<4||a),hasEvent:function(t){if("input"===t&&jn)return!1;if(ft(n[t])){var e=s.createElement("div");n[t]="on"+t in e}return n[t]},csp:hi(),transitions:u,animations:l,android:r}}]}function Xe(){var l;this.httpOptions=function(t){return t?(l=t,this):l},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(i,r,a,s,o){function u(e,n){u.totalPendingRequests++,gt(e)&&!ft(r.get(e))||(e=o.getTrustedResourceUrl(e));var t=a.defaults&&a.defaults.transformResponse;return oi(t)?t=t.filter(function(t){return t!==ie}):t===ie&&(t=null),a.get(e,lt({cache:r,transformResponse:t},l)).finally(function(){u.totalPendingRequests--}).then(function(t){return r.put(e,t.data),t.data},function(t){return n||(t=Pr("tpload",e,t.status,t.statusText),i(t)),s.reject(t)})}return u.totalPendingRequests=0,u}]}function Ke(){this.$get=["$rootScope","$browser","$location",function(e,n,i){return{findBindings:function(t,n,i){t=t.getElementsByClassName("ng-binding");var r=[];return ut(t,function(e){var t=ni.element(e).data("$binding");t&&ut(t,function(t){i?new RegExp("(^|\\s)"+ci(n)+"(\\s|\\||$)").test(t)&&r.push(e):-1!==t.indexOf(n)&&r.push(e)})}),r},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(a.length)return a}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}}}]}function Ye(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(u,l,c,h,d){function t(t,e,n){yt(t)||(n=e,e=t,t=ht);var i,r=Yn.call(arguments,3),a=pt(n)&&!n,s=(a?h:c).defer(),o=s.promise;return i=l.defer(function(){try{s.resolve(t.apply(null,r))}catch(t){s.reject(t),d(t)}finally{delete f[o.$$timeoutId]}a||u.$apply()},e),o.$$timeoutId=i,f[i]=s,o}var f={};return t.cancel=function(t){return!!(t&&t.$$timeoutId in f)&&(f[t.$$timeoutId].promise.$$state.pur=!0,f[t.$$timeoutId].reject("canceled"),delete f[t.$$timeoutId],l.defer.cancel(t.$$timeoutId))},t}]}function Qe(t){return jn&&(Or.setAttribute("href",t),t=Or.href),Or.setAttribute("href",t),{href:Or.href,protocol:Or.protocol?Or.protocol.replace(/:$/,""):"",host:Or.host,search:Or.search?Or.search.replace(/^\?/,""):"",hash:Or.hash?Or.hash.replace(/^#/,""):"",hostname:Or.hostname,port:Or.port,pathname:"/"===Or.pathname.charAt(0)?Or.pathname:"/"+Or.pathname}}function Je(t){return(t=gt(t)?Qe(t):t).protocol===Ir.protocol&&t.host===Ir.host}function Ze(){this.$get=w(ot)}function tn(t){function a(e){try{return decodeURIComponent(e)}catch(t){return e}}var s=t[0]||{},o={},u="";return function(){var e,t,n,i,r;try{e=s.cookie||""}catch(t){e=""}if(e!==u)for(e=(u=e).split("; "),o={},n=0;n<e.length;n++)0<(i=(t=e[n]).indexOf("="))&&(r=a(t.substring(0,i)),ft(o[r])&&(o[r]=a(t.substring(i+1))));return o}}function en(){this.$get=tn}function nn(i){function r(t,e){if(mt(t)){var n={};return ut(t,function(t,e){n[e]=r(e,t)}),n}return i.factory(t+"Filter",e)}this.register=r,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],r("currency",on),r("date",gn),r("filter",rn),r("json",vn),r("limitTo",yn),r("lowercase",Br),r("number",un),r("orderBy",_n),r("uppercase",Nr)}function rn(){return function(t,e,n,i){if(!P(t)){if(null==t)return t;throw x("filter")("notarray",t)}var r,a,s,o,u,l;switch(i=i||"$",sn(e)){case"function":break;case"boolean":case"null":case"number":case"string":r=!0;case"object":o=i,u=r,l=mt(a=e)&&o in a,!0===(s=n)?s=Ct:yt(s)||(s=function(t,e){return!(ft(t)||(null===t||null===e?t!==e:mt(e)||mt(t)&&!h(t)||(t=Xn(""+t),e=Xn(""+e),-1===t.indexOf(e))))}),e=function(t){return l&&!mt(t)?an(t,a[o],s,o,!1):an(t,a,s,o,u)};break;default:return t}return Array.prototype.filter.call(t,e)}}function an(t,e,n,i,r,a){var s=sn(t),o=sn(e);if("string"===o&&"!"===e.charAt(0))return!an(t,e.substring(1),n,i,r);if(oi(t))return t.some(function(t){return an(t,e,n,i,r)});switch(s){case"object":var u;if(r){for(u in t)if(u.charAt&&"$"!==u.charAt(0)&&an(t[u],e,n,i,!0))return!0;return!a&&an(t,e,n,i,!1)}if("object"!==o)return n(t,e);for(u in e)if(!yt(a=e[u])&&!ft(a)&&!an((s=u===i)?t:t[u],a,n,i,s,s))return!1;return!0;case"function":return!1;default:return n(t,e)}}function sn(t){return null===t?"null":typeof t}function on(t){var r=t.NUMBER_FORMATS;return function(t,e,n){ft(e)&&(e=r.CURRENCY_SYM),ft(n)&&(n=r.PATTERNS[1].maxFrac);var i=e?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:ln(t,r.PATTERNS[1],r.GROUP_SEP,r.DECIMAL_SEP,n).replace(i,e)}}function un(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:ln(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}function ln(t,e,n,i,r){if(!gt(t)&&!f(t)||isNaN(t))return"";var a=!isFinite(t),s=!1,o=Math.abs(t)+"",u="";if(a)u="â";else{for(function(t,e,n,i){var r=t.d,a=r.length-t.i;if(i=r[n=(e=ft(e)?Math.min(Math.max(n,a),i):+e)+t.i],0<n){r.splice(Math.max(t.i,n));for(var s=n;s<r.length;s++)r[s]=0}else for(a=Math.max(0,a),t.i=1,r.length=Math.max(1,n=e+1),r[0]=0,s=1;s<n;s++)r[s]=0;if(5<=i)if(n-1<0){for(i=0;n<i;i--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[n-1]++;for(;a<Math.max(0,e);a++)r.push(0);(e=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0))&&(r.unshift(e),t.i++)}(s=function(t){var e,n,i,r,a,s=0;for(-1<(n=t.indexOf(Mr))&&(t=t.replace(Mr,"")),0<(i=t.search(/e/i))?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)===Dr;i++);if(i===(a=t.length))e=[0],n=1;else{for(a--;t.charAt(a)===Dr;)a--;for(n-=i,e=[],r=0;i<=a;i++,r++)e[r]=+t.charAt(i)}return $r<n&&(e=e.splice(0,$r-1),s=n-1,n=1),{d:e,e:s,i:n}}(o),r,e.minFrac,e.maxFrac),u=s.d,o=s.i,r=s.e,a=[],s=u.reduce(function(t,e){return t&&!e},!0);o<0;)u.unshift(0),o++;for(0<o?a=u.splice(o,u.length):(a=u,u=[0]),o=[],u.length>=e.lgSize&&o.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)o.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&o.unshift(u.join("")),u=o.join(n),a.length&&(u+=i+a.join("")),r&&(u+="e+"+r)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function cn(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=1-t:(t=-t,r="-")),t=""+t;t.length<e;)t=Dr+t;return n&&(t=t.substr(t.length-e)),r+t}function hn(e,n,i,r,a){return i=i||0,function(t){return t=t["get"+e](),(0<i||-i<t)&&(t+=i),0===t&&-12===i&&(t=12),cn(t,n,r,a)}}function dn(i,r,a){return function(t,e){var n=t["get"+i]();return e[Kn((a?"STANDALONE":"")+(r?"SHORT":"")+i)][n]}}function fn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function pn(n){return function(t){var e=fn(t.getFullYear());return t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-e,cn(t=1+Math.round(t/6048e5),n)}}function mn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function gn(u){var l=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var i,r,a="",s=[];if(t=t||"mediumDate",t=u.DATETIME_FORMATS[t]||t,gt(e)&&(e=(Rr.test(e)?c:function(t){var e;if(e=t.match(l)){t=new Date(0);var n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=c(e[9]+e[10]),i=c(e[9]+e[11])),r.call(t,c(e[1]),c(e[2])-1,c(e[3])),n=c(e[4]||0)-n,i=c(e[5]||0)-i,r=c(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),a.call(t,n,i,r,e)}return t})(e)),f(e)&&(e=new Date(e)),!y(e)||!isFinite(e.getTime()))return e;for(;t;)t=(r=Ur.exec(t))?(s=E(s,r,1)).pop():(s.push(t),null);var o=e.getTimezoneOffset();return n&&(o=b(n,o),e=_(e,n,!0)),ut(s,function(t){i=Lr[t],a+=i?i(e,u.DATETIME_FORMATS,o):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function vn(){return function(t,e){return ft(e)&&(e=2),n(t,e)}}function yn(){return function(t,e,n){return e=(1/0===Math.abs(Number(e))?Number:c)(e),ri(e)?t:(f(t)&&(t=t.toString()),P(t)?(n=(n=!n||isNaN(n)?0:c(n))<0?Math.max(0,t.length+n):n,0<=e?bn(t,n,n+e):0===n?bn(t,e,t.length):bn(t,Math.max(0,n+e),n)):t)}}function bn(t,e,n){return gt(t)?t.slice(e,n):Yn.call(t,e,n)}function _n(r){function u(t){switch(typeof t){case"number":case"boolean":case"string":return 1;default:return}}function l(t,e){var n=0,i=t.type;if(i===(r=e.type)){var r=t.value,a=e.value;"string"===i?(r=r.toLowerCase(),a=a.toLowerCase()):"object"===i&&(mt(r)&&(r=t.index),mt(a)&&(a=e.index)),r!==a&&(n=r<a?-1:1)}else n=i<r?-1:1;return n}return function(t,e,n,i){if(null==t)return t;if(!P(t))throw x("orderBy")("notarray",t);oi(e)||(e=[e]),0===e.length&&(e=["+"]);var a=e.map(function(t){var e=1,n=dt;if(yt(t))n=t;else if(gt(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(e="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=r(t)).constant)){var i=n();n=function(t){return t[i]}}return{get:n,descending:e}}),s=n?-1:1,o=yt(i)?i:l;return(t=Array.prototype.map.call(t,function(n,i){return{value:n,tieBreaker:{value:i,type:"number",index:i},predicateValues:a.map(function(t){var e=t.get(n);return t=typeof e,null===e?(t="string",e="null"):"object"===t&&(yt(e.valueOf)&&u(e=e.valueOf())||h(e)&&u(e=e.toString())),{value:e,type:t,index:i}})}})).sort(function(t,e){for(var n=0,i=a.length;n<i;n++){var r=o(t.predicateValues[n],e.predicateValues[n]);if(r)return r*a[n].descending*s}return(o(t.tieBreaker,e.tieBreaker)||l(t.tieBreaker,e.tieBreaker))*s}),t.map(function(t){return t.value})}}function Tn(t){return yt(t)&&(t={link:t}),t.restrict=t.restrict||"AC",w(t)}function Sn(t,e,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=Fr,this.$$element=t,this.$$animate=i,wn(this)}function wn(t){t.$$classCache={},t.$$classCache[wa]=!(t.$$classCache[Sa]=t.$$element.hasClass(Sa))}function Cn(t){function i(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function r(t,e,n){e=e?"-"+At(e,"-"):"",i(t,Sa+e,!0===n),i(t,wa+e,!1===n)}var a=t.set,s=t.unset;t.clazz.prototype.$setValidity=function(t,e,n){ft(e)?(this.$pending||(this.$pending={}),a(this.$pending,t,n)):(this.$pending&&s(this.$pending,t,n),En(this.$pending)&&(this.$pending=void 0)),_t(e)?e?(s(this.$error,t,n),a(this.$$success,t,n)):(a(this.$error,t,n),s(this.$$success,t,n)):(s(this.$error,t,n),s(this.$$success,t,n)),this.$pending?(i(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,"ng-pending",!1),this.$valid=En(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid)),r(this,t,e=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,e,this)}}function En(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function kn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function An(t,n,i,r,e,a){var s=Xn(n[0].type);if(!e.android){var o=!1;n.on("compositionstart",function(){o=!0}),n.on("compositionend",function(){o=!1,l()})}var u,l=function(t){if(u&&(a.defer.cancel(u),u=null),!o){var e=n.val();t=t&&t.type,"password"===s||i.ngTrim&&"false"===i.ngTrim||(e=li(e)),(r.$viewValue!==e||""===e&&r.$$hasNativeValidators)&&r.$setViewValue(e,t)}};if(e.hasEvent("input"))n.on("input",l);else{var c=function(t,e,n){u=u||a.defer(function(){u=null,e&&e.value===n||l(t)})};n.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||c(t,this,this.value)}),e.hasEvent("paste")&&n.on("paste cut drop",c)}n.on("change",l),ea[s]&&r.$$hasNativeValidators&&s===i.type&&n.on("keydown wheel mousedown",function(t){if(!u){var e=this.validity,n=e.badInput,i=e.typeMismatch;u=a.defer(function(){u=null,e.badInput===n&&e.typeMismatch===i||l(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;n.val()!==t&&n.val(t)}}function xn(r,a){return function(t,e){var n,i;if(y(t))return t;if(gt(t)){if('"'===t.charAt(0)&&'"'===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),Wr.test(t))return new Date(t);if(r.lastIndex=0,n=r.exec(t))return n.shift(),i=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ut(n,function(t,e){e<a.length&&(i[a[e]]=+t)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function Pn(f,p,m,g){return function(t,e,n,i,r,a,s){function o(t){return t&&(!t.getTime||t.getTime()==t.getTime())}function u(t){return pt(t)&&!y(t)?m(t)||void 0:t}On(0,e,0,i),An(0,e,n,i,r,a);var l,c,h,d=i&&i.$options.getOption("timezone");i.$$parserName=f,i.$parsers.push(function(t){return i.$isEmpty(t)?null:p.test(t)?(t=m(t,l),d&&(t=_(t,d)),t):void 0}),i.$formatters.push(function(t){if(t&&!y(t))throw ka("datefmt",t);return o(t)?((l=t)&&d&&(l=_(l,d,!0)),s("date")(t,g,d)):(l=null,"")}),(pt(n.min)||n.ngMin)&&(i.$validators.min=function(t){return!o(t)||ft(c)||m(t)>=c},n.$observe("min",function(t){c=u(t),i.$validate()}));(pt(n.max)||n.ngMax)&&(i.$validators.max=function(t){return!o(t)||ft(h)||m(t)<=h},n.$observe("max",function(t){h=u(t),i.$validate()}))}}function On(t,n,e,i){(i.$$hasNativeValidators=mt(n[0].validity))&&i.$parsers.push(function(t){var e=n.prop("validity")||{};return e.badInput||e.typeMismatch?void 0:t})}function In(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:Kr.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!f(t))throw ka("numfmt",t);t=t.toString()}return t})}function $n(t){return pt(t)&&!f(t)&&(t=parseFloat(t)),ri(t)?void 0:t}function Mn(t){var e=t.toString(),n=e.indexOf(".");return-1===n?-1<t&&t<1&&(t=/e-(\d+)$/.exec(e))?Number(t[1]):0:e.length-n-1}function Dn(t,e,n){var i=(0|(t=Number(t)))!==t,r=(0|e)!==e,a=(0|n)!==n;if(i||r||a){var s=i?Mn(t):0,o=r?Mn(e):0,u=a?Mn(n):0;s=Math.max(s,o,u);t*=s=Math.pow(10,s),e*=s,n*=s,i&&(t=Math.round(t)),r&&(e=Math.round(e)),a&&(n=Math.round(n))}return 0==(t-e)%n}function Ln(t,e,n,i,r){if(pt(i)){if(!(t=t(i)).constant)throw ka("constexpr",n,i);return t(e)}return r}function Un(d,f){function p(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],a=0;a<e.length;a++)if(r===e[a])continue t;n.push(r)}return n}function m(e){var t=e;return oi(e)?t=e.map(m).join(" "):mt(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function g(e){var t=e;if(oi(e))t=e.map(g);else if(mt(e)){var n=!1;t=Object.keys(e).filter(function(t){return t=e[t],!n&&ft(t)&&(n=!0),t});n&&t.push(void 0)}return t}var v;return d="ngClass"+d,["$parse",function(h){return{restrict:"AC",link:function(t,e,r){function a(t,e){var n=[];return ut(t,function(t){(0<e||l[t])&&(l[t]=(l[t]||0)+e,l[t]===+(0<e)&&n.push(t))}),n.join(" ")}function n(t){if(c===f){var e=s&&s.split(" "),n=t&&t.split(" "),i=p(e,n);e=p(n,e),i=a(i,-1),e=a(e,1);r.$addClass(e),r.$removeClass(i)}s=t}var s,i=":"===(o=r[d].trim()).charAt(0)&&":"===o.charAt(1),o=h(o,i?g:m),u=i?function(t){(t=m(t))!==s&&n(t)}:n,l=e.data("$classCounts"),c=!0;l||(l=Pt(),e.data("$classCounts",l)),"ngClass"!==d&&(v=v||h("$index",function(t){return 1&t}),t.$watch(v,function(t){if(t===f){var e=a((e=s)&&e.split(" "),1);r.$addClass(e)}else e=a((e=s)&&e.split(" "),-1),r.$removeClass(e);c=t})),t.$watch(o,u,i)}}}]}function Rn(t,e,n,i,r,a,s,o,u){var l;this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=Fr,this.$options=Aa,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=i,this.$$animate=a,this.$$timeout=s,this.$$parse=r,this.$$q=o,this.$$exceptionHandler=e,wn(this),(l=this).$$scope.$watch(function(t){return(t=l.$$ngModelGet(t))===l.$modelValue||l.$modelValue!=l.$modelValue&&t!=t||l.$$setModelValue(t),t})}function Bn(t){this.$$options=t}function Nn(n,t){ut(t,function(t,e){pt(n[e])||(n[e]=t)})}function Hn(t,e){t.prop("selected",e),t.attr("selected",e)}var jn,Fn,Gn,Vn,qn={objectMaxDepth:5},Wn=/^\/(.+)\/([a-z]*)$/,zn=Object.prototype.hasOwnProperty,Xn=function(t){return gt(t)?t.toLowerCase():t},Kn=function(t){return gt(t)?t.toUpperCase():t},Yn=[].slice,Qn=[].splice,Jn=[].push,Zn=Object.prototype.toString,ti=Object.getPrototypeOf,ei=x("ng"),ni=ot.angular||(ot.angular={}),ii=0;jn=ot.document.documentMode;var ri=Number.isNaN||function(t){return t!=t};ht.$inject=[],dt.$inject=[];var ai,si,oi=Array.isArray,ui=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,li=function(t){return gt(t)?t.trim():t},ci=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},hi=function(){if(!pt(hi.rules)){var t=ot.document.querySelector("[ng-csp]")||ot.document.querySelector("[data-ng-csp]");if(t){var e=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");hi.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}}else{t=hi;try{new Function(""),e=!1}catch(t){e=!0}t.rules={noUnsafeEval:e,noInlineStyle:!1}}}return hi.rules},di=function(){if(pt(di.name_))return di.name_;var t,e,n,i,r=pi.length;for(e=0;e<r;++e)if(n=pi[e],t=ot.document.querySelector("["+n.replace(":","\\:")+"jq]")){i=t.getAttribute(n+"jq");break}return di.name_=i},fi=/:/g,pi=["ng-","data-ng-","ng:","x-ng-"],mi=(ai=ot.document,!(si=ai.currentScript)||(si instanceof ot.HTMLScriptElement||si instanceof ot.SVGScriptElement)&&[(si=si.attributes).getNamedItem("src"),si.getNamedItem("href"),si.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var e=ai.createElement("a");if(e.href=t.value,ai.location.origin===e.origin)return!0;switch(e.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})),gi=/[A-Z]/g,vi=!1,yi=3,bi={full:"1.6.9",major:1,minor:6,dot:9,codeName:"fiery-basilisk"};V.expando="ng339";var _i=V.cache={},Ti=1;V._data=function(t){return this.cache[t[this.expando]]||{}};var Si=/-([a-z])/g,wi=/^-ms-/,Ci={mouseleave:"mouseout",mouseenter:"mouseover"},Ei=x("jqLite"),ki=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ai=/<|&#?\w+;/,xi=/<([\w:-]+)/,Pi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Oi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oi.optgroup=Oi.option,Oi.tbody=Oi.tfoot=Oi.colgroup=Oi.caption=Oi.thead,Oi.th=Oi.td;var Ii=ot.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},$i=V.prototype={ready:rt,toString:function(){var e=[];return ut(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return Fn(0<=t?this[t]:this[this.length+t])},length:0,push:Jn,sort:[].sort,splice:[].splice},Mi={};ut("multiple selected checked disabled readOnly required open".split(" "),function(t){Mi[Xn(t)]=t});var Di={};ut("input select option textarea button form details".split(" "),function(t){Di[t]=!0});var Li={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Ui(t,e){if(ft(e)){var n=t.nodeType;return 1===n||n===yi?t.textContent:""}t.textContent=e}ut({data:K,removeData:z,hasData:function(t){for(var e in _i[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)z(t[e])}},function(t,e){V[e]=t}),ut({data:K,inheritedData:et,scope:function(t){return Fn.data(t,"$scope")||et(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Fn.data(t,"$isolateScope")||Fn.data(t,"$isolateScopeNoTemplate")},controller:tt,injector:function(t){return et(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Y,css:function(t,e,n){if(e=j(e.replace(wi,"ms-")),!pt(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){if((i=t.nodeType)!==yi&&2!==i&&8!==i&&t.getAttribute){var i=Xn(e),r=Mi[i];if(!pt(n))return t=t.getAttribute(e),r&&null!==t&&(t=i),null===t?void 0:t;null===n||!1===n&&r?t.removeAttribute(e):t.setAttribute(e,r?i:n)}},prop:function(t,e,n){if(!pt(n))return t[e];t[e]=n},text:(Ui.$dv="",Ui),val:function(t,e){if(ft(e)){if(t.multiple&&"select"===Tt(t)){var n=[];return ut(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(ft(e))return t.innerHTML;q(t,!0),t.innerHTML=e},empty:nt},function(s,t){V.prototype[t]=function(t,e){var n,i,r=this.length;if(s!==nt&&ft(2===s.length&&s!==Y&&s!==tt?t:e)){if(mt(t)){for(n=0;n<r;n++)if(s===K)s(this[n],t);else for(i in t)s(this[n],i,t[i]);return this}for(r=ft(n=s.$dv)?Math.min(r,1):r,i=0;i<r;i++){var a=s(this[i],t,e);n=n?n+a:a}return n}for(n=0;n<r;n++)s(this[n],t,e);return this}}),ut({removeData:z,on:function(r,t,a,e){if(pt(e))throw Ei("onargs");if(F(r)){var s=(e=X(r,!0)).events,o=e.handle;o=o||(e.handle=at(r,s));for(var n=(e=0<=t.indexOf(" ")?t.split(" "):[t]).length,i=function(t,e,n){var i=s[t];i||((i=s[t]=[]).specialHandlerWrapper=e,"$destroy"===t||n||r.addEventListener(t,o)),i.push(a)};n--;)t=e[n],Ci[t]?(i(Ci[t],$t),i(t,void 0,!0)):i(t)}},off:W,one:function(e,n,i){(e=Fn(e)).on(n,function t(){e.off(n,i),e.off(n,t)}),e.on(n,i)},replaceWith:function(e,t){var n,i=e.parentNode;q(e),ut(new V(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(t){var e=[];return ut(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){if(1===(n=t.nodeType)||11===n)for(var n=0,i=(e=new V(e)).length;n<i;n++)t.appendChild(e[n])},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;ut(new V(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){var n=Fn(e).eq(0).clone()[0],i=t.parentNode;i&&i.replaceChild(n,t),n.appendChild(t)},remove:it,detach:function(t){it(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i)for(var r=0,a=(e=new V(e)).length;r<a;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:J,removeClass:Q,toggleClass:function(n,t,i){t&&ut(t.split(" "),function(t){var e=i;ft(e)&&(e=!Y(n,t)),(e?J:Q)(n,t)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Ot,triggerHandler:function(e,t,n){var i,r,a=t.type||t,s=X(e);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:ht,type:a,target:e},t.type&&(i=lt(i,t)),t=R(s),r=n?[i].concat(n):[i],ut(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(s,t){V.prototype[t]=function(t,e,n){for(var i,r=0,a=this.length;r<a;r++)ft(i)?pt(i=s(this[r],t,e,n))&&(i=Fn(i)):Z(i,s(this[r],t,e,n));return pt(i)?i:this}}),V.prototype.bind=V.prototype.on,V.prototype.unbind=V.prototype.off;var Ri=Object.create(null);Lt.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t))},_transformKey:function(t){return ri(t)?Ri:t},get:function(t){if(t=this._transformKey(t),-1!==(t=this._idx(t)))return this._values[t]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){return t=this._transformKey(t),-1!==(t=this._idx(t))&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Bi=Lt,Ni=[function(){this.$get=[function(){return Bi}]}],Hi=/^([^(]+?)=>/,ji=/^[^(]*\(\s*([^)]*)\)/m,Fi=/,/,Gi=/^\s*(_?)(\S+?)\1\s*$/,Vi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,qi=x("$injector");Rt.$$annotate=function(t,e,n){var i,r;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw gt(n)&&n||(n=t.name||((r=Ut(r=t))?"function("+(r[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),qi("strictdi",n);ut((e=Ut(t))[1].split(Fi),function(t){t.replace(Gi,function(t,e,n){i.push(n)})})}t.$inject=i}}else oi(t)?(M(t[e=t.length-1],"fn"),i=t.slice(0,e)):M(t,"fn",!0);return i};function Wi(){this.$get=ht}function zi(){var u=new Bi,l=[];this.$get=["$$AnimateRunner","$rootScope",function(r,a){function s(e,t,n){var i=!1;return t&&ut(t=gt(t)?t.split(" "):oi(t)?t:[],function(t){t&&(i=!0,e[t]=n)}),i}function o(){ut(l,function(t){var e=u.get(t);if(e){var n=function(t){gt(t)&&(t=t.split(" "));var e=Pt();return ut(t,function(t){t.length&&(e[t]=!0)}),e}(t.attr("class")),i="",r="";ut(e,function(t,e){t!==!!n[e]&&(t?i+=(i.length?" ":"")+e:r+=(r.length?" ":"")+e)}),ut(t,function(t){i&&J(t,i),r&&Q(t,r)}),u.delete(t)}}),l.length=0}return{enabled:ht,on:ht,off:ht,pin:ht,push:function(t,e,n,i){return i&&i(),(n=n||{}).from&&t.css(n.from),n.to&&t.css(n.to),(n.addClass||n.removeClass)&&(e=n.addClass,i=n.removeClass,e=s(n=u.get(t)||{},e,!0),i=s(n,i,!1),(e||i)&&(u.set(t,n),l.push(t),1===l.length&&a.$$postDigest(o))),(t=new r).complete(),t}}}]}function Xi(){this.$get=["$$rAF",function(e){function n(t){i.push(t),1<i.length||e(function(){for(var t=0;t<i.length;t++)i[t]();i=[]})}var i=[];return function(){var e=!1;return n(function(){e=!0}),function(t){e?t():n(t)}}}]}function Ki(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function a(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){i()?r(t,0,!1):e(t)},this._state=0}return a.chain=function(t,n){var i=0;!function e(){i===t.length?n(!0):t[i](function(t){!1===t?n(!1):(i++,e())})}()},a.all=function(e,n){function i(t){a=a&&t,++r===e.length&&n(a)}var r=0,a=!0;ut(e,function(t){t.done(i)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:ht,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){(!1===t?n:e)()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(ut(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]}function Yi(){this.$get=["$$rAF","$q","$$AnimateRunner",function(s,t,o){return function(t,e){function n(){return s(function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null),r||a.complete(),r=!0}),a}var i=e||{};i.$$prepared||(i=C(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var r,a=new o;return{start:n,end:n}}}]}var Qi=x("$animate"),Ji=["$provide",function(i){var r=this,e=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(t,e){if(t&&"."!==t.charAt(0))throw Qi("notcsel",t);var n=t+"-animation";r.$$registeredAnimations[t.substr(1)]=n,i.factory(n,e)},this.customFilter=function(t){return 1===arguments.length&&(n=yt(t)?t:null),n},this.classNameFilter=function(t){if(1===arguments.length&&(e=t instanceof RegExp?t:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(e.toString()))throw e=null,Qi("nongcls","ng-animate");return e},this.$get=["$$animateQueue",function(a){function r(t,e,n){if(n){var i;t:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break t}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(t){t.end&&t.end()},enter:function(t,e,n,i){return e=e&&Fn(e),n=n&&Fn(n),r(t,e=e||n.parent(),n),a.push(t,"enter",Ht(i))},move:function(t,e,n,i){return e=e&&Fn(e),n=n&&Fn(n),r(t,e=e||n.parent(),n),a.push(t,"move",Ht(i))},leave:function(t,e){return a.push(t,"leave",Ht(e),function(){t.remove()})},addClass:function(t,e,n){return(n=Ht(n)).addClass=Nt(n.addclass,e),a.push(t,"addClass",n)},removeClass:function(t,e,n){return(n=Ht(n)).removeClass=Nt(n.removeClass,e),a.push(t,"removeClass",n)},setClass:function(t,e,n,i){return(i=Ht(i)).addClass=Nt(i.addClass,e),i.removeClass=Nt(i.removeClass,n),a.push(t,"setClass",i)},animate:function(t,e,n,i,r){return(r=Ht(r)).from=r.from?lt(r.from,e):e,r.to=r.to?lt(r.to,n):n,r.tempClasses=Nt(r.tempClasses,i||"ng-inline-animate"),a.push(t,"animate",r)}}}]}],Zi=x("$compile"),tr=new function(){};qt.$inject=["$provide","$$sanitizeUriProvider"],Wt.prototype.isFirstChange=function(){return this.previousValue===tr};function er(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Fn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]}var nr=/^((?:x|data)[:\-_])/i,ir=/[:\-_]+(.)/g,rr=x("$controller"),ar=/^(\S+)(\s+as\s+([\w$]+))?$/,sr="application/json",or={"Content-Type":sr+";charset=utf-8"},ur=/^\[|^\{(?!\{)/,lr={"[":/]$/,"{":/}$/},cr=/^\)]\}',?\n/,hr=x("$http"),dr=ni.$interpolateMinErr=x("$interpolate");dr.throwNoconcat=function(t){throw dr("noconcat",t)},dr.interr=function(t,e){return dr("interr",t,e.toString())};function fr(){this.$get=function(){var r=ni.callbacks,a={};return{createCallback:function(t){var e,n="angular.callbacks."+(t="_"+(r.$$counter++).toString(36)),i=((e=function(t){e.data=t,e.called=!0}).id=t,e);return a[n]=r[t]=i,n},wasCalled:function(t){return a[t].called},getResponse:function(t){return a[t].data},removeCallback:function(t){delete r[a[t].id],delete a[t]}}}}var pr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,mr={http:80,https:443,ftp:21},gr=x("$location"),vr=/^\s*[\\/]{2,}/,yr={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Se("$$absUrl"),url:function(t){if(ft(t))return this.$$url;var e=pr.exec(t);return!e[1]&&""!==t||this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Se("$$protocol"),host:Se("$$host"),port:Se("$$port"),path:we("$$path",function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(gt(n)||f(n))n=n.toString(),this.$$search=k(n);else{if(!mt(n))throw gr("isrcharg");ut(n=C(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:ft(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:we("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};ut([Te,_e,be],function(e){e.prototype=Object.create(yr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==be||!this.$$html5)throw gr("nostate");return this.$$state=ft(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var br=x("$parse"),_r={}.constructor.prototype.valueOf,Tr=Pt();ut("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Tr[t]=!0});var Sr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wr=function(t){this.options=t};wr.prototype={constructor:wr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(t=this.text.charAt(this.index))||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=Tr[e],r=Tr[n];Tr[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||"Â "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=i&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=pt(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,br("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Xn(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);i=i+a;if(r)"u"===a?((r=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Sr[a]||a,r=!1;else if("\\"===a)r=!0;else{if(a===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",e)}};var Cr=function(t,e){this.lexer=t,this.options=e};Cr.Program="Program",Cr.ExpressionStatement="ExpressionStatement",Cr.AssignmentExpression="AssignmentExpression",Cr.ConditionalExpression="ConditionalExpression",Cr.LogicalExpression="LogicalExpression",Cr.BinaryExpression="BinaryExpression",Cr.UnaryExpression="UnaryExpression",Cr.CallExpression="CallExpression",Cr.MemberExpression="MemberExpression",Cr.Identifier="Identifier",Cr.Literal="Literal",Cr.ArrayExpression="ArrayExpression",Cr.Property="Property",Cr.ObjectExpression="ObjectExpression",Cr.ThisExpression="ThisExpression",Cr.LocalsExpression="LocalsExpression",Cr.NGValueParameter="NGValueParameter",Cr.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Cr.Program,body:t}},expressionStatement:function(){return{type:Cr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Ie(t))throw br("lval");t={type:Cr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Cr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Cr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Cr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Cr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Cr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=C(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Cr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:Cr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Cr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Cr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:Cr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)for(;t.push(this.filterChain()),this.expect(","););return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Cr.Identifier,name:t.text}},constant:function(){return{type:Cr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Cr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Cr.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Cr.ObjectExpression,properties:e}},throwError:function(t,e){throw br("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw br("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw br("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var a=(t=this.tokens[t]).text;if(a===e||a===n||a===i||a===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return!!(t=this.peek(t,e,n,i))&&(this.tokens.shift(),t)},selfReferential:{this:{type:Cr.ThisExpression},$locals:{type:Cr.LocalsExpression}}};var Er=2;Me.prototype={compile:function(t){var r=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Pe(t,r.$filter);var e,n="";return this.stage="assign",(e=$e(t))&&(this.state.computing="assign",n=this.nextId(),this.recurse(e,n),this.return_(n),n="fn.assign="+this.generateFunction("assign","s,v,l")),e=Oe(t.body),r.stage="inputs",ut(e,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push({name:n,isPure:t.isPure}),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(t),t='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",t=new Function("$filter","getStringValue","ifDefined","plus",t)(this.$filter,ke,Ae,xe),this.state=this.stage=void 0,t},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return ut(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(t){return t.name}).join(",")+"];"),e.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var n=[],i=this;return ut(this.state.filters,function(t,e){n.push(t+"=$filter("+i.escape(e)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(n,e,t,i,r,a){var s,o,u,l,c,h=this;if(i=i||ht,!a&&pt(n.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",n.watchId)),this.lazyRecurse(n,e,t,i,r,!0));else switch(n.type){case Cr.Program:ut(n.body,function(t,e){h.recurse(t.expression,void 0,void 0,function(t){o=t}),e!==n.body.length-1?h.current().body.push(o,";"):h.return_(o)});break;case Cr.Literal:l=this.escape(n.value),this.assign(e,l),i(e||l);break;case Cr.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(t){o=t}),l=n.operator+"("+this.ifDefined(o,0)+")",this.assign(e,l),i(l);break;case Cr.BinaryExpression:this.recurse(n.left,void 0,void 0,function(t){s=t}),this.recurse(n.right,void 0,void 0,function(t){o=t}),l="+"===n.operator?this.plus(s,o):"-"===n.operator?this.ifDefined(s,0)+n.operator+this.ifDefined(o,0):"("+s+")"+n.operator+"("+o+")",this.assign(e,l),i(l);break;case Cr.LogicalExpression:e=e||this.nextId(),h.recurse(n.left,e),h.if_("&&"===n.operator?e:h.not(e),h.lazyRecurse(n.right,e)),i(e);break;case Cr.ConditionalExpression:e=e||this.nextId(),h.recurse(n.test,e),h.if_(e,h.lazyRecurse(n.alternate,e),h.lazyRecurse(n.consequent,e)),i(e);break;case Cr.Identifier:e=e||this.nextId(),t&&(t.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),t.computed=!1,t.name=n.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",n.name)),function(){h.if_("inputs"===h.stage||"s",function(){r&&1!==r&&h.if_(h.isNull(h.nonComputedMember("s",n.name)),h.lazyAssign(h.nonComputedMember("s",n.name),"{}")),h.assign(e,h.nonComputedMember("s",n.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",n.name))),i(e);break;case Cr.MemberExpression:s=t&&(t.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(n.object,s,void 0,function(){h.if_(h.notNull(s),function(){n.computed?(o=h.nextId(),h.recurse(n.property,o),h.getStringValue(o),r&&1!==r&&h.if_(h.not(h.computedMember(s,o)),h.lazyAssign(h.computedMember(s,o),"{}")),l=h.computedMember(s,o),h.assign(e,l),t&&(t.computed=!0,t.name=o)):(r&&1!==r&&h.if_(h.isNull(h.nonComputedMember(s,n.property.name)),h.lazyAssign(h.nonComputedMember(s,n.property.name),"{}")),l=h.nonComputedMember(s,n.property.name),h.assign(e,l),t&&(t.computed=!1,t.name=n.property.name))},function(){h.assign(e,"undefined")}),i(e)},!!r);break;case Cr.CallExpression:e=e||this.nextId(),n.filter?(o=h.filter(n.callee.name),u=[],ut(n.arguments,function(t){var e=h.nextId();h.recurse(t,e),u.push(e)}),l=o+"("+u.join(",")+")",h.assign(e,l),i(e)):(o=h.nextId(),s={},u=[],h.recurse(n.callee,o,s,function(){h.if_(h.notNull(o),function(){ut(n.arguments,function(t){h.recurse(t,n.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),l=s.name?h.member(s.context,s.name,s.computed)+"("+u.join(",")+")":o+"("+u.join(",")+")",h.assign(e,l)},function(){h.assign(e,"undefined")}),i(e)}));break;case Cr.AssignmentExpression:o=this.nextId(),s={},this.recurse(n.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(n.right,o),l=h.member(s.context,s.name,s.computed)+n.operator+o,h.assign(e,l),i(e||l)})},1);break;case Cr.ArrayExpression:u=[],ut(n.elements,function(t){h.recurse(t,n.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),l="["+u.join(",")+"]",this.assign(e,l),i(e||l);break;case Cr.ObjectExpression:c=!(u=[]),ut(n.properties,function(t){t.computed&&(c=!0)}),c?(e=e||this.nextId(),this.assign(e,"{}"),ut(n.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Cr.Identifier?t.key.name:""+t.key.value,o=h.nextId(),h.recurse(t.value,o),h.assign(h.member(e,s,t.computed),o)})):(ut(n.properties,function(e){h.recurse(e.value,n.constant?void 0:h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===Cr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+u.join(",")+"}",this.assign(e,l)),i(e||l);break;case Cr.ThisExpression:this.assign(e,"s"),i(e||"s");break;case Cr.LocalsExpression:this.assign(e,"l"),i(e||"l");break;case Cr.NGValueParameter:this.assign(e,"v"),i(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,i,r,a){var s=this;return function(){s.recurse(t,e,n,i,r,a)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(gt(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(f(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw br("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},De.prototype={compile:function(t){var e,i,r,a=this;Pe(t,a.$filter),(e=$e(t))&&(i=this.recurse(e)),(e=Oe(t.body))&&(r=[],ut(e,function(t,e){var n=a.recurse(t);n.isPure=t.isPure,t.input=n,r.push(n),t.watchId=e}));var s=[];return ut(t.body,function(t){s.push(a.recurse(t.expression))}),t=0===t.body.length?ht:1===t.body.length?s[0]:function(e,n){var i;return ut(s,function(t){i=t(e,n)}),i},i&&(t.assign=function(t,e,n){return i(t,n,e)}),r&&(t.inputs=r),t},recurse:function(t,o,e){var a,u,l,n=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Cr.Literal:return this.value(t.value,o);case Cr.UnaryExpression:return u=this.recurse(t.argument),this["unary"+t.operator](u,o);case Cr.BinaryExpression:case Cr.LogicalExpression:return a=this.recurse(t.left),u=this.recurse(t.right),this["binary"+t.operator](a,u,o);case Cr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),o);case Cr.Identifier:return n.identifier(t.name,o,e);case Cr.MemberExpression:return a=this.recurse(t.object,!1,!!e),t.computed||(u=t.property.name),t.computed&&(u=this.recurse(t.property)),t.computed?this.computedMember(a,u,o,e):this.nonComputedMember(a,u,o,e);case Cr.CallExpression:return l=[],ut(t.arguments,function(t){l.push(n.recurse(t))}),t.filter&&(u=this.$filter(t.callee.name)),t.filter||(u=this.recurse(t.callee,!0)),t.filter?function(t,e,n,i){for(var r=[],a=0;a<l.length;++a)r.push(l[a](t,e,n,i));return t=u.apply(void 0,r,i),o?{context:void 0,name:void 0,value:t}:t}:function(t,e,n,i){var r,a=u(t,e,n,i);if(null!=a.value){r=[];for(var s=0;s<l.length;++s)r.push(l[s](t,e,n,i));r=a.value.apply(a.context,r)}return o?{value:r}:r};case Cr.AssignmentExpression:return a=this.recurse(t.left,!0,1),u=this.recurse(t.right),function(t,e,n,i){var r=a(t,e,n,i);return t=u(t,e,n,i),r.context[r.name]=t,o?{value:t}:t};case Cr.ArrayExpression:return l=[],ut(t.elements,function(t){l.push(n.recurse(t))}),function(t,e,n,i){for(var r=[],a=0;a<l.length;++a)r.push(l[a](t,e,n,i));return o?{value:r}:r};case Cr.ObjectExpression:return l=[],ut(t.properties,function(t){t.computed?l.push({key:n.recurse(t.key),computed:!0,value:n.recurse(t.value)}):l.push({key:t.key.type===Cr.Identifier?t.key.name:""+t.key.value,computed:!1,value:n.recurse(t.value)})}),function(t,e,n,i){for(var r={},a=0;a<l.length;++a)l[a].computed?r[l[a].key(t,e,n,i)]=l[a].value(t,e,n,i):r[l[a].key]=l[a].value(t,e,n,i);return o?{value:r}:r};case Cr.ThisExpression:return function(t){return o?{value:t}:t};case Cr.LocalsExpression:return function(t,e){return o?{value:e}:e};case Cr.NGValueParameter:return function(t,e,n){return o?{value:n}:n}}},"unary+":function(r,a){return function(t,e,n,i){return t=pt(t=r(t,e,n,i))?+t:0,a?{value:t}:t}},"unary-":function(r,a){return function(t,e,n,i){return t=pt(t=r(t,e,n,i))?-t:-0,a?{value:t}:t}},"unary!":function(r,a){return function(t,e,n,i){return t=!r(t,e,n,i),a?{value:t}:t}},"binary+":function(a,s,o){return function(t,e,n,i){var r=a(t,e,n,i);return r=xe(r,t=s(t,e,n,i)),o?{value:r}:r}},"binary-":function(a,s,o){return function(t,e,n,i){var r=a(t,e,n,i);return t=s(t,e,n,i),r=(pt(r)?r:0)-(pt(t)?t:0),o?{value:r}:r}},"binary*":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)*a(t,e,n,i),s?{value:t}:t}},"binary/":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)/a(t,e,n,i),s?{value:t}:t}},"binary%":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)%a(t,e,n,i),s?{value:t}:t}},"binary===":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)===a(t,e,n,i),s?{value:t}:t}},"binary!==":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)!==a(t,e,n,i),s?{value:t}:t}},"binary==":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)==a(t,e,n,i),s?{value:t}:t}},"binary!=":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)!=a(t,e,n,i),s?{value:t}:t}},"binary<":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)<a(t,e,n,i),s?{value:t}:t}},"binary>":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)>a(t,e,n,i),s?{value:t}:t}},"binary<=":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)<=a(t,e,n,i),s?{value:t}:t}},"binary>=":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)>=a(t,e,n,i),s?{value:t}:t}},"binary&&":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)&&a(t,e,n,i),s?{value:t}:t}},"binary||":function(r,a,s){return function(t,e,n,i){return t=r(t,e,n,i)||a(t,e,n,i),s?{value:t}:t}},"ternary?:":function(r,a,s,o){return function(t,e,n,i){return t=(r(t,e,n,i)?a:s)(t,e,n,i),o?{value:t}:t}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(r,a,s){return function(t,e,n,i){return t=e&&r in e?e:t,s&&1!==s&&t&&null==t[r]&&(t[r]={}),e=t?t[r]:void 0,a?{context:t,name:r,value:e}:e}},computedMember:function(o,u,l,c){return function(t,e,n,i){var r,a,s=o(t,e,n,i);return null!=s&&(r=u(t,e,n,i),r+="",c&&1!==c&&s&&!s[r]&&(s[r]={}),a=s[r]),l?{context:s,name:r,value:a}:a}},nonComputedMember:function(r,a,s,o){return function(t,e,n,i){return t=r(t,e,n,i),o&&1!==o&&t&&null==t[a]&&(t[a]={}),e=null!=t?t[a]:void 0,s?{context:t,name:a,value:e}:e}},inputs:function(r,a){return function(t,e,n,i){return i?i[a]:r(t,e,n)}}},Le.prototype={constructor:Le,parse:function(t){t=this.getAst(t);var e=this.astCompiler.compile(t.ast),n=t.ast;return e.literal=0===n.body.length||1===n.body.length&&(n.body[0].expression.type===Cr.Literal||n.body[0].expression.type===Cr.ArrayExpression||n.body[0].expression.type===Cr.ObjectExpression),e.constant=t.ast.constant,e.oneTime=t.oneTime,e},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var kr=x("$sce"),Ar={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xr=/_([a-z])/g,Pr=x("$compile"),Or=ot.document.createElement("a"),Ir=Qe(ot.location.href);tn.$inject=["$document"],nn.$inject=["$provide"];var $r=22,Mr=".",Dr="0";on.$inject=["$locale"];var Lr={yyyy:hn("FullYear",4,0,!(un.$inject=["$locale"]),!0),yy:hn("FullYear",2,0,!0,!0),y:hn("FullYear",1,0,!1,!0),MMMM:dn("Month"),MMM:dn("Month",!0),MM:hn("Month",2,1),M:hn("Month",1,1),LLLL:dn("Month",!1,!0),dd:hn("Date",2),d:hn("Date",1),HH:hn("Hours",2),H:hn("Hours",1),hh:hn("Hours",2,-12),h:hn("Hours",1,-12),mm:hn("Minutes",2),m:hn("Minutes",1),ss:hn("Seconds",2),s:hn("Seconds",1),sss:hn("Milliseconds",3),EEEE:dn("Day"),EEE:dn("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return(0<=(t=-1*n)?"+":"")+(cn(Math[0<t?"floor":"ceil"](t/60),2)+cn(Math.abs(t%60),2))},ww:pn(2),w:pn(1),G:mn,GG:mn,GGG:mn,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},Ur=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Rr=/^-?\d+$/;gn.$inject=["$locale"];var Br=w(Xn),Nr=w(Kn);_n.$inject=["$parse"];var Hr=w({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Zn.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),jr={};ut(Mi,function(t,i){function r(t,e,n){t.$watch(n[a],function(t){n.$set(i,!!t)})}if("multiple"!==t){var a=zt("ng-"+i),e=r;"checked"===t&&(e=function(t,e,n){n.ngModel!==n[a]&&r(t,0,n)}),jr[a]=function(){return{restrict:"A",priority:100,link:e}}}}),ut(Li,function(t,i){jr[i]=function(){return{priority:100,link:function(t,e,n){"ngPattern"===i&&"/"===n.ngPattern.charAt(0)&&(e=n.ngPattern.match(Wn))?n.$set("ngPattern",new RegExp(e[1],e[2])):t.$watch(n[i],function(t){n.$set(i,t)})}}}}),ut(["src","srcset","href"],function(a){var s=zt("ng-"+a);jr[s]=function(){return{priority:99,link:function(t,e,n){var i=a,r=a;"href"===a&&"[object SVGAnimatedString]"===Zn.call(e.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(s,function(t){t?(n.$set(r,t),jn&&i&&e.prop(i,n[r])):"href"===a&&n.$set(r,null)})}}}});var Fr={$addControl:ht,$$renameControl:function(t,e){t.$name=e},$removeControl:ht,$setValidity:ht,$setDirty:ht,$setPristine:ht,$setSubmitted:ht};Sn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Sn.prototype={$rollbackViewValue:function(){ut(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){ut(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){N(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],(this[e]=t).$name=e},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],ut(this.$pending,function(t,e){this.$setValidity(e,null,n)},this),ut(this.$error,function(t,e){this.$setValidity(e,null,n)},this),ut(this.$$success,function(t,e){this.$setValidity(e,null,n)},this),St(this.$$controls,n),n.$$parentForm=Fr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ca),this.$$animate.addClass(this.$$element,Ea),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ca,Ea+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,ut(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){ut(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Cn({clazz:Sn,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(St(i,n),0===i.length&&delete t[e])}});function Gr(n){return["$timeout","$parse",function(u,e){function l(t){return""===t?e('this[""]').assign:e(t).assign||ht}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Sn,compile:function(t,e){t.addClass(Ca).addClass(Sa);var o=e.name?"name":!(!n||!e.ngForm)&&"ngForm";return{pre:function(e,t,n,i){var r=i[0];if(!("action"in n)){var a=function(t){e.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),t.preventDefault()};t[0].addEventListener("submit",a),t.on("$destroy",function(){u(function(){t[0].removeEventListener("submit",a)},0,!1)})}(i[1]||r.$$parentForm).$addControl(r);var s=o?l(r.$name):ht;o&&(s(e,r),n.$observe(o,function(t){r.$name!==t&&(s(e,void 0),r.$$parentForm.$$renameControl(r,t),(s=l(r.$name))(e,r))})),t.on("$destroy",function(){r.$$parentForm.$removeControl(r),s(e,void 0),lt(r,Fr)})}}}}}]}var Vr=Gr(),qr=Gr(!0),Wr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,zr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Xr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Kr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Yr=/^(\d{4,})-(\d{2})-(\d{2})$/,Qr=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Jr=/^(\d{4,})-W(\d\d)$/,Zr=/^(\d{4,})-(\d\d)$/,ta=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ea=Pt();ut(["date","datetime-local","month","time","week"],function(t){ea[t]=!0});function na(){function i(t,e,n){var i=pt(n)?n:9===jn?"":null;t.prop("value",i),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,e){return aa.test(e.ngValue)?function(t,e,n){i(e,n,t=t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){i(e,n,t)})}}}}var ia={text:function(t,e,n,i,r,a){An(0,e,n,i,r,a),kn(i)},date:Pn("date",Yr,xn(Yr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pn("datetimelocal",Qr,xn(Qr,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pn("time",ta,xn(ta,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pn("week",Jr,function(t,e){if(y(t))return t;if(gt(t)){Jr.lastIndex=0;var n=Jr.exec(t);if(n){var i=+n[1],r=+n[2],a=n=0,s=0,o=0,u=fn(i);r=7*(r-1);return e&&(n=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds()),new Date(i,0,u.getDate()+r,n,a,s,o)}}return NaN},"yyyy-Www"),month:Pn("month",Zr,xn(Zr,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,a){var s,o,u;On(0,e,0,i),In(i),An(0,e,n,i,r,a),(pt(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||ft(s)||s<=t},n.$observe("min",function(t){s=$n(t),i.$validate()})),(pt(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||ft(o)||t<=o},n.$observe("max",function(t){o=$n(t),i.$validate()})),(pt(n.step)||n.ngStep)&&(i.$validators.step=function(t,e){return i.$isEmpty(e)||ft(u)||Dn(e,s||0,u)},n.$observe("step",function(t){u=$n(t),i.$validate()}))},url:function(t,e,n,i,r,a){An(0,e,n,i,r,a),kn(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||zr.test(n)}},email:function(t,e,n,i,r,a){An(0,e,n,i,r,a),kn(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Xr.test(n)}},radio:function(t,n,i,r){var a=!i.ngTrim||"false"!==li(i.ngTrim);ft(i.name)&&n.attr("name",++ii),n.on("click",function(t){var e;n[0].checked&&(e=i.value,a&&(e=li(e)),r.$setViewValue(e,t&&t.type))}),r.$render=function(){var t=i.value;a&&(t=li(t)),n[0].checked=t===r.$viewValue},i.$observe("value",r.$render)},range:function(t,n,i,r,e,a){function s(t,e){n.attr(t,i[t]),i.$observe(t,e)}On(0,n,0,r),In(r),An(0,n,i,r,e,a);var o=r.$$hasNativeValidators&&"range"===n[0].type,u=o?0:void 0,l=o?100:void 0,c=o?1:void 0,h=n[0].validity;t=pt(i.min),e=pt(i.max),a=pt(i.step);var d=r.$render;r.$render=o&&pt(h.rangeUnderflow)&&pt(h.rangeOverflow)?function(){d(),r.$setViewValue(n.val())}:d,t&&(r.$validators.min=o?function(){return!0}:function(t,e){return r.$isEmpty(e)||ft(u)||u<=e},s("min",function(t){u=$n(t),ri(r.$modelValue)||(o?((t=n.val())<u&&(t=u,n.val(t)),r.$setViewValue(t)):r.$validate())})),e&&(r.$validators.max=o?function(){return!0}:function(t,e){return r.$isEmpty(e)||ft(l)||e<=l},s("max",function(t){l=$n(t),ri(r.$modelValue)||(o?(t=n.val(),l<t&&(n.val(l),t=l<u?u:l),r.$setViewValue(t)):r.$validate())})),a&&(r.$validators.step=o?function(){return!h.stepMismatch}:function(t,e){return r.$isEmpty(e)||ft(c)||Dn(e,u||0,c)},s("step",function(t){c=$n(t),ri(r.$modelValue)||(o&&r.$viewValue!==n.val()?r.$setViewValue(n.val()):r.$validate())}))},checkbox:function(t,e,n,i,r,a,s,o){var u=Ln(o,t,"ngTrueValue",n.ngTrueValue,!0),l=Ln(o,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return Ct(t,u)}),i.$parsers.push(function(t){return t?u:l})},hidden:ht,button:ht,submit:ht,reset:ht,file:ht},ra=["$browser","$sniffer","$filter","$parse",function(r,a,s,o){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,i){i[0]&&(ia[Xn(n.type)]||ia.text)(t,e,n,i[0],a,r,s,o)}}}}],aa=/^(true|false|\d+)$/,sa=["$compile",function(i){return{restrict:"AC",compile:function(t){return i.$$addBindingClass(t),function(t,e,n){i.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=U(t)})}}}}],oa=["$interpolate","$compile",function(i,r){return{compile:function(t){return r.$$addBindingClass(t),function(t,e,n){t=i(e.attr(n.$attr.ngBindTemplate)),r.$$addBindingInfo(e,t.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=ft(t)?"":t})}}}}],ua=["$sce","$parse","$compile",function(a,n,s){return{restrict:"A",compile:function(t,e){var i=n(e.ngBindHtml),r=n(e.ngBindHtml,function(t){return a.valueOf(t)});return s.$$addBindingClass(t),function(e,n,t){s.$$addBindingInfo(n,t.ngBindHtml),e.$watch(r,function(){var t=i(e);n.html(a.getTrustedHtml(t)||"")})}}}}],la=w({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ca=Un("",!0),ha=Un("Odd",0),da=Un("Even",1),fa=Tn({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),pa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ma={},ga={blur:!0,focus:!0};ut("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var s=zt("ng-"+a);ma[s]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(t,e){var i=n(e[s]);return function(n,t){t.on(a,function(t){function e(){i(n,{$event:t})}ga[a]&&r.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});function va(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=n.ngList||", ",a="false"!==n.ngTrim,s=a?li(r):r;i.$parsers.push(function(t){if(!ft(t)){var e=[];return t&&ut(t.split(s),function(t){t&&e.push(a?li(t):t)}),e}}),i.$formatters.push(function(t){if(oi(t))return t.join(r)}),i.$isEmpty=function(t){return!t||!t.length}}}}var ya=["$animate","$compile",function(u,l){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,i,e,r){var a,s,o;t.$watch(i.ngIf,function(t){t?s||r(function(t,e){s=e,t[t.length++]=l.$$createComment("end ngIf",i.ngIf),a={clone:t},u.enter(t,n.parent(),n)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),a&&(o=L(a.clone),u.leave(o).done(function(t){!1!==t&&(o=null)}),a=null))})}}}],ba=["$templateRequest","$anchorScroll","$animate",function(m,g,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ni.noop,compile:function(t,e){var n=e.ngInclude||e.src,f=e.onload||"",p=e.autoscroll;return function(a,s,t,o,u){function l(){e&&(e.remove(),e=null),c&&(c.$destroy(),c=null),h&&(v.leave(h).done(function(t){!1!==t&&(e=null)}),e=h,h=null)}var c,e,h,d=0;a.$watch(n,function(n){function i(t){!1===t||!pt(p)||p&&!a.$eval(p)||g()}var r=++d;n?(m(n,!0).then(function(t){if(!a.$$destroyed&&r===d){var e=a.$new();o.template=t,t=u(e,function(t){l(),v.enter(t,null,s).done(i)}),h=t,(c=e).$emit("$includeContentLoaded",n),a.$eval(f)}},function(){a.$$destroyed||r!==d||(l(),a.$emit("$includeContentError",n))}),a.$emit("$includeContentRequested",n)):(l(),o.template=null)})}}}}],_a=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,i){Zn.call(e[0]).match(/SVG/)?(e.empty(),r(G(i.template,ot.document).childNodes)(t,function(t){e.append(t)},{futureParentElement:e})):(e.html(i.template),r(e.contents())(t))}}}],Ta=Tn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Sa="ng-valid",wa="ng-invalid",Ca="ng-pristine",Ea="ng-dirty",ka=x("ngModel");Rn.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Rn.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),i=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var e=this.$$parsedNgModel(t);return yt(e)&&(e=n(t)),e},this.$$ngModelSet=function(t,e){yt(this.$$parsedNgModel(t))?i(t,{$$$p:e}):this.$$parsedNgModelAssign(t,e)}}else if(!this.$$parsedNgModel.assign)throw ka("nonassign",this.$$attr.ngModel,kt(this.$$element))},$render:ht,$isEmpty:function(t){return ft(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ea),this.$$animate.addClass(this.$$element,Ca)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ca),this.$$animate.addClass(this.$$element,Ea),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!ri(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),a=this;this.$$runValidators(e,t,function(t){r||n===t||(a.$modelValue=t?e:void 0,a.$modelValue!==i&&a.$$writeModelToScope())})}},$$runValidators:function(i,r,e){function a(t,e){l===c.$$currentValidationRunId&&c.$setValidity(t,e)}function t(t){l===c.$$currentValidationRunId&&e(t)}this.$$currentValidationRunId++;var s,o,u,n,l=this.$$currentValidationRunId,c=this;n=c.$$parserName||"parse",(ft(c.$$parserValid)?(a(n,null),1):(c.$$parserValid||(ut(c.$validators,function(t,e){a(e,null)}),ut(c.$asyncValidators,function(t,e){a(e,null)})),a(n,c.$$parserValid),c.$$parserValid))?(u=!0,ut(c.$validators,function(t,e){var n=Boolean(t(i,r));u=u&&n,a(e,n)}),u||(ut(c.$asyncValidators,function(t,e){a(e,null)}),0)?(s=[],o=!0,ut(c.$asyncValidators,function(t,e){var n=t(i,r);if(!n||!yt(n.then))throw ka("nopromise",n);a(e,void 0),s.push(n.then(function(){a(e,!0)},function(){a(e,o=!1)}))}),s.length?c.$$q.all(s).then(function(){t(o)},ht):t(!0)):t(!1)):t(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!ft(e)||void 0)for(var t=0;t<this.$parsers.length;t++)if(ft(e=this.$parsers[t](e))){this.$$parserValid=!1;break}ri(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,r&&(this.$modelValue=e,n.$modelValue!==i&&n.$$writeModelToScope()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(t){r||(n.$modelValue=t?e:void 0,n.$modelValue!==i&&n.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),ut(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");f(e[t])?e=e[t]:f(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<e?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,ht))},$$format:function(){for(var t=this.$formatters,e=t.length,n=this.$modelValue;e--;)n=t[e](n);return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),(this.$$updateEvents=this.$options.getOption("updateOn"))&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Cn({clazz:Rn,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Aa,xa=["$rootScope",function(s){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Rn,priority:1,compile:function(t){return t.addClass(Ca).addClass("ng-untouched").addClass(Sa),{pre:function(t,e,n,i){var r=i[0];e=i[1]||r.$$parentForm,(i=i[2])&&(r.$options=i.$options),r.$$initGetterSetters(),e.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,e,n,i){function r(){a.$setTouched()}var a=i[0];a.$$setUpdateOnEvents(),e.on("blur",function(){a.$touched||(s.$$phase?t.$evalAsync(r):t.$apply(r))})}}}}}],Pa=/(\s+|^)default(\s+|$)/;Bn.prototype={getOption:function(t){return this.$$options[t]},createChild:function(n){var i=!1;return ut(n=lt({},n),function(t,e){"$inherit"===t?"*"===e?i=!0:(n[e]=this.$$options[e],"updateOn"===e&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===e&&(n.updateOnDefault=!1,n[e]=li(t.replace(Pa,function(){return n.updateOnDefault=!0," "})))},this),i&&(delete n["*"],Nn(n,this.$$options)),Nn(n,Aa.$$options),new Bn(n)}},Aa=new Bn({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});function Oa(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Aa,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}}function Ia(){return{restrict:"E",require:["select","?ngModel"],controller:es,priority:1,link:{pre:function(t,i,e,n){var r=n[0],a=n[1];if(a){if(r.ngModelCtrl=a,i.on("change",function(){r.removeUnknownOption(),t.$apply(function(){a.$setViewValue(r.readValue())})}),e.multiple){r.multiple=!0,r.readValue=function(){var e=[];return ut(i.find("option"),function(t){t.selected&&!t.disabled&&(t=t.value,e.push(t in r.selectValueMap?r.selectValueMap[t]:t))}),e},r.writeValue=function(n){ut(i.find("option"),function(t){var e=!!n&&(-1!==Array.prototype.indexOf.call(n,t.value)||-1!==Array.prototype.indexOf.call(n,r.selectValueMap[t.value]));e!==t.selected&&Hn(Fn(t),e)})};var s,o=NaN;t.$watch(function(){o!==a.$viewValue||Ct(s,a.$viewValue)||(s=R(a.$viewValue),a.$render()),o=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}else r.registerOption=ht},post:function(t,e,n,i){var r=i[1];if(r){var a=i[0];r.$render=function(){a.writeValue(r.$viewValue)}}}}}}function $a(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}}function Ma(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r,a=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(gt(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw x("ngPattern")("noregexp",a,t,kt(e));r=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||ft(r)||r.test(e)}}}}}function Da(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=c(t),r=ri(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}}function La(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=c(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}}var Ua,Ra,Ba,Na=Tn({terminal:!0,priority:1e3}),Ha=x("ngOptions"),ja=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Fa=["$compile","$document","$parse",function(p,m,s){function g(t,e,l){function c(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function h(t){var e;if(!i&&P(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}var o=t.match(ja);if(!o)throw Ha("iexp",t,kt(e));var n=o[5]||o[7],i=o[6];t=/ as /.test(o[0])&&o[1];var d=o[9];e=s(o[2]?o[1]:n);function f(t,e){return m(t,_(t,e))}var p=t&&s(t)||e,r=d&&s(d),m=d?function(t,e){return r(l,e)}:function(t){return Dt(t)},g=s(o[2]||o[1]),v=s(o[3]||""),y=s(o[4]||""),b=s(o[8]),a={},_=i?function(t,e){return a[i]=e,a[n]=t,a}:function(t){return a[n]=t,a};return{trackBy:d,getTrackByValue:f,getWatchables:s(b,function(t){for(var e=[],n=h(t=t||[]),i=n.length,r=0;r<i;r++){var a=t[s=t===n?r:n[r]],s=_(a,s);a=m(a,s);e.push(a),(o[2]||o[1])&&(a=g(l,s),e.push(a)),o[4]&&(s=y(l,s),e.push(s))}return e}),getOptions:function(){for(var t=[],e={},n=b(l)||[],i=h(n),r=i.length,a=0;a<r;a++){var s=n===i?a:i[a],o=_(n[s],s),u=p(l,o);u=new c(s=m(u,o),u,g(l,o),v(l,o),o=y(l,o));t.push(u),e[s]=u}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[f(t)]},getViewValueFromOption:function(t){return d?C(t.viewValue):t.viewValue}}}}}var v=ot.document.createElement("option"),y=ot.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=ht},post:function(t,r,e,n){function i(t){var e=(t=h.getOptionFromViewValue(t))&&t.element;return e&&!e.selected&&(e.selected=!0),t}function a(t,e){(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}var s=n[0],o=n[1],u=e.multiple;n=0;for(var l=r.children(),c=l.length;n<c;n++)if(""===l[n].value){s.hasEmptyOption=!0,s.emptyOption=l.eq(n);break}r.empty(),n=!!s.emptyOption,Fn(v.cloneNode(!1)).val("?");var h,d=g(e.ngOptions,r,t),f=m[0].createDocumentFragment();s.generateUnknownOptionValue=function(t){return"?"},u?(s.writeValue=function(t){if(h){var e=t&&t.map(i)||[];h.items.forEach(function(t){t.element.selected&&-1===Array.prototype.indexOf.call(e,t)&&(t.element.selected=!1)})}},s.readValue=function(){var t=r.val()||[],e=[];return ut(t,function(t){(t=h.selectValueMap[t])&&!t.disabled&&e.push(h.getViewValueFromOption(t))}),e},d.trackBy&&t.$watchCollection(function(){if(oi(o.$viewValue))return o.$viewValue.map(function(t){return d.getTrackByValue(t)})},function(){o.$render()})):(s.writeValue=function(t){if(h){var e=r[0].options[r[0].selectedIndex],n=h.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(s.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):s.selectUnknownOrEmptyOption(t)}},s.readValue=function(){var t=h.selectValueMap[r.val()];return t&&!t.disabled?(s.unselectEmptyOption(),s.removeUnknownOption(),h.getViewValueFromOption(t)):null},d.trackBy&&t.$watch(function(){return d.getTrackByValue(o.$viewValue)},function(){o.$render()})),n&&(p(s.emptyOption)(t),r.prepend(s.emptyOption),8===s.emptyOption[0].nodeType?(s.hasEmptyOption=!1,s.registerOption=function(t,e){""===e.val()&&(s.hasEmptyOption=!0,s.emptyOption=e,s.emptyOption.removeClass("ng-scope"),o.$render(),e.on("$destroy",function(){var t=s.$isEmptyOptionSelected();s.hasEmptyOption=!1,s.emptyOption=void 0,t&&o.$render()}))}):s.emptyOption.removeClass("ng-scope")),t.$watchCollection(d.getWatchables,function(){var t=h&&s.readValue();if(h)for(var e=h.items.length-1;0<=e;e--){var n=h.items[e];pt(n.group)?it(n.element.parentNode):it(n.element)}h=d.getOptions();var i={};h.items.forEach(function(t){var e;if(pt(t.group)){(e=i[t.group])||(e=y.cloneNode(!1),f.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e);var n=v.cloneNode(!1);e.appendChild(n),a(t,n)}else e=v.cloneNode(!1),f.appendChild(e),a(t,e)}),r[0].appendChild(f),o.$render(),o.$isEmpty(t)||(e=s.readValue(),(d.trackBy||u?Ct(t,e):t===e)||(o.$setViewValue(e),o.$render()))})}}}}],Ga=["$locale","$interpolate","$log",function(p,m,g){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(i,r,a){function s(t){r.text(t||"")}var o,t=a.count,u=a.$attr.when&&r.attr(a.$attr.when),l=a.offset||0,c=i.$eval(u)||{},h={},e=m.startSymbol(),n=m.endSymbol(),d=e+t+"-"+l+n,f=ni.noop;ut(a,function(t,e){var n=y.exec(e);n&&(n=(n[1]?"-":"")+Xn(n[2]),c[n]=r.attr(a.$attr[e]))}),ut(c,function(t,e){h[e]=m(t.replace(v,d))}),i.$watch(t,function(t){var e=parseFloat(t),n=ri(e);n||e in c||(e=p.pluralCat(e-l)),e===o||n&&ri(o)||(f(),ft(n=h[e])?(null!=t&&g.debug("ngPluralize: no rule defined for '"+e+"' in "+u),f=ht,s()):f=i.$watch(n,s),o=e)})}}}],Va=["$parse","$animate","$compile",function(u,E,l){function k(t,e,n,i,r,a,s){t[n]=i,r&&(t[r]=a),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))}var A=x("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var v=e.ngRepeat,y=l.$$createComment("end ngRepeat",v);if(!(n=v.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw A("iexp",v);var n,i=n[1],r=n[2],b=n[3],a=n[4];if(!(n=i.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw A("iidexp",i);var _=n[3]||n[1],T=n[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw A("badident",b);var s,S,w,C,o={$id:Dt};return a?s=u(a):(w=function(t,e){return Dt(e)},C=function(t){return t}),function(f,p,t,e,m){s&&(S=function(t,e,n){return T&&(o[T]=t),o[_]=e,o.$index=n,s(f,o)});var g=Pt();f.$watchCollection(r,function(t){var i,e,n,r,a,s,o,u,l,c,h=p[0],d=Pt();if(b&&(f[b]=t),P(t))u=t,e=S||w;else for(c in e=S||C,u=[],t)zn.call(t,c)&&"$"!==c.charAt(0)&&u.push(c);for(r=u.length,c=Array(r),i=0;i<r;i++)if(a=t===u?i:u[i],s=t[a],o=e(a,s,i),g[o])l=g[o],delete g[o],d[o]=l,c[i]=l;else{if(d[o])throw ut(c,function(t){t&&t.scope&&(g[t.id]=t)}),A("dupes",v,o,s);c[i]={id:o,scope:void 0,clone:void 0},d[o]=!0}for(n in g){if(o=L((l=g[n]).clone),E.leave(o),o[0].parentNode)for(i=0,e=o.length;i<e;i++)o[i].$$NG_REMOVED=!0;l.scope.$destroy()}for(i=0;i<r;i++)if(a=t===u?i:u[i],s=t[a],(l=c[i]).scope){for(n=h;(n=n.nextSibling)&&n.$$NG_REMOVED;);l.clone[0]!==n&&E.move(L(l.clone),null,h),h=l.clone[l.clone.length-1],k(l.scope,i,_,s,T,a,r)}else m(function(t,e){l.scope=e;var n=y.cloneNode(!1);t[t.length++]=n,E.enter(t,null,h),h=n,l.clone=t,d[l.id]=l,k(l.scope,i,_,s,T,a,r)});g=d})}}}}],qa=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){i[t?"removeClass":"addClass"](e,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Wa=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){i[t?"addClass":"removeClass"](e,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],za=Tn(function(t,n,e){t.$watch(e.ngStyle,function(t,e){e&&t!==e&&ut(e,function(t,e){n.css(e,"")}),t&&n.css(t)},!0)}),Xa=["$animate","$compile",function(c,h){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,r){function a(e,n){return function(t){!1!==t&&e.splice(n,1)}}var s=[],o=[],u=[],l=[];t.$watch(n.ngSwitch||n.on,function(t){for(var e,n;u.length;)c.cancel(u.pop());for(e=0,n=l.length;e<n;++e){var i=L(o[e].clone);l[e].$destroy(),(u[e]=c.leave(i)).done(a(u,e))}o.length=0,l.length=0,(s=r.cases["!"+t]||r.cases["?"])&&ut(s,function(i){i.transclude(function(t,e){l.push(e);var n=i.element;t[t.length++]=h.$$createComment("end ngSwitchWhen"),o.push({clone:t}),c.enter(t,n.parent(),n)})})})}}}],Ka=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){ut(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:r,element:e})})}}),Ya=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Qa=x("ngTransclude"),Ja=["$compile",function(e){return{restrict:"EAC",compile:function(t){var r=e(t.contents());return t.empty(),function(t,a,e,n,i){function s(){r(t,function(t){a.append(t)})}if(!i)throw Qa("orphan",kt(a));e.ngTransclude===e.$attr.ngTransclude&&(e.ngTransclude=""),i(function(t,e){var n;if(n=t.length)t:{n=0;for(var i=t.length;n<i;n++){var r=t[n];if(r.nodeType!==yi||r.nodeValue.trim()){n=!0;break t}}n=void 0}n?a.append(t):(s(),e.$destroy())},null,e=e.ngTransclude||e.ngTranscludeSlot),e&&!i.isSlotFilled(e)&&s()}}}}],Za=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,e){"text/ng-template"===e.type&&n.put(e.id,t[0].text)}}}],ts={$setViewValue:ht,$render:ht},es=["$element","$scope",function(n,e){function o(){t||(t=!0,e.$$postDigest(function(){t=!1,l.ngModelCtrl.$render()}))}function u(t){r||(r=!0,e.$$postDigest(function(){e.$$destroyed||(r=!1,l.ngModelCtrl.$setViewValue(l.readValue()),t&&l.ngModelCtrl.$render())}))}var l=this,i=new Bi;l.selectValueMap={},l.ngModelCtrl=ts,l.multiple=!1,l.unknownOption=Fn(ot.document.createElement("option")),l.hasEmptyOption=!1,l.emptyOption=void 0,l.renderUnknownOption=function(t){t=l.generateUnknownOptionValue(t),l.unknownOption.val(t),n.prepend(l.unknownOption),Hn(l.unknownOption,!0),n.val(t)},l.updateUnknownOption=function(t){t=l.generateUnknownOptionValue(t),l.unknownOption.val(t),Hn(l.unknownOption,!0),n.val(t)},l.generateUnknownOptionValue=function(t){return"? "+Dt(t)+" ?"},l.removeUnknownOption=function(){l.unknownOption.parent()&&l.unknownOption.remove()},l.selectEmptyOption=function(){l.emptyOption&&(n.val(""),Hn(l.emptyOption,!0))},l.unselectEmptyOption=function(){l.hasEmptyOption&&Hn(l.emptyOption,!1)},e.$on("$destroy",function(){l.renderUnknownOption=ht}),l.readValue=function(){var t=(t=n.val())in l.selectValueMap?l.selectValueMap[t]:t;return l.hasOption(t)?t:null},l.writeValue=function(t){var e=n[0].options[n[0].selectedIndex];e&&Hn(Fn(e),!1),l.hasOption(t)?(l.removeUnknownOption(),e=Dt(t),n.val(e in l.selectValueMap?e:t),Hn(Fn(n[0].options[n[0].selectedIndex]),!0)):l.selectUnknownOrEmptyOption(t)},l.addOption=function(t,e){if(8!==e[0].nodeType){N(t,'"option value"'),""===t&&(l.hasEmptyOption=!0,l.emptyOption=e);var n=i.get(t)||0;i.set(t,n+1),o()}},l.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.delete(t),""===t&&(l.hasEmptyOption=!1,l.emptyOption=void 0)):i.set(t,e-1))},l.hasOption=function(t){return!!i.get(t)},l.$hasEmptyOption=function(){return l.hasEmptyOption},l.$isUnknownOptionSelected=function(){return n[0].options[0]===l.unknownOption[0]},l.$isEmptyOptionSelected=function(){return l.hasEmptyOption&&n[0].options[n[0].selectedIndex]===l.emptyOption[0]};var t=!(l.selectUnknownOrEmptyOption=function(t){null==t&&l.emptyOption?(l.removeUnknownOption(),l.selectEmptyOption()):l.unknownOption.parent().length?l.updateUnknownOption(t):l.renderUnknownOption(t)}),r=!1;l.registerOption=function(t,i,r,e,n){if(r.$attr.ngValue){var a,s=NaN;r.$observe("value",function(t){var e,n=i.prop("selected");pt(s)&&(l.removeOption(a),delete l.selectValueMap[s],e=!0),s=Dt(t),a=t,l.selectValueMap[s]=t,l.addOption(t,i),i.attr("value",s),e&&n&&u()})}else e?r.$observe("value",function(t){l.readValue();var e,n=i.prop("selected");pt(a)&&(l.removeOption(a),e=!0),a=t,l.addOption(t,i),e&&n&&u()}):n?t.$watch(n,function(t,e){r.$set("value",t);var n=i.prop("selected");e!==t&&l.removeOption(e),l.addOption(t,i),e&&n&&u()}):l.addOption(r.value,i);r.$observe("disabled",function(t){("true"===t||t&&i.prop("selected"))&&(l.multiple?u(!0):(l.ngModelCtrl.$setViewValue(null),l.ngModelCtrl.$render()))}),i.on("$destroy",function(){var t=l.readValue(),e=r.value;l.removeOption(e),o(),(l.multiple&&t&&-1!==t.indexOf(e)||t===e)&&u(!0)})}}],ns=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,e){var r,a;return pt(e.ngValue)||(pt(e.value)?r=n(e.value,!0):(a=n(t.text(),!0))||e.$set("value",t.text())),function(t,e,n){var i=e.parent();(i=i.data("$selectController")||i.parent().data("$selectController"))&&i.registerOption(t,e,n,r,a)}}}}];function is(t,e,n){return t[e]||(t[e]=n())}ot.angular.bootstrap?ot.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var r;if(!vi){var t=di();(Gn=ft(t)?ot.jQuery:t?ot[t]:void 0)&&Gn.fn.on?(lt((Fn=Gn).fn,{scope:$i.scope,isolateScope:$i.isolateScope,controller:$i.controller,injector:$i.injector,inheritedData:$i.inheritedData}),r=Gn.cleanData,Gn.cleanData=function(t){for(var e,n,i=0;null!=(n=t[i]);i++)(e=Gn._data(n,"events"))&&e.$destroy&&Gn(n).triggerHandler("$destroy");r(t)}):Fn=V,ni.element=Fn,vi=!0}}(),lt(ni,{errorHandlingConfig:t,bootstrap:O,copy:C,extend:lt,merge:e,equals:Ct,element:Fn,forEach:ut,injector:Rt,noop:ht,bind:Et,toJson:n,fromJson:s,identity:dt,isUndefined:ft,isDefined:pt,isString:gt,isFunction:yt,isObject:mt,isNumber:f,isElement:g,isArray:oi,version:bi,isDate:y,lowercase:Xn,uppercase:Kn,callbacks:{$$counter:0},getTestability:$,reloadWithDebugInfo:I,$$minErr:x,$$csp:hi,$$encodeUriSegment:S,$$encodeUriQuery:A,$$stringify:U}),Ua=ot,Ra=x("$injector"),Ba=x("ng"),(Ua=is(Ua,"angular",Object)).$$minErr=Ua.$$minErr||x,(Vn=is(Ua,"module",function(){var t={};return function(o,u,l){var c={};if("hasOwnProperty"===o)throw Ba("badname","module");return u&&t.hasOwnProperty(o)&&(t[o]=null),is(t,o,function(){function t(t,e,n,i){return i=i||a,function(){return i[n||"push"]([t,e,arguments]),s}}function e(n,i,r){return r=r||a,function(t,e){return e&&yt(e)&&(e.$$moduleName=o),r.push([n,i,arguments]),s}}if(!u)throw Ra("nomod",o);var a=[],n=[],i=[],r=t("$injector","invoke","push",n),s={_invokeQueue:a,_configBlocks:n,_runBlocks:i,info:function(t){if(pt(t)){if(!mt(t))throw Ba("aobj","value");return c=t,this}return c},requires:u,name:o,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator",n),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),component:e("$compileProvider","component"),config:r,run:function(t){return i.push(t),this}};return l&&r(l),s})}}))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ge}),t.provider("$compile",qt).directive({a:Hr,input:ra,textarea:ra,form:Vr,script:Za,select:Ia,option:ns,ngBind:sa,ngBindHtml:ua,ngBindTemplate:oa,ngClass:ca,ngClassEven:da,ngClassOdd:ha,ngCloak:fa,ngController:pa,ngForm:qr,ngHide:Wa,ngIf:ya,ngInclude:ba,ngInit:Ta,ngNonBindable:Na,ngPluralize:Ga,ngRepeat:Va,ngShow:qa,ngStyle:za,ngSwitch:Xa,ngSwitchWhen:Ka,ngSwitchDefault:Ya,ngOptions:Fa,ngTransclude:Ja,ngModel:xa,ngList:va,ngChange:la,pattern:Ma,ngPattern:Ma,required:$a,ngRequired:$a,minlength:La,ngMinlength:La,maxlength:Da,ngMaxlength:Da,ngValue:na,ngModelOptions:Oa}).directive({ngInclude:_a}).directive(jr).directive(ma),t.provider({$anchorScroll:Bt,$animate:Ji,$animateCss:Yi,$$animateJs:Wi,$$animateQueue:zi,$$AnimateRunner:Ki,$$animateAsyncRun:Xi,$browser:Ft,$cacheFactory:Gt,$controller:Yt,$document:Qt,$$isDocumentHidden:Jt,$exceptionHandler:Zt,$filter:nn,$$forceReflow:er,$interpolate:ce,$interval:he,$http:oe,$httpParamSerializer:ee,$httpParamSerializerJQLike:ne,$httpBackend:le,$xhrFactory:ue,$jsonpCallbacks:fr,$location:Ce,$log:Ee,$parse:Re,$rootScope:Fe,$q:Be,$$q:Ne,$sce:We,$sceDelegate:qe,$sniffer:ze,$templateCache:Vt,$templateRequest:Xe,$$testability:Ke,$timeout:Ye,$window:Ze,$$rAF:je,$$jqLite:Mt,$$Map:Ni,$$cookieReader:en})}]).info({angularVersion:"1.6.9"}),ni.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n,i,r=0|t,a=e;return void 0===a&&(a=Math.min((n=t,-1==(i=(n+="").indexOf("."))?0:n.length-i-1),3)),Math.pow(10,a),1==r&&0==a?"one":"other"}})}]),Fn(function(){r(ot.document,O)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(s,m){"use strict";function t(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?m.lowercase(r[n]):r[n]]=!0;return i}function r(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}function o(t){return t.replace(/&/g,"&amp;").replace(e,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+((t=t.charCodeAt(1))-56320)+65536)+";"}).replace(n,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(t,a){var e=!1,s=m.bind(t,t.push);return{start:function(r,t){r=m.lowercase(r),!e&&p[r]&&(e=r),e||!0!==v[r]||(s("<"),s(r),m.forEach(t,function(t,e){var n=m.lowercase(e),i="img"===r&&"src"===n||"background"===n;!0!==b[n]||!0===y[n]&&!a(t,i)||(s(" "),s(e),s('="'),s(o(t)),s('"'))}),s(">"))},end:function(t){t=m.lowercase(t),e||!0!==v[t]||!0===i[t]||(s("</"),s(t),s(">")),t==e&&(e=!1)},chars:function(t){e||s(o(t))}}}function u(t){if(t.nodeType===s.Node.ELEMENT_NODE)for(var e=t.attributes,n=0,i=e.length;n<i;n++){var r=e[n],a=r.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(r),n--,i--)}(e=t.firstChild)&&u(e),(e=t.nextSibling)&&u(e)}var a,l=m.$$minErr("$sanitize"),e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/([^\#-~ |!])/g,i=t("area,br,col,hr,img,wbr"),c=t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h=t("rp,rt"),d=m.extend({},h,c),f=(c=m.extend({},c,t("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),h=m.extend({},h,t("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),t("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan")),p=t("script,style"),v=m.extend({},i,c,h,d),y=t("background,cite,href,longdesc,src,xlink:href"),b=(d=t("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),h=t("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),m.extend({},y,h,d));!function(t){if(!t.document||!t.document.implementation)throw l("noinert");var e=((t=t.document.implementation.createHTMLDocument("inert")).documentElement||t.getDocumentElement()).getElementsByTagName("body");1===e.length?a=e[0]:(e=t.createElement("html"),a=t.createElement("body"),e.appendChild(a),t.appendChild(e))}(s),m.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&m.extend(v,f),function(t){var e=[];return function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t),a.innerHTML=t;var n=5;do{if(0===n)throw l("uinput");n--,s.document.documentMode&&u(a),t=a.innerHTML,a.innerHTML=t}while(t!==a.innerHTML);for(n=a.firstChild;n;){switch(n.nodeType){case 1:e.start(n.nodeName.toLowerCase(),r(n.attributes));break;case 3:e.chars(n.textContent)}var i;if(!(i=n.firstChild)&&(1==n.nodeType&&e.end(n.nodeName.toLowerCase()),!(i=n.nextSibling)))for(;null==i&&(n=n.parentNode)!==a;)i=n.nextSibling,1==n.nodeType&&e.end(n.nodeName.toLowerCase());n=i}for(;n=a.firstChild;)a.removeChild(n)}(t,g(e,function(t,e){return!/^unsafe:/.test(n(t,e))})),e.join("")}}],this.enableSvg=function(t){return m.isDefined(t)?(e=t,this):e}}),m.module("ngSanitize").filter("linky",["$sanitize",function(c){var h=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i,f=m.$$minErr("linky"),p=m.isString;return function(t,r,e){function a(t){var e,n;t&&l.push((e=t,g(n=[],m.noop).chars(e),n.join("")))}function n(t,e){var n,i=o(t);for(n in l.push("<a "),i)l.push(n+'="'+i[n]+'" ');!m.isDefined(r)||"target"in i||l.push('target="',r,'" '),l.push('href="',t.replace(/"/g,"&quot;"),'">'),a(e),l.push("</a>")}if(null==t||""===t)return t;if(!p(t))throw f("notstring",t);for(var i,s,o=m.isFunction(e)?e:m.isObject(e)?function(){return e}:function(){return{}},u=t,l=[];t=u.match(h);)i=t[0],t[2]||t[4]||(i=(t[3]?"http://":"mailto:")+i),s=t.index,a(u.substr(0,s)),n(i,t[0].replace(d,"")),u=u.substring(s+t[0].length);return a(u),c(l.join(""))}}])}(window,window.angular),function(l,c){"use strict";function h(t,e,n){if(!t)throw i("areq",e||"?",n||"required");return t}function _(t,e){return t||e?t?e?(Ct(t)&&(t=t.join(" ")),Ct(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function rt(t,n,i){var r="";return t=Ct(t)?t:t&&q(t)&&t.length?t.split(/\s+/):[],wt(t,function(t,e){t&&0<t.length&&(r+=0<e?" ":"",r+=i?n+t:t+n)}),r}function H(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(1==n.nodeType)return n}}function j(u){return function(t,e){var n,i,r,a,s,o;e.addClass&&(n=u,i=t,r=e.addClass,wt(i,function(t){n.addClass(t,r)}),e.addClass=null),e.removeClass&&(a=u,s=t,o=e.removeClass,wt(s,function(t){a.removeClass(t,o)}),e.removeClass=null)}}function at(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||Tt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=Tt},t.$$prepared=!0}return t}function st(t,e){ot(t,e),ut(t,e)}function ot(t,e){e.from&&(t.css(e.from),e.from=null)}function ut(t,e){e.to&&(t.css(e.to),e.to=null)}function F(t,e,n){var i=e.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),a=(i.removeClass||"")+" "+(n.removeClass||"");return t=function(r,t,e){function n(t){q(t)&&(t=t.split(" "));var e={};return wt(t,function(t){t.length&&(e[t]=!0)}),e}var i={};r=n(r),t=n(t),wt(t,function(t,e){i[e]=1}),e=n(e),wt(e,function(t,e){i[e]=1===i[e]?null:-1});var a={addClass:"",removeClass:""};return wt(i,function(t,e){var n,i;1===t?(n="addClass",i=!r[e]):-1===t&&(n="removeClass",i=r[e]),i&&(a[n].length&&(a[n]+=" "),a[n]+=e)}),a}(t.attr("class"),r,a),n.preparationClasses&&(i.preparationClasses=G(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==Tt?i.domOperation:null,d(i,n),r&&(i.domOperation=r),i.addClass=t.addClass?t.addClass:null,i.removeClass=t.removeClass?t.removeClass:null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function lt(t){return t instanceof c.element?t[0]:t}function ct(t,e){return dt(t,[At,e?"-"+e+"s":""]),1}function ht(t,e){var n=e?"paused":"",i=bt+"PlayState";return dt(t,[i,n]),[i,n]}function dt(t,e){t.style[e[0]]=e[1]}function G(t,e){return t?e?t+" "+e:t:e}function ft(t,e,n){var s=Object.create(null),o=t.getComputedStyle(e)||{};return wt(n,function(t,e){var n,i,r=o[t];if(r){var a=r.charAt(0);("-"===a||"+"===a||0<=a)&&(i=0,n=(n=r).split(/\s*,\s*/),wt(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,i=i?Math.max(t,i):t}),r=i),0===r&&(r=null),s[e]=r}}),s}function pt(t){return 0===t||null!=t}function mt(t,e){var n=vt,i=t+"s";return e?n+="Duration":i+=" linear all",[n,i]}function e(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){return(t=n[t])?t.total:0},get:function(t){return(t=n[t])&&t.value},put:function(t,e){n[t]?n[t].total++:n[t]={total:1,value:e}}}}function gt(e,n,t){wt(t,function(t){e[t]=X(e[t])?e[t]:n.style.getPropertyValue(t)})}var vt,yt,bt,_t,Tt=c.noop,St=c.copy,d=c.extend,V=c.element,wt=c.forEach,Ct=c.isArray,q=c.isString,W=c.isObject,z=c.isUndefined,X=c.isDefined,T=c.isFunction,f=c.isElement;yt=z(l.ontransitionend)&&X(l.onwebkittransitionend)?(vt="WebkitTransition","webkitTransitionEnd transitionend"):(vt="transition","transitionend"),_t=z(l.onanimationend)&&X(l.onwebkitanimationend)?(bt="WebkitAnimation","webkitAnimationEnd animationend"):(bt="animation","animationend");var Et=bt+"Delay",kt=bt+"Duration",At=vt+"Delay",t=vt+"Duration",i=c.$$minErr("ng"),a={transitionDuration:t,transitionDelay:At,transitionProperty:vt+"Property",animationDuration:kt,animationDelay:Et,animationIterationCount:bt+"IterationCount"},xt={transitionDuration:t,transitionDelay:At,animationDuration:kt,animationDelay:Et};c.module("ngAnimate",[]).directive("ngAnimateSwap",["$animate","$rootScope",function(o,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,i,r){var a,s;e.$watchCollection(t.ngAnimateSwap||t.for,function(t){a&&o.leave(a),s&&(s.$destroy(),s=null),!t&&0!==t||(s=e.$new(),r(s,function(t){a=t,o.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(t,e,n){function i(t){e.data("$$ngAnimateChildren","on"===t||"true"===t)}var r=n.ngAnimateChildren;c.isString(r)&&0===r.length?e.data("$$ngAnimateChildren",!0):(i(a(r)(t)),n.$observe("ngAnimateChildren",i))}}}]).factory("$$rAFScheduler",["$$rAF",function(n){function t(t){r=r.concat(t),i()}function i(){if(r.length){for(var t=r.shift(),e=0;e<t.length;e++)t[e]();a||n(function(){a||i()})}}var r,a;return r=t.queue=[],t.waitUntilQuiet=function(t){a&&a(),a=n(function(){a=null,t(),i()})},t}]).provider("$$animateQueue",["$animateProvider",function(u){function r(t,e){if(t&&e){var n=function(t){if(!t)return null;t=t.split(" ");var e=Object.create(null);return wt(t,function(t){e[t]=!0}),e}(e);return t.split(" ").some(function(t){return n[t]})}}function B(t,e,n,i){return a[t].some(function(t){return t(e,n,i)})}function N(t,e){var n=0<(t.addClass||"").length,i=0<(t.removeClass||"").length;return e?n&&i:n||i}var a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(t,e,n){return!e.structural&&N(e)}),a.skip.push(function(t,e,n){return!e.structural&&!N(e)}),a.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),a.skip.push(function(t,e,n){return n.structural&&2===n.state&&!e.structural}),a.cancel.push(function(t,e,n){return n.structural&&e.structural}),a.cancel.push(function(t,e,n){return 2===n.state&&e.structural}),a.cancel.push(function(t,e,n){if(n.structural)return!1;t=e.addClass,e=e.removeClass;var i=n.addClass;return n=n.removeClass,!(z(t)&&z(e)||z(i)&&z(n))&&(r(t,n)||r(e,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(T,S,w,C,t,E,k,e,n,i){function r(t,e,n){var i=H(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function a(l,i,t){function r(t,s,o,u){n(function(){var t,e,n,i,r,a=(t=c,e=s,n=lt(l),i=lt(t),r=[],(t=M[e])&&wt(t,function(t){(U.call(t.node,n)||"leave"===e&&U.call(t.node,i))&&r.push(t.callback)}),r);a.length?T(function(){wt(a,function(t){t(l,o,u)}),"close"!==o||l[0].parentNode||R.off(l)}):"close"!==o||l[0].parentNode||R.off(l)}),t.progress(s,o,u)}function a(t){var e=l,n=o;n.preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),L(l,o),st(l,o),o.domOperation(),u.complete(!t)}var s,c,o=St(t);(l=function(t){if(t instanceof V)switch(t.length){case 0:return t;case 1:if(1===t[0].nodeType)return t;break;default:return V(H(t))}if(1===t.nodeType)return V(t)}(l))&&(s=lt(l),c=l.parent());o=at(o);var e,u=new k,n=(e=!1,function(t){e?t():S.$$postDigest(function(){e=!0,t()})});if(Ct(o.addClass)&&(o.addClass=o.addClass.join(" ")),o.addClass&&!q(o.addClass)&&(o.addClass=null),Ct(o.removeClass)&&(o.removeClass=o.removeClass.join(" ")),o.removeClass&&!q(o.removeClass)&&(o.removeClass=null),o.from&&!W(o.from)&&(o.from=null),o.to&&!W(o.to)&&(o.to=null),!s)return a(),u;if(t=[s.className,o.addClass,o.removeClass].join(" "),!D(t))return a(),u;var h,d,f,p,m,g=0<=["enter","move","leave"].indexOf(i),v=C[0].hidden,y=!$||v||I.get(s),b=!!(t=!y&&O.get(s)||{}).state;if(y||b&&1==t.state||(y=!function(t,e,n){n=V(C[0].body);var i,r=x(t,n)||"HTML"===t[0].nodeName,a=x(t,w),s=!1,o=I.get(lt(t));for((t=V.data(t[0],"$ngAnimatePin"))&&(e=t),e=lt(e);e&&(a=a||x(e,w),1===e.nodeType);){if(t=O.get(e)||{},!s){var u=I.get(e);if(!0===u&&!1!==o){o=!0;break}!1===u&&(o=!1),s=t.structural}if(!z(i)&&!0!==i||(t=V.data(e,"$$ngAnimateChildren"),X(t)&&(i=t)),s&&!1===i)break;if((r=r||x(e,n))&&a)break;e=a||!(t=V.data(e,"$ngAnimatePin"))?e.parentNode:lt(t)}return(!s||i)&&!0!==o&&a&&r}(l,c,i)),y)return v&&r(u,i,"start"),a(),v&&r(u,i,"close"),u;if(g&&(h=lt(h=l).querySelectorAll("[data-ng-animate]"),wt(h,function(t){var e=parseInt(t.getAttribute("data-ng-animate")),n=O.get(t);if(n)switch(e){case 2:n.runner.end();case 1:O.remove(t)}})),v={structural:g,element:l,event:i,addClass:o.addClass,removeClass:o.removeClass,close:a,options:o,runner:u},b){if(B("skip",l,v,t))return 2===t.state?(a(),u):(F(l,t,v),t.runner);if(B("cancel",l,v,t))if(2===t.state)t.runner.end();else{if(!t.structural)return F(l,t,v),t.runner;t.close()}else if(B("join",l,v,t)){if(2!==t.state)return d=l,p=o,m="",(f=g?i:null)&&(m=rt(f,"ng-",!0)),p.addClass&&(m=G(m,rt(p.addClass,"-add"))),p.removeClass&&(m=G(m,rt(p.removeClass,"-remove"))),m.length&&(p.preparationClasses=m,d.addClass(m)),i=v.event=t.event,o=F(l,t,v),t.runner;F(l,v,{})}}else F(l,v,{});if((b=v.structural)||(b="animate"===v.event&&0<Object.keys(v.options.to||{}).length||N(v)),!b)return a(),A(l),u;var _=(t.counter||0)+1;return v.counter=_,P(l,1,v),S.$$postDigest(function(){var t=!(e=O.get(s)),e=e||{},n=0<(l.parent()||[]).length&&("animate"===e.event||e.structural||N(e));t||e.counter!==_||!n?(t&&(L(l,o),st(l,o)),(t||g&&e.event!==i)&&(o.domOperation(),u.end()),n||A(l)):(i=!e.structural&&N(e,!0)?"setClass":e.event,P(l,2),e=E(l,i,e.options),u.setHost(e),r(u,i,"start",{}),e.done(function(t){a(!t),(t=O.get(s))&&t.counter===_&&A(lt(l)),r(u,i,"close",{})}))}),u}function A(t){(t=lt(t)).removeAttribute("data-ng-animate"),O.remove(t)}function x(t,e){return lt(t)===lt(e)}function P(t,e,n){(n=n||{}).state=e,(t=lt(t)).setAttribute("data-ng-animate",e),n=(e=O.get(t))?d(e,n):n,O.put(t,n)}var O=new t,I=new t,$=null,s=S.$watch(function(){return 0===e.totalPendingRequests},function(t){t&&(s(),S.$$postDigest(function(){S.$$postDigest(function(){null===$&&($=!0)})}))}),M={},o=u.classNameFilter(),D=o?function(t){return o.test(t)}:function(){return!0},L=j(n),U=l.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},R={on:function(t,e,n){var i=H(e);M[t]=M[t]||[],M[t].push({node:i,callback:n}),V(e).on("$destroy",function(){O.get(i)||R.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||c.isString(t)){var i=M[t];i&&(M[t]=1===arguments.length?null:r(i,e,n))}else for(i in e=t,M)M[i]=r(M[i],e)},pin:function(t,e){h(f(t),"element","not an element"),h(f(e),"parentElement","not an element"),t.data("$ngAnimatePin",e)},push:function(t,e,n,i){return(n=n||{}).domOperation=i,a(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!$;else if(f(t)){var i=lt(t),r=I.get(i);1===n?e=!r:I.put(i,!e)}else e=$=!!t;return e}};return R}]}]).provider("$$animation",["$animateProvider",function(t){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(h,d,f,p,m,g){var v=[],y=j(h);return function(e,n,i){function r(u){var l=[],a={};wt(u,function(t,n){var e=lt(t.element),i=0<=["enter","move"].indexOf(t.event);if((e=t.structural?function(t){t=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]");var n=[];return wt(t,function(t){var e=t.getAttribute("ng-animate-ref");e&&e.length&&n.push(t)}),n}(e):[]).length){var r=i?"to":"from";wt(e,function(t){var e=t.getAttribute("ng-animate-ref");a[e]=a[e]||{},a[e][r]={animationID:n,element:V(t)}})}else l.push(t)});var c={},h={};return wt(a,function(t,e){var n=t.from,i=t.to;if(n&&i){var r=u[n.animationID],a=u[i.animationID],s=n.animationID.toString();if(!h[s]){var o=h[s]={structural:!0,beforeStart:function(){r.beforeStart(),a.beforeStart()},close:function(){r.close(),a.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var a=0;a<e.length;a++)if(r===e[a]){n.push(r);break}}return n.join(" ")}(r.classes,a.classes),from:r,to:a,anchors:[]};o.classes.length?l.push(o):(l.push(r),l.push(a))}h[s].anchors.push({out:n.element,in:i.element})}else i=(n=n?n.animationID:i.animationID).toString(),c[i]||(c[i]=!0,l.push(u[n]))}),l}function a(){var t=e.data("$$animationRunner");!t||"leave"===n&&i.$$domOperationFired||t.end()}function t(t){e.off("$destroy",a),e.removeData("$$animationRunner"),y(e,i),st(e,i),i.domOperation(),c&&h.removeClass(e,c),e.removeClass("ng-animate"),o.complete(!t)}i=at(i);var s=0<=["enter","move","leave"].indexOf(n),o=new p({end:function(){t()},cancel:function(){t(!0)}});if(!b.length)return t(),o;e.data("$$animationRunner",o);var u,l=_(e.attr("class"),_(i.addClass,i.removeClass)),c=i.tempClasses;return c&&(l+=" "+c,i.tempClasses=null),s&&(u="ng-"+n+"-prepare",h.addClass(e,u)),v.push({element:e,classes:l,event:n,structural:s,options:i,beforeStart:function(){e.addClass("ng-animate"),c&&h.addClass(e,c),u&&(h.removeClass(e,u),u=null)},close:t}),e.on("$destroy",a),1<v.length||d.$$postDigest(function(){var e=[];wt(v,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),v.length=0;var t=r(e),n=[];wt(t,function(s){n.push({domNode:lt(s.from?s.from.element:s.element),fn:function(){s.beforeStart();var t,e,n,i=s.close;if((s.anchors?s.from.element||s.to.element:s.element).data("$$animationRunner")){var r=function(t){for(var e=b.length-1;0<=e;e--){var n=f.get(b[e])(t);if(n)return n}}(s);r&&(t=r.start)}function a(t){(t=t.data("$$animationRunner"))&&t.setHost(n)}t?((t=t()).done(function(t){i(!t)}),n=t,(e=s).from&&e.to?(a(e.from.element),a(e.to.element)):a(e.element)):i()}})}),g(function(t){function r(t){if(t.processed)return t;t.processed=!0;var e,n=t.domNode,i=n.parentNode;for(s.put(n,t);i;){if(e=s.get(i)){e.processed||(e=r(e));break}i=i.parentNode}return(e||a).children.push(t),t}var e,a={children:[]},s=new m;for(e=0;e<t.length;e++){var n=t[e];s.put(n.domNode,t[e]={domNode:n.domNode,fn:n.fn,children:[]})}for(e=0;e<t.length;e++)r(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);t=i.length;var r=0,a=[];for(e=0;e<i.length;e++){var s=i[e];t<=0&&(t=r,r=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){r++,i.push(t)}),t--}return a.length&&n.push(a),n}(a)}(n))}),o}}]}]).provider("$animateCss",["$animateProvider",function(t){var nt=e(),it=e();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(W,z,X,K,n,Y,e,Q){function J(t,e){var n=t.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++i))+"-"+t.getAttribute("class")+"-"+e}function Z(t){r.push(t),e.waitUntilQuiet(function(){nt.flush(),it.flush();for(var t=n(),e=0;e<r.length;e++)r[e](t);r.length=0})}function tt(t,e,n){return(e=nt.get(n))||"infinite"===(e=ft(W,t,a)).animationIterationCount&&(e.animationIterationCount=1),nt.put(n,e),n=(t=e).animationDelay,e=t.transitionDelay,t.maxDelay=n&&e?Math.max(n,e):n||e,t.maxDuration=Math.max(t.animationDuration*t.animationIterationCount,t.transitionDuration),t}var et=j(z),i=0,r=[];return function(s,t){function e(){o()}function n(){o(!0)}function o(t){if(!(f||m&&p)){p=!(f=!0),c.$$skipPreparationClasses||z.removeClass(s,B),z.removeClass(s,H),ht(d,!1),ct(d,!1),wt(C,function(t){d.style[t[0]]=""}),et(s,c),st(s,c),Object.keys(h).length&&wt(h,function(t,e){t?d.style.setProperty(e,t):d.style.removeProperty(e)}),c.onDone&&c.onDone(),A&&A.length&&s.off(A.join(" "),l);var e=s.data("$$animateCss");e&&(K.cancel(e[0].timer),s.removeData("$$animateCss")),a&&a.complete(!t)}}function u(t){q.blockTransition&&ct(d,t),q.blockKeyframeAnimation&&ht(d,!!t)}function i(){return a=new X({end:e,cancel:n}),Z(Tt),o(),{$$willAnimate:!1,start:function(){return a},end:e}}function l(t){t.stopPropagation();var e=t.originalEvent||t;t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-T,0)>=y&&b<=e&&(m=!0,o())}function r(){function t(){if(!f){if(u(!1),wt(C,function(t){d.style[t[0]]=t[1]}),et(s,c),z.addClass(s,H),q.recalculateTimingStyles){if(N=d.className+" "+B,I=J(d,N),F=tt(d,N,I),G=F.maxDelay,v=Math.max(G,0),0===(b=F.maxDuration))return void o();q.hasTransitions=0<F.transitionDuration,q.hasAnimations=0<F.animationDuration}if(q.applyAnimationDelay&&(G="boolean"!=typeof c.delay&&pt(c.delay)?parseFloat(c.delay):G,v=Math.max(G,0),F.animationDelay=G,V=[Et,G+"s"],C.push(V),d.style[V[0]]=V[1]),y=1e3*v,_=1e3*b,c.easing){var t,e=c.easing;q.hasTransitions&&(t=vt+"TimingFunction",C.push([t,e]),d.style[t]=e),q.hasAnimations&&(t=bt+"TimingFunction",C.push([t,e]),d.style[t]=e)}F.transitionDuration&&A.push(yt),F.animationDuration&&A.push(_t),T=Date.now();var n=y+1.5*_;t=T+n;var i=!0;if((e=s.data("$$animateCss")||[]).length){var r=e[0];(i=t>r.expectedEndTime)?K.cancel(r.timer):e.push(o)}i&&(n=K(a,n,!1),e[0]={timer:n,expectedEndTime:t},e.push(o),s.data("$$animateCss",e)),A.length&&s.on(A.join(" "),l),c.to&&(c.cleanupStyles&&gt(h,d,Object.keys(c.to)),ut(s,c))}}function a(){var t=s.data("$$animateCss");if(t){for(var e=1;e<t.length;e++)t[e]();s.removeData("$$animateCss")}}if(!f)if(d.parentNode){var e=function(t){if(m)p&&t&&(p=!1,o());else if(p=!t,F.animationDuration)if(t=ht(d,p),p)C.push(t);else{var e=C,n=e.indexOf(t);0<=t&&e.splice(n,1)}},n=0<j&&(F.transitionDuration&&0===$.transitionDuration||F.animationDuration&&0===$.animationDuration)&&Math.max($.animationDelay,$.transitionDelay);n?K(t,Math.floor(n*j*1e3),!1):t(),g.resume=function(){e(!0)},g.pause=function(){e(!1)}}else o()}var c=t||{};c.$$prepared||(c=at(St(c)));var h={},d=lt(s);if(!d||!d.parentNode||!Q.enabled())return i();var f,p,m,a,g,v,y,b,_,T,S,w,C=[],E=s.attr("class"),k=(w={},(S=c)&&(S.to||S.from)&&(w.to=S.to,w.from=S.from),w),A=[];if(0===c.duration||!Y.animations&&!Y.transitions)return i();var x=c.event&&Ct(c.event)?c.event.join(" "):c.event,P="",O="";x&&c.structural?P=rt(x,"ng-",!0):x&&(P=x),c.addClass&&(O+=rt(c.addClass,"-add")),c.removeClass&&(O.length&&(O+=" "),O+=rt(c.removeClass,"-remove")),c.applyClassesEarly&&O.length&&et(s,c);var I,$,M,D,L,U,R,B=[P,O].join(" ").trim(),N=E+" "+B,H=rt(B,"-active");E=k.to&&0<Object.keys(k.to).length;if(!(0<(c.keyframeStyle||"").length||E||B))return i();$=0<c.stagger?{transitionDelay:k=parseFloat(c.stagger),animationDelay:k,transitionDuration:0,animationDuration:0}:(I=J(d,N),M=d,D=B,L=I,U=xt,0<nt.count(L)&&((R=it.get(L))||(D=rt(D,"-stagger"),z.addClass(M,D),(R=ft(W,M,U)).animationDuration=Math.max(R.animationDuration,0),R.transitionDuration=Math.max(R.transitionDuration,0),z.removeClass(M,D),it.put(L,R))),R||{}),c.$$skipPreparationClasses||z.addClass(s,B),c.transitionStyle&&(k=[vt,c.transitionStyle],dt(d,k),C.push(k)),0<=c.duration&&(k=0<d.style[vt].length,k=mt(c.duration,k),dt(d,k),C.push(k)),c.keyframeStyle&&(k=[bt,c.keyframeStyle],dt(d,k),C.push(k));var j=$?0<=c.staggerIndex?c.staggerIndex:nt.count(I):0;(x=0===j)&&!c.skipBlocking&&ct(d,9999);var F=tt(d,N,I),G=F.maxDelay;v=Math.max(G,0),b=F.maxDuration;var V,q={};if(q.hasTransitions=0<F.transitionDuration,q.hasAnimations=0<F.animationDuration,q.hasTransitionAll=q.hasTransitions&&"all"==F.transitionProperty,q.applyTransitionDuration=E&&(q.hasTransitions&&!q.hasTransitionAll||q.hasAnimations&&!q.hasTransitions),q.applyAnimationDuration=c.duration&&q.hasAnimations,q.applyTransitionDelay=pt(c.delay)&&(q.applyTransitionDuration||q.hasTransitions),q.applyAnimationDelay=pt(c.delay)&&q.hasAnimations,q.recalculateTimingStyles=0<O.length,(q.applyTransitionDuration||q.applyAnimationDuration)&&(b=c.duration?parseFloat(c.duration):b,q.applyTransitionDuration&&(q.hasTransitions=!0,F.transitionDuration=b,k=0<d.style[vt+"Property"].length,C.push(mt(b,k))),q.applyAnimationDuration&&(q.hasAnimations=!0,F.animationDuration=b,C.push([kt,b+"s"]))),0===b&&!q.recalculateTimingStyles)return i();null!=c.delay&&("boolean"!=typeof c.delay&&(V=parseFloat(c.delay),v=Math.max(V,0)),q.applyTransitionDelay&&C.push([At,V+"s"]),q.applyAnimationDelay&&C.push([Et,V+"s"]));return null==c.duration&&0<F.transitionDuration&&(q.recalculateTimingStyles=q.recalculateTimingStyles||x),y=1e3*v,_=1e3*b,c.skipBlocking||(q.blockTransition=0<F.transitionDuration,q.blockKeyframeAnimation=0<F.animationDuration&&0<$.animationDelay&&0===$.animationDuration),c.from&&(c.cleanupStyles&&gt(h,d,Object.keys(c.from)),ot(s,c)),q.blockTransition||q.blockKeyframeAnimation?u(b):c.skipBlocking||ct(d,!1),{$$willAnimate:!0,end:e,start:function(){if(!f)return a=new X(g={end:e,cancel:n,resume:null,pause:null}),Z(r),a}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(h,t,d,e,n,i,r){function f(t){return t.replace(/\bng-\S+\b/g,"")}function p(t,e){return q(t)&&(t=t.split(" ")),q(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function a(t,e,n,i){var r=o(t),a=o(e),s=[];if(wt(i,function(t){(t=function(t,e,n){function i(t){var n={},i=lt(t).getBoundingClientRect();return wt(["width","height","top","left"],function(t){var e=i[t];switch(t){case"top":e+=m.scrollTop;break;case"left":e+=m.scrollLeft}n[t]=Math.floor(e)+"px"}),n}function r(){var t=p(e=f(n.attr("class")||""),l),e=p(l,e);return(t=h(u,{to:i(n),addClass:"ng-anchor-in "+t,removeClass:"ng-anchor-out "+e,delay:!0})).$$willAnimate?t:null}function a(){u.remove(),e.removeClass("ng-animate-shim"),n.removeClass("ng-animate-shim")}var s,o,u=V(lt(e).cloneNode(!0)),l=f(u.attr("class")||"");if(e.addClass("ng-animate-shim"),n.addClass("ng-animate-shim"),u.addClass("ng-anchor"),g.append(u),!(t=(o=h(u,{addClass:"ng-anchor-out",delay:!0,from:i(e)})).$$willAnimate?o:null)&&!(s=r()))return a();var c=t||s;return{start:function(){function t(){n&&n.end()}var e,n=c.start();return n.done(function(){if(n=null,!s&&(s=r()))return(n=s.start()).done(function(){n=null,a(),e.complete()}),n;a(),e.complete()}),e=new d({end:t,cancel:t})}}}(n,t.out,t.in))&&s.push(t)}),r||a||0!==s.length)return{start:function(){function t(){wt(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),a&&e.push(a.start()),wt(s,function(t){e.push(t.start())});var n=new d({end:t,cancel:t});return d.all(e,function(t){n.complete(t)}),n}}}function o(t){var e=t.element,n=t.options||{};return t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=G(n.event,n.preparationClasses)),(t=h(e,n)).$$willAnimate?t:null}if(!n.animations&&!n.transitions)return Tt;var m=r[0].body;t=lt(e);var g=V(t.parentNode&&11===t.parentNode.nodeType||m.contains(t)?t:m);return j(i),function(t){return t.from&&t.to?a(t.from,t.to,t.classes,t.anchors):o(t)}}]}]).provider("$$animateJs",["$animateProvider",function(b){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(g,v,t){var y=j(t);return function(i,t,e,r){function a(){r.domOperation(),y(i,r)}function u(s,o,u,t,e){var n=[];return wt(t,function(t){var a=t[e];a&&n.push(function(){function e(t){r||(r=!0,(i||Tt)(t),n.complete(!t))}var n,i,r=!1;return n=new v({end:function(){e()},cancel:function(){e(!0)}}),i=function(t,e,n,i,r){switch(n){case"animate":e=[e,i.from,i.to,r];break;case"setClass":e=[e,f,p,r];break;case"addClass":e=[e,f,r];break;case"removeClass":e=[e,p,r];break;default:e=[e,r]}if(e.push(i),t=t.apply(t,e))if(T(t.start)&&(t=t.start()),t instanceof v)t.done(r);else if(T(t))return t;return Tt}(a,s,o,u,function(t){e(!1===t)}),n})}),n}function n(t,e,n,i,r){var a,s,o=u(t,e,n,i,r);0===o.length&&("beforeSetClass"===r?(a=u(t,"removeClass",n,i,"beforeRemoveClass"),s=u(t,"addClass",n,i,"beforeAddClass")):"setClass"===r&&(a=u(t,"removeClass",n,i,"removeClass"),s=u(t,"addClass",n,i,"addClass")),a&&(o=o.concat(a)),s&&(o=o.concat(s)));if(0!==o.length)return function(t){var n=[];return o.length&&wt(o,function(t){n.push(t())}),n.length?v.all(n,t):t(),function(e){wt(n,function(t){e?t.cancel():t.end()})}}}var s=!1;3===arguments.length&&W(e)&&(r=e,e=null),r=at(r),e||(e=i.attr("class")||"",r.addClass&&(e+=" "+r.addClass),r.removeClass&&(e+=" "+r.removeClass));var o,l,c,h,d,f=r.addClass,p=r.removeClass,m=function(t){t=Ct(t)?t:t.split(" ");for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],a=b.$$registeredAnimations[r];a&&!n[r]&&(e.push(g.get(a)),n[r]=!0)}return e}(e);m.length&&(c="leave"==t?(h="leave","afterLeave"):(h="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(o=n(i,t,r,m,h)),l=n(i,t,r,m,c));if(o||l)return{$$willAnimate:!0,end:function(){return d?d.end():(s=!0,a(),st(i,r),(d=new v).complete(!0)),d},start:function(){function t(t){s=!0,a(),st(i,r),d.complete(t)}if(d)return d;d=new v;var e,n=[];return o&&n.push(function(t){e=o(t)}),n.length?n.push(function(t){a(),t(!0)}):a(),l&&n.push(function(t){e=l(t)}),d.setHost({end:function(){s||((e||Tt)(void 0),t(void 0))},cancel:function(){s||((e||Tt)(!0),t(!0))}}),v.chain(n,t),d}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,a){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(t){if(!t.from||!t.to)return n(t);var i=n(t.from),r=n(t.to);return i||r?{start:function(){function t(){return function(){wt(e,function(t){t.end()})}}var e=[];i&&e.push(i.start()),r&&e.push(r.start()),a.all(e,function(t){n.complete(t)});var n=new a({end:t(),cancel:t()});return n}}:void 0}}]}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(D,L){"use strict";function U(t,e){return Y(new(Y(function(){},{prototype:t})),e)}function T(n){return K(arguments,function(t){t!==n&&K(t,function(t,e){n.hasOwnProperty(e)||(n[e]=t)})}),n}function R(t){if(Object.keys)return Object.keys(t);var n=[];return K(t,function(t,e){n.push(e)}),n}function B(t,e,n){if(Array.prototype.indexOf)return t.indexOf(e,Number(n)||0);var i=t.length>>>0,r=Number(n)||0;for((r=r<0?Math.ceil(r):Math.floor(r))<0&&(r+=i);r<i;r++)if(r in t&&t[r]===e)return r;return-1}function N(t,e,n,i){var r,a=function(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}(n,i),s={},o=[];for(var u in a)if(a[u]&&a[u].params&&(r=R(a[u].params)).length)for(var l in r)0<=B(o,r[l])||(o.push(r[l]),s[r[l]]=t[r[l]]);return Y({},s,e)}function H(t,e){var n={};return K(t,function(t){n[t]=e[t]}),n}function j(e){var n={},t=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return K(t,function(t){t in e&&(n[t]=e[t])}),n}function S(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==B(n,i)&&(e[i]=t[i]);return e}function C(t,n){var i=X(t),r=i?[]:{};return K(t,function(t,e){n(t,e)&&(r[i?r.length:e]=t)}),r}function F(t,n){var i=X(t)?[]:{};return K(t,function(t,e){i[e]=n(t,e)}),i}function G(t){return t.then(L,function(){})&&t}function t(v,y){var t={},o=[],b=t,_=Y(v.when(t),{$$promises:t,$$values:t});this.study=function(r){function p(t){return z(t)&&t.then&&t.$$promises}if(!z(r))throw new Error("'invocables' must be an object");var m=R(r||{}),g=[],a=[],s={};return K(r,function e(t,n){if(2!==s[n]){if(a.push(n),1===s[n])throw a.splice(0,B(a,n)),new Error("Cyclic dependency: "+a.join(" -> "));if(s[n]=1,W(t))g.push(n,[function(){return y.get(t)}],o);else{var i=y.annotate(t);K(i,function(t){t!==n&&r.hasOwnProperty(t)&&e(r[t],t)}),g.push(n,t,i)}a.pop(),s[n]=2}}),r=a=s=null,function(o,t,u){function l(){--i||(r||T(f,t.$$values),h.$$values=f,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,n.resolve(f))}function c(t){h.$$failure=t,n.reject(t)}function e(e,t,n){function i(t){a.reject(t),c(t)}function r(){if(!q(h.$$failure))try{a.resolve(y.invoke(t,u,f)),a.promise.then(function(t){f[e]=t,l()},i)}catch(t){i(t)}}var a=v.defer(),s=0;K(n,function(e){d.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&(s++,d[e].then(function(t){f[e]=t,--s||r()},i))}),s||r(),d[e]=G(a.promise)}if(p(o)&&u===L&&(u=t,t=o,o=null),o){if(!z(o))throw new Error("'locals' must be an object")}else o=b;if(t){if(!p(t))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else t=_;var n=v.defer(),h=G(n.promise),d=h.$$promises={},f=Y({},o),i=1+g.length/3,r=!1;if(G(h),q(t.$$failure))return c(t.$$failure),h;t.$$inheritedValues&&T(f,S(t.$$inheritedValues,m)),Y(d,t.$$promises),t.$$values?(r=T(f,S(t.$$values,m)),h.$$inheritedValues=S(t.$$values,m),l()):(t.$$inheritedValues&&(h.$$inheritedValues=S(t.$$inheritedValues,m)),t.then(l,c));for(var a=0,s=g.length;a<s;a+=3)o.hasOwnProperty(g[a])?l():e(g[a],g[a+1],g[a+2]);return h}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function r(n,i,r,a){this.fromConfig=function(t,e,n){return q(t.template)?this.fromString(t.template,e):q(t.templateUrl)?this.fromUrl(t.templateUrl,e):q(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return y(t)?t(e):t},this.fromUrl=function(t,e){return y(t)&&(t=t(e)),null==t?null:a?n.get(t,{cache:i,headers:{Accept:"text/html"}}).then(function(t){return t.data}):r.get("$templateRequest")(t)},this.fromProvider=function(t,e,n){return r.invoke(t,null,n||{params:e})}}function l(o,u,t){function e(t,e,n,i){if(v.push(t),m[t])return m[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+o+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+o+"'");return g[t]=new V.Param(t,e,n,i),g[t]}function n(t,e,n,i){var r=["",""],a=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return a;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:a=a.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return a+r[0]+e+r[1]}function i(t,e){var n,i,r,a,s;return n=t[2]||t[3],s=u.params[n],r=o.substring(f,t.index),(i=e?t[4]:t[4]||("*"==t[1]?".*":null))&&(a=V.type(i)||U(V.type("string"),{pattern:new RegExp(i,u.caseInsensitive?"i":L)})),{id:n,regexp:i,segment:r,type:a,cfg:s}}u=Y({params:{}},z(u)?u:{});var r,a,s,l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",f=0,p=this.segments=[],m=t?t.params:{},g=this.params=t?t.params.$$new():new V.ParamSet,v=[];for(this.source=o;(r=c.exec(o))&&!(0<=(a=i(r,!1)).segment.indexOf("?"));)s=e(a.id,a.type,a.cfg,"path"),d+=n(a.segment,s.type.pattern.source,s.squash,s.isOptional),p.push(a.segment),f=c.lastIndex;var y=(l=o.substring(f)).indexOf("?");if(0<=y){var b=this.sourceSearch=l.substring(y);if(l=l.substring(0,y),this.sourcePath=o.substring(0,f+y),0<b.length)for(f=0;r=h.exec(b);)s=e((a=i(r,!0)).id,a.type,a.cfg,"search"),f=c.lastIndex}else this.sourcePath=o,this.sourceSearch="";d+=n(l)+(!1===u.strict?"/?":"")+"$",p.push(l),this.regexp=new RegExp(d,u.caseInsensitive?"i":L),this.prefix=p[0],this.$$paramNames=v}function E(t){Y(this,t)}function e(f,o){function u(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!q(i)||i}function t(c,t,r,e,h){function n(t){function e(t){var e=t(r,c);return e&&(W(e)&&c.replace().url(e),1)}if(!t||!t.defaultPrevented){a&&c.url(),a=L;var n,i=p.length;for(n=0;n<i;n++)if(e(p[n]))return;m&&e(m)}}function i(){return l=l||t.$on("$locationChangeSuccess",n)}var a,d=e.baseHref(),s=c.url();return g||i(),{sync:function(){n()},listen:function(){return i()},update:function(t){t?s=c.url():c.url()!==s&&(c.url(s),c.replace())},push:function(t,e,n){var i=t.format(e||{});null!==i&&e&&e["#"]&&(i+="#"+e["#"]),c.url(i),a=n&&n.$$avoidResync?c.url():L,n&&n.replace&&c.replace()},href:function(t,e,n){if(!t.validates(e))return null;var i=f.html5Mode();D.isObject(i)&&(i=i.enabled),i=i&&h.history;var r,a,s,o=t.format(e);if(n=n||{},i||null===o||(o="#"+f.hashPrefix()+o),null!==o&&e&&e["#"]&&(o+="#"+e["#"]),r=o,a=i,s=n.absolute,o="/"===d?r:a?d.slice(0,-1)+r:s?d.slice(1)+r:r,!n.absolute||!o)return o;var u=!i&&o?"/":"",l=c.port();return l=80===l||443===l?"":":"+l,[c.protocol(),"://",c.host(),l,u,o].join("")}}}var l,p=[],m=null,g=!1;this.rule=function(t){if(!y(t))throw new Error("'rule' must be a function");return p.push(t),this},this.otherwise=function(t){if(W(t)){var e=t;t=function(){return e}}else if(!y(t))throw new Error("'rule' must be a function");return m=t,this},this.when=function(t,e){var r,a=W(e);if(W(t)&&(t=o.compile(t)),!a&&!y(e)&&!X(e))throw new Error("invalid 'handler' in when()");var n={matcher:function(n,i){return a&&(r=o.compile(i),i=["$match",function(t){return r.format(t)}]),Y(function(t,e){return u(t,i,n.exec(e.path(),e.search()))},{prefix:W(n.prefix)?n.prefix:""})},regex:function(n,i){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(r=i,i=["$match",function(t){return n=t,r.replace(/\$(\$|\d{1,2})/,function(t,e){return n["$"===e?0:Number(e)]});var n}]),Y(function(t,e){return u(t,i,n.exec(e.path()))},{prefix:null!=(t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source))?t[1].replace(/\\(.)/g,"$1"):""});var t}},i={matcher:o.isMatcher(t),regex:t instanceof RegExp};for(var s in i)if(i[s])return this.rule(n[s](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===L&&(t=!0),g=t},(this.$get=t).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function n(s,i){function O(t,e){if(!t)return L;var n,i=W(t),r=i?t:t.name;if(0===(n=r).indexOf(".")||0===n.indexOf("^")){if(!e)throw new Error("No reference point given for path '"+r+"'");e=O(e);for(var a=r.split("."),s=0,o=a.length,u=e;s<o;s++)if(""!==a[s]||0!==s){if("^"!==a[s])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");u=u.parent}else u=e;a=a.slice(s).join("."),r=u.name+(u.name&&a?".":"")+a}var l=h[r];return!l||!i&&(i||l!==t&&l.self!==t)?L:l}function o(n){var t=(n=U(n,{self:n,resolve:n.resolve||{},toString:function(){return this.name}})).name;if(!W(t)||0<=t.indexOf("@"))throw new Error("State must have a valid name");if(h.hasOwnProperty(t))throw new Error("State '"+t+"' is already defined");var e,i,r=-1!==t.indexOf(".")?t.substring(0,t.lastIndexOf(".")):W(n.parent)?n.parent:z(n.parent)&&W(n.parent.name)?n.parent.name:"";if(r&&!h[r])return e=r,i=n.self,u[e]||(u[e]=[]),void u[e].push(i);for(var a in l)y(l[a])&&(n[a]=l[a](n,l.$delegates[a]));return!(h[t]=n)[M]&&n.url&&s.when(n.url,["$match","$stateParams",function(t,e){$.$current.navigable==n&&function(t,e,n){if(!n)for(var i in n=[],t)n.push(i);for(var r=0;r<n.length;r++){var a=n[r];if(t[a]!=e[a])return}return 1}(t,e)||$.transitionTo(n,t,{inherit:!0,location:!1})}]),function(t){for(var e=u[t]||[];e.length;)o(e.shift())}(t),n}function t(b,_,l,T,c,S,w,t,e){function C(a,t,e,n,s,o){var u=e?t:H(a.params.$$keys(),t),i={$stateParams:u};s.resolve=c.resolve(a.resolve,i,s.resolve,a);var r=[s.resolve.then(function(t){s.globals=t})];return n&&r.push(n),_.all(r).then(function(){var t=[];return K(a.views,function(n,i){var r=n.resolve&&n.resolve!==a.resolve?n.resolve:{};r.$template=[function(){return l.load(i,{view:n,locals:s.globals,params:u,notify:o.notify})||""}],t.push(c.resolve(r,s.globals,s.resolve,a).then(function(t){if(y(n.controllerProvider)||X(n.controllerProvider)){var e=D.extend({},r,s.globals);t.$$controller=T.invoke(n.controllerProvider,null,e)}else t.$$controller=n.controller;t.$$state=a,t.$$controllerAs=n.controllerAs,t.$$resolveAs=n.resolveAs,s[i]=t}))}),_.all(t).then(function(){return s.globals})}).then(function(t){return s})}var E=new Error("transition superseded"),k=G(_.reject(E)),A=G(_.reject(new Error("transition prevented"))),x=G(_.reject(new Error("transition aborted"))),P=G(_.reject(new Error("transition failed")));return I.locals={resolve:null,globals:{$stateParams:{}}},($={params:{},current:I.self,$current:I,transition:null,reload:function(t){return $.transitionTo($.current,S,{reload:t||!0,inherit:!1,notify:!0})},go:function(t,e,n){return $.transitionTo(t,e,Y({inherit:!0,relative:$.$current},n))}}).transitionTo=function(i,r,a){r=r||{},a=Y({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var s=$.$current,o=$.params,u=s.path,t=O(i,a.relative),e=r["#"];if(!q(t)){var n={to:i,toParams:r,options:a},l=function(t,e,n,i){var r=b.$broadcast("$stateNotFound",t,e,n);if(r.defaultPrevented)return w.update(),x;if(!r.retry)return null;if(i.$retry)return w.update(),P;var a=$.transition=_.when(r.retry);return a.then(function(){return a!==$.transition?(b.$broadcast("$stateChangeCancel",t.to,t.toParams,e,n),k):(t.options.$retry=!0,$.transitionTo(t.to,t.toParams,t.options))},function(){return x}),w.update(),a}(n,s.self,o,a);if(l)return l;if(r=n.toParams,t=O(i=n.to,(a=n.options).relative),!q(t)){if(!a.relative)throw new Error("No such state '"+i+"'");throw new Error("Could not resolve '"+i+"' from state '"+a.relative+"'")}}if(t[M])throw new Error("Cannot transition to abstract state '"+i+"'");if(a.inherit&&(r=N(S,r||{},$.$current,t)),!t.params.$$validates(r))return P;r=t.params.$$values(r);var c=(i=t).path,h=0,d=c[h],f=I.locals,p=[];if(a.reload){if(W(a.reload)||z(a.reload)){if(z(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var m=!0===a.reload?u[0]:O(a.reload);if(a.reload&&!m)throw new Error("No such reload state '"+(W(a.reload)?a.reload:a.reload.name)+"'");for(;d&&d===u[h]&&d!==m;)f=p[h]=d.locals,d=c[++h]}}else for(;d&&d===u[h]&&d.ownParams.$$equals(r,o);)f=p[h]=d.locals,d=c[++h];if(function(t,e,n,i,r,a){if(!a.reload&&t===n&&(r===n.locals||!1===t.self.reloadOnSearch&&function(e,t,n){var i=e.params.$$keys().filter(function(t){return"search"!=e.params[t].location}),r=j.apply({},[e.params].concat(i));return new V.ParamSet(r).$$equals(t,n)}(n,i,e)))return 1}(i,r,s,o,f,a))return e&&(r["#"]=e),$.params=r,Q($.params,S),Q(H(i.params.$$keys(),S),i.locals.globals.$stateParams),a.location&&i.navigable&&i.navigable.url&&(w.push(i.navigable.url,r,{$$avoidResync:!0,replace:"replace"===a.location}),w.update(!0)),$.transition=null,_.when($.current);if(r=H(i.params.$$keys(),r||{}),e&&(r["#"]=e),a.notify&&b.$broadcast("$stateChangeStart",i.self,r,s.self,o,a).defaultPrevented)return b.$broadcast("$stateChangeCancel",i.self,r,s.self,o),null==$.transition&&w.update(),A;for(var g=_.when(f),v=h;v<c.length;d=c[++v])f=p[v]=U(f),g=C(d,r,d===i,g,f,a);var y=$.transition=g.then(function(){var t,e,n;if($.transition!==y)return b.$broadcast("$stateChangeCancel",i.self,r,s.self,o),k;for(t=u.length-1;h<=t;t--)(n=u[t]).self.onExit&&T.invoke(n.self.onExit,n.self,n.locals.globals),n.locals=null;for(t=h;t<c.length;t++)(e=c[t]).locals=p[t],e.self.onEnter&&T.invoke(e.self.onEnter,e.self,e.locals.globals);return $.transition!==y?(b.$broadcast("$stateChangeCancel",i.self,r,s.self,o),k):($.$current=i,$.current=i.self,$.params=r,Q($.params,S),$.transition=null,a.location&&i.navigable&&w.push(i.navigable.url,i.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&b.$broadcast("$stateChangeSuccess",i.self,r,s.self,o),w.update(!0),$.current)}).then(null,function(t){return t===E?k:$.transition!==y?(b.$broadcast("$stateChangeCancel",i.self,r,s.self,o),k):($.transition=null,b.$broadcast("$stateChangeError",i.self,r,s.self,o,t).defaultPrevented||w.update(),_.reject(t))});return G(y),y},$.is=function(t,i,e){var r=O(t,(e=Y({relative:$.$current},e||{})).relative);return q(r)?$.$current===r&&(!i||R(i).reduce(function(t,e){var n=r.params[e];return t&&(!n||n.type.equals(S[e],i[e]))},!0)):L},$.includes=function(t,i,e){if(e=Y({relative:$.$current},e||{}),W(t)&&-1<t.indexOf("*")){if(!function(t){for(var e=t.split("."),n=$.$current.name.split("."),i=0,r=e.length;i<r;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(B(n,e[1]))).unshift("**"),"**"===e[e.length-1]&&(n.splice(B(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}(t))return!1;t=$.$current.name}var r=O(t,e.relative);if(!q(r))return L;if(!q($.$current.includes[r.name]))return!1;if(!i)return!0;for(var n=R(i),a=0;a<n.length;a++){var s=n[a],o=r.params[s];if(o&&!o.type.equals(S[s],i[s]))return!1}return R(i).reduce(function(t,e){var n=r.params[e];return t&&!n||n.type.equals(S[e],i[e])},!0)},$.href=function(t,e,n){var i=O(t,(n=Y({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},n||{})).relative);if(!q(i))return null;n.inherit&&(e=N(S,e||{},$.$current,i));var r=i&&n.lossy?i.navigable:i;return r&&r.url!==L&&null!==r.url?w.href(r.url,H(i.params.$$keys().concat("#"),e||{}),{absolute:n.absolute}):null},$.get=function(t,e){if(0===arguments.length)return F(R(h),function(t){return h[t].self});var n=O(t,e||$.$current);return n&&n.self?n.self:null},$}var I,$,h={},u={},M="abstract",l={parent:function(t){if(q(t.parent)&&t.parent)return O(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?O(e[1]):I},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=U(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(W(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||I).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var n=t.url&&t.url.params||new V.ParamSet;return K(t.params||{},function(t,e){n[e]||(n[e]=new V.Param(e,null,t,"config"))}),n},params:function(t){var e=j(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?Y(t.parent.params.$$new(),e):new V.ParamSet},views:function(n){var i={};return K(q(n.views)?n.views:{"":n},function(t,e){e.indexOf("@")<0&&(e+="@"+n.parent.name),t.resolveAs=t.resolveAs||n.resolveAs||"$resolve",i[e]=t}),i},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?Y({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};(I=o({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(t,e){return W(t)&&!q(e)?l[t]:(y(e)&&W(t)&&(l[t]&&!l.$delegates[t]&&(l.$delegates[t]=l[t]),l[t]=e),this)},this.state=function(t,e){return z(t)?e=t:e.name=t,o(e),this},(this.$get=t).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function i(){function t(t,i){return{load:function(t,e){var n;return(e=Y({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},e)).view&&(n=i.fromConfig(e.view,e.params,e.locals)),n}}}(this.$get=t).$inject=["$rootScope","$templateFactory"]}function a(m,e,g,v,y){var t=e.has?function(t){return e.has(t)?e.get(t):null}:function(t){try{return e.get(t)}catch(t){return null}},n=t("$animator"),b=t("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,e,p){return function(r,a,s){function t(t){var e,n=_(r,s,a,v),i=n&&m.$current&&m.$current.locals[n];!t&&i===c||(e=r.$new(),c=m.$current.locals[n],e.$emit("$viewContentLoading",n),u=p(e,function(t){var e=y.defer(),n=y.defer(),i={$animEnter:e.promise,$animLeave:n.promise,$$animLeave:n};t.data("$uiViewAnim",i),f.enter(t,a,function(){e.resolve(),l&&l.$emit("$viewContentAnimationEnded"),(D.isDefined(d)&&!d||r.$eval(d))&&g(t)}),function(){if(o&&(o.remove(),o=null),l&&(l.$destroy(),l=null),u){var t=u.data("$uiViewAnim");f.leave(u,function(){t.$$animLeave.resolve(),o=null}),o=u,u=null}}()}),(l=e).$emit("$viewContentLoaded",n),l.$eval(h))}var o,u,l,c,h=s.onload||"",d=s.autoscroll,f=function(t,e){if(b)return{enter:function(t,e,n){2<D.version.minor?b.enter(t,null,e).then(n):b.enter(t,null,e,n)},leave:function(t,e){2<D.version.minor?b.leave(t).then(e):b.leave(t,e)}};if(n){var i=n&&n(e,t);return{enter:function(t,e,n){i.enter(t,null,e),n()},leave:function(t,e){i.leave(t),e()}}}return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}}(s,r);a.inheritedData("$uiView"),r.$on("$stateChangeSuccess",function(){t(!1)}),t(!0)}}}}function s(c,h,d,f){return{restrict:"ECA",priority:-400,compile:function(t){var l=t.html();return t.empty?t.empty():t[0].innerHTML=null,function(t,e,n){var i=d.$current,r=_(t,n,e,f),a=i&&i.locals[r];if(!a)return e.html(l),void c(e.contents())(t);e.data("$uiView",{name:r,state:a.$$state}),e.html(a.$template?a.$template:l);var s=D.extend({},a);t[a.$$resolveAs]=s;var o=c(e.contents());if(a.$$controller){a.$scope=t,a.$element=e;var u=h(a.$$controller,a);a.$$controllerAs&&(t[a.$$controllerAs]=u,t[a.$$controllerAs][a.$$resolveAs]=s),y(u.$onInit)&&u.$onInit(),e.data("$ngControllerController",u),e.children().data("$ngControllerController",u)}o(t)}}}}function _(t,e,n,i){var r=i(e.uiView||e.name||"")(t),a=n.inheritedData("$uiView");return 0<=r.indexOf("@")?r:r+"@"+(a?a.state.name:"")}function p(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),!(n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function m(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function g(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function v(a,s,o,u,l){return function(t){var e=t.which||t.button,n=l();if(!(1<e||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=o(function(){s.go(n.state,n.params,n.options)});t.preventDefault();var r=u.isAnchor&&!n.href?1:0;t.preventDefault=function(){r--<=0&&o.cancel(i)}}}}function o(d,f){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){var r,a,s=p(n.uiSref,d.current.name),o={state:s.state,href:null,params:null},u=g(e),l=i[1]||i[0],c=null;o.options=Y((a=d,{relative:m(e)||a.$current,inherit:!0}),n.uiSrefOpts?t.$eval(n.uiSrefOpts):{});function h(t){t&&(o.params=D.copy(t)),o.href=d.href(s.state,o.params,o.options),c&&c(),l&&(c=l.$$addStateInfo(s.state,o.params)),null!==o.href&&n.$set(u.attr,o.href)}s.paramExpr&&(t.$watch(s.paramExpr,function(t){t!==o.params&&h(t)},!0),o.params=D.copy(t.$eval(s.paramExpr))),h(),u.clickable&&(r=v(e,d,f,u,function(){return o}),e[e.on?"on":"bind"]("click",r),t.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",r)}))}}}function u(h,d){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){function r(t){l.state=t[0],l.params=t[1],l.options=t[2],l.href=h.href(l.state,l.params,l.options),c&&c(),o&&(c=o.$$addStateInfo(l.state,l.params)),l.href&&n.$set(s.attr,l.href)}var a,s=g(e),o=i[1]||i[0],u="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(t){return t||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null},c=null;t.$watch(u,r,!0),r(t.$eval(u)),s.clickable&&(a=v(e,h,d,s,function(){return l}),e[e.on?"on":"bind"]("click",a),t.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",a)}))}}}function c(f,t,e){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(s,o,t,n){function i(t,e,n){var i=f.get(t,m(o)),r=function(t,e){if(!W(t))throw new Error("state should be a string");return z(e)?t+b(e):(e=s.$eval(e),z(e)?t+b(e):t)}(t,e),a={state:i||{name:t},params:e,hash:r};return h.push(a),d[r]=n,function(){var t=h.indexOf(a);-1!==t&&h.splice(t,1)}}function r(){for(var t=0;t<h.length;t++)i=h[t].state,r=h[t].params,(f.includes(i.name,r)?a:u)(o,d[h[t].hash]),e=h[t].state,n=h[t].params,(f.is(e.name,n)?a:u)(o,l);var e,n,i,r}function a(t,e){n(function(){t.addClass(e)})}function u(t,e){t.removeClass(e)}var l,c,h=[],d={};l=e(t.uiSrefActiveEq||"",!1)(s);try{c=s.$eval(t.uiSrefActive)}catch(t){}c=c||e(t.uiSrefActive||"",!1)(s),z(c)&&K(c,function(t,e){if(W(t)){var n=p(t,f.current.name);i(n.state,s.$eval(n.paramExpr),e)}}),this.$$addStateInfo=function(t,e){if(!(z(c)&&0<h.length)){var n=i(t,e,c);return r(),n}},s.$on("$stateChangeSuccess",r),r()}]}}function h(n){function t(t,e){return n.is(t,e)}return t.$stateful=!0,t}function d(i){function t(t,e,n){return i.includes(t,e,n)}return t.$stateful=!0,t}var V,q=D.isDefined,y=D.isFunction,W=D.isString,z=D.isObject,X=D.isArray,K=D.forEach,Y=D.extend,Q=D.copy,b=D.toJson;D.module("ui.router.util",["ng"]),D.module("ui.router.router",["ui.router.util"]),D.module("ui.router.state",["ui.router.router","ui.router.util"]),D.module("ui.router",["ui.router.state"]),D.module("ui.router.compat",["ui.router"]),t.$inject=["$q","$injector"],D.module("ui.router.util").service("$resolve",t),D.module("ui.router.util").provider("$templateFactory",function(){var i=D.version.minor<3;this.shouldUnsafelyUseHttp=function(t){i=!!t},this.$get=["$http","$templateCache","$injector",function(t,e,n){return new r(t,e,n,i)}]}),l.prototype.concat=function(t,e){var n={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new l(this.sourcePath+t+this.sourceSearch,Y(n,e),this)},l.prototype.toString=function(){return this.source},l.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}return F(F(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,a,s,o,u,l=this.parameters(),c=l.length,h=this.segments.length-1,d={};if(h!=i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;r<h;r++){for(s=l[r],o=this.params[s],u=i[r+1],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);u&&!0===o.array&&(u=n(u)),q(u)&&(u=o.type.decode(u)),d[s]=o.value(u)}for(;r<c;r++){for(d[s=l[r]]=this.params[s].value(e[s]),o=this.params[s],u=e[s],a=0;a<o.replace.length;a++)o.replace[a].from===u&&(u=o.replace[a].to);q(u)&&(u=o.type.decode(u)),d[s]=o.value(u)}return d},l.prototype.parameters=function(t){return q(t)?this.params[t]||null:this.$$paramNames},l.prototype.validates=function(t){return this.params.$$validates(t)},l.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var a,s=!1,o=n.length-1,u=i.length,l=n[0];for(a=0;a<u;a++){var c=a<o,h=i[a],d=r[h],f=d.value(t[h]),p=d.isOptional&&d.type.equals(d.value(),f),m=!!p&&d.squash,g=d.type.encode(f);if(c){var v=n[a+1],y=a+1===o;if(!1===m)null!=g&&(X(g)?l+=F(g,e).join("-"):l+=encodeURIComponent(g)),l+=v;else if(!0===m){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=v.match(b)[1]}else W(m)&&(l+=m+v);y&&!0===d.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==g||p&&!1!==m)continue;if(X(g)||(g=[g]),0===g.length)continue;l+=(s?"&":"?")+h+"="+(g=F(g,encodeURIComponent).join("&"+h+"=")),s=!0}}return l},E.prototype.is=function(t,e){return!0},E.prototype.encode=function(t,e){return t},E.prototype.decode=function(t,e){return t},E.prototype.equals=function(t,e){return t==e},E.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},E.prototype.pattern=/.*/,E.prototype.toString=function(){return"{Type:"+this.name+"}"},E.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},E.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,r){function e(t,e){return function(){return t[e].apply(t,arguments)}}function a(t){return X(t)?t:q(t)?[t]:[]}function s(t){return!t}function n(n,i){return function(t){if(X(t)&&0===t.length)return t;var e=F(t=a(t),n);return!0===i?0===C(e,s).length:function(t){switch(t.length){case 0:return L;case 1:return"auto"===r?t[0]:t;default:return t}}(e)}}var o;this.encode=n(e(t,"encode")),this.decode=n(e(t,"decode")),this.is=n(e(t,"is"),!0),this.equals=(o=e(t,"equals"),function(t,e){var n=a(t),i=a(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!o(n[r],i[r]))return!1;return!0}),this.pattern=t.pattern,this.$normalize=n(e(t,"$normalize")),this.name=t.name,this.$arrayMode=r}(this,t)},D.module("ui.router.util").provider("$urlMatcherFactory",function t(){function e(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function _(t){return y(t)||X(t)&&y(t[t.length-1])}function i(){for(;o.length;){var t=o.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");D.extend(w[t.name],T.invoke(t.def))}}function r(t){Y(this,t||{})}V=this;var T,n=!1,a=!0,S=!1,w={},s=!0,o=[],u={string:{encode:e,decode:function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t},is:function(t){return null==t||!q(t)||"string"==typeof t},pattern:/[^\/]*/},int:{encode:e,decode:function(t){return parseInt(t,10)},is:function(t){return t!==L&&null!==t&&this.decode(t.toString())===t},pattern:/-?\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return!0===t||!1===t},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):L},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):L},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:D.toJson,decode:D.fromJson,is:D.isObject,equals:D.equals,pattern:/[^\/]*/},any:{encode:D.identity,decode:D.identity,equals:D.equals,pattern:/.*/}};t.$$getDefaultValue=function(t){if(!_(t.value))return t.value;if(!T)throw new Error("Injectable functions cannot be called at configuration time");return T.invoke(t.value)},this.caseInsensitive=function(t){return q(t)&&(n=t),n},this.strictMode=function(t){return q(t)&&(a=t),a},this.defaultSquashPolicy=function(t){if(!q(t))return S;if(!0!==t&&!1!==t&&!W(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return S=t},this.compile=function(t,e){return new l(t,Y({strict:a,caseInsensitive:n},e))},this.isMatcher=function(n){if(!z(n))return!1;var i=!0;return K(l.prototype,function(t,e){y(t)&&(i=i&&q(n[e])&&y(n[e]))}),i},this.type=function(t,e,n){if(!q(e))return w[t];if(w.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return w[t]=new E(Y({name:t},e)),n&&(o.push({name:t,def:n}),s||i()),this},K(u,function(t,e){w[e]=new E(Y({name:e},t))}),w=U(w,{}),this.$get=["$injector",function(t){return T=t,s=!1,i(),K(u,function(t,e){w[e]||(w[e]=new E(t))}),this}],this.Param=function(i,t,r,e){var n,a,s=this;-1===B(a=z(n=r)?R(n):[],"value")&&-1===B(a,"type")&&-1===B(a,"squash")&&-1===B(a,"array")&&(n={value:n}),n.$$fn=_(n.value)?n.value:function(){return n.value},t=function(t,e,n){if(t.type&&e)throw new Error("Param '"+i+"' has two type configurations.");return e||(t.type?D.isString(t.type)?w[t.type]:t.type instanceof E?t.type:new E(t.type):"config"===n?w.any:w.string)}(r=n,t,e);var o,u,l=(o={array:"search"===e&&"auto"},u=i.match(/\[\]$/)?{array:!0}:{},Y(o,u,r).array);"string"!==(t=l?t.$asArray(l,"search"===e):t).name||l||"path"!==e||r.value!==L||(r.value="");var c,h,d,f,p,m,g,v=r.value!==L,y=function(t,e){var n=t.squash;if(!e||!1===n)return!1;if(!q(n)||null==n)return S;if(!0===n||W(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,v),b=(h=l,f=y,g=[{from:"",to:(d=v)||h?L:""},{from:null,to:d||h?L:""}],p=X((c=r).replace)?c.replace:[],W(f)&&p.push({from:f,to:L}),m=F(p,function(t){return t.from}),C(g,function(t){return-1===B(m,t.from)}).concat(p));Y(this,{id:i,type:t,location:e,array:l,squash:y,replace:b,isOptional:v,value:function(t){return e=t,t=(i=F(C(s.replace,(n=e,function(t){return t.from===n})),function(t){return t.to})).length?i[0]:e,q(t)?s.type.$normalize(t):function(){if(!T)throw new Error("Injectable functions cannot be called at configuration time");var t=T.invoke(r.$$fn);if(null!==t&&t!==L&&!s.type.is(t))throw new Error("Default value ("+t+") for parameter '"+s.id+"' is not an instance of Type ("+s.type.name+")");return t}();var e,n,i},dynamic:L,config:r,toString:function(){return"{Param:"+i+" "+t+" squash: '"+y+"' optional: "+v+"}"}})},r.prototype={$$new:function(){return U(this,Y(new r,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=R(r.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),K(t,function(t){K(R(t),function(t){-1===B(e,t)&&-1===B(i,t)&&e.push(t)})}),e},$$values:function(e){var n={},i=this;return K(i.$$keys(),function(t){n[t]=i[t].value(e&&e[t])}),n},$$equals:function(i,r){var a=!0,s=this;return K(s.$$keys(),function(t){var e=i&&i[t],n=r&&r[t];s[t].type.equals(e,n)||(a=!1)}),a},$$validates:function(t){var e,n,i,r,a,s=this.$$keys();for(e=0;e<s.length&&(n=this[s[e]],(i=t[s[e]])!==L&&null!==i||!n.isOptional);e++){if(r=n.type.$normalize(i),!n.type.is(r))return!1;if(a=n.type.encode(r),D.isString(a)&&!n.type.pattern.exec(a))return!1}return!0},$$parent:L},this.ParamSet=r}),D.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),e.$inject=["$locationProvider","$urlMatcherFactoryProvider"],D.module("ui.router.router").provider("$urlRouter",e),n.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],D.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",n).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),i.$inject=[],D.module("ui.router.state").provider("$view",i),D.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(t,e){return n?t:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]}),a.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],s.$inject=["$compile","$controller","$state","$interpolate"],D.module("ui.router.state").directive("uiView",a),D.module("ui.router.state").directive("uiView",s),o.$inject=["$state","$timeout"],u.$inject=["$state","$timeout"],c.$inject=["$state","$stateParams","$interpolate"],D.module("ui.router.state").directive("uiSref",o).directive("uiSrefActive",c).directive("uiSrefActiveEq",c).directive("uiState",u),h.$inject=["$state"],d.$inject=["$state"],D.module("ui.router.state").filter("isState",h).filter("includedByState",d)}((window,window.angular)),("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)})(["jquery"],function(g){return w=0,a="error",s="info",o="success",u="warning",t={clear:function(t,e){var n=b();T||v(n),i(t,n,e)||function(t){for(var e=T.children(),n=e.length-1;0<=n;n--)i(g(e[n]),t)}(n)},remove:function(t){var e=b();return T||v(e),t&&0===g(":focus",t).length?void _(t):void(T.children().length&&T.remove())},error:function(t,e,n){return r({type:a,iconClass:b().iconClasses.error,message:t,optionsOverride:n,title:e})},getContainer:v,info:function(t,e,n){return r({type:s,iconClass:b().iconClasses.info,message:t,optionsOverride:n,title:e})},options:{},subscribe:function(t){e=t},success:function(t,e,n){return r({type:o,iconClass:b().iconClasses.success,message:t,optionsOverride:n,title:e})},version:"2.1.3",warning:function(t,e,n){return r({type:u,iconClass:b().iconClasses.warning,message:t,optionsOverride:n,title:e})}};function v(t,e){return t=t||b(),(T=g("#"+t.containerId)).length||e&&(n=t,(T=g("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(g(n.target)),T=T),T;var n}function i(t,e,n){var i=!(!n||!n.force)&&n.force;return t&&(i||0===g(":focus",t).length)&&(t[e.hideMethod]({duration:e.hideDuration,easing:e.hideEasing,complete:function(){_(t)}}),1)}function y(t){e&&e(t)}function r(e){function n(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(t){var e=t&&!1!==s.closeMethod?s.closeMethod:s.hideMethod,n=t&&!1!==s.closeDuration?s.closeDuration:s.hideDuration,i=t&&!1!==s.closeEasing?s.closeEasing:s.hideEasing;if(!g(":focus",l).length||t)return clearTimeout(p.intervalId),l[e]({duration:n,easing:i,complete:function(){_(l),clearTimeout(u),s.onHidden&&"hidden"!==m.state&&s.onHidden(),m.state="hidden",m.endTime=new Date,y(m)}})}function t(){(0<s.timeOut||0<s.extendedTimeOut)&&(u=setTimeout(i,s.extendedTimeOut),p.maxHideTime=parseFloat(s.extendedTimeOut),p.hideEta=(new Date).getTime()+p.maxHideTime)}function r(){clearTimeout(u),p.hideEta=0,l.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}function a(){var t=(p.hideEta-(new Date).getTime())/p.maxHideTime*100;d.width(t+"%")}var s=b(),o=e.iconClass||s.iconClass;if(void 0!==e.optionsOverride&&(s=g.extend(s,e.optionsOverride),o=e.optionsOverride.iconClass||o),!function(t,e){if(t.preventDuplicates){if(e.message===S)return 1;S=e.message}}(s,e)){w++,T=v(s,!0);var u=null,l=g("<div/>"),c=g("<div/>"),h=g("<div/>"),d=g("<div/>"),f=g(s.closeHtml),p={intervalId:null,hideEta:null,maxHideTime:null},m={toastId:w,state:"visible",startTime:new Date,options:s,map:e};return e.iconClass&&l.addClass(s.toastClass).addClass(o),function(){if(e.title){var t=e.title;s.escapeHtml&&(t=n(e.title)),c.append(t).addClass(s.titleClass),l.append(c)}}(),function(){if(e.message){var t=e.message;s.escapeHtml&&(t=n(e.message)),h.append(t).addClass(s.messageClass),l.append(h)}}(),s.closeButton&&(f.addClass(s.closeClass).attr("role","button"),l.prepend(f)),s.progressBar&&(d.addClass(s.progressClass),l.prepend(d)),s.rtl&&l.addClass("rtl"),s.newestOnTop?T.prepend(l):T.append(l),function(){var t="";switch(e.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}l.attr("aria-live",t)}(),l.hide(),l[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),0<s.timeOut&&(u=setTimeout(i,s.timeOut),p.maxHideTime=parseFloat(s.timeOut),p.hideEta=(new Date).getTime()+p.maxHideTime,s.progressBar&&(p.intervalId=setInterval(a,10))),s.closeOnHover&&l.hover(r,t),!s.onclick&&s.tapToDismiss&&l.click(i),s.closeButton&&f&&f.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),s.onCloseClick&&s.onCloseClick(t),i(!0)}),s.onclick&&l.click(function(t){s.onclick(t),i()}),y(m),s.debug&&console&&console.log(m),l}}function b(){return g.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},t.options)}function _(t){T=T||v(),t.is(":visible")||(t.remove(),t=null,0===T.children().length&&(T.remove(),S=void 0))}var T,e,S,w,a,s,o,u,t}),function(t,e){"use strict";"function"==typeof window.define&&window.define.amd?window.define(e):"undefined"!=typeof module&&module.exports?module.exports=e():t.exports?t.exports=e():t.Fingerprint2=e()}(this,function(){"use strict";var e=function(t){if(!(this instanceof e))return new e(t);this.options=this.extend(t,{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[],excludeDoNotTrack:!0,excludePixelRatio:!0}),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return e.prototype={extend:function(t,e){if(null==t)return e;for(var n in t)null!=t[n]&&e[n]!==t[n]&&(e[n]=t[n]);return e},get:function(i){var r=this,n={data:[],addPreprocessedComponent:function(t){var e=t.value;"function"==typeof r.options.preprocessor&&(e=r.options.preprocessor(t.key,e)),n.data.push({key:t.key,value:e})}};n=this.userAgentKey(n),n=this.languageKey(n),n=this.colorDepthKey(n),n=this.deviceMemoryKey(n),n=this.pixelRatioKey(n),n=this.hardwareConcurrencyKey(n),n=this.screenResolutionKey(n),n=this.availableScreenResolutionKey(n),n=this.timezoneOffsetKey(n),n=this.sessionStorageKey(n),n=this.localStorageKey(n),n=this.indexedDbKey(n),n=this.addBehaviorKey(n),n=this.openDatabaseKey(n),n=this.cpuClassKey(n),n=this.platformKey(n),n=this.doNotTrackKey(n),n=this.pluginsKey(n),n=this.canvasKey(n),n=this.webglKey(n),n=this.webglVendorAndRendererKey(n),n=this.adBlockKey(n),n=this.hasLiedLanguagesKey(n),n=this.hasLiedResolutionKey(n),n=this.hasLiedOsKey(n),n=this.hasLiedBrowserKey(n),n=this.touchSupportKey(n),n=this.customEntropyFunction(n),this.fontsKey(n,function(t){var n=[];r.each(t.data,function(t){var e=t.value;e&&"function"==typeof e.join&&(e=e.join(";")),n.push(e)});var e=r.x64hash128(n.join("~~~"),31);return i(e,t.data)})},customEntropyFunction:function(t){return"function"==typeof this.options.customFunction&&t.addPreprocessedComponent({key:"custom",value:this.options.customFunction()}),t},userAgentKey:function(t){return this.options.excludeUserAgent||t.addPreprocessedComponent({key:"user_agent",value:this.getUserAgent()}),t},getUserAgent:function(){return navigator.userAgent},languageKey:function(t){return this.options.excludeLanguage||t.addPreprocessedComponent({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),t},colorDepthKey:function(t){return this.options.excludeColorDepth||t.addPreprocessedComponent({key:"color_depth",value:window.screen.colorDepth||-1}),t},deviceMemoryKey:function(t){return this.options.excludeDeviceMemory||t.addPreprocessedComponent({key:"device_memory",value:this.getDeviceMemory()}),t},getDeviceMemory:function(){return navigator.deviceMemory||-1},pixelRatioKey:function(t){return this.options.excludePixelRatio||t.addPreprocessedComponent({key:"pixel_ratio",value:this.getPixelRatio()}),t},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(t){return this.options.excludeScreenResolution?t:this.getScreenResolution(t)},getScreenResolution:function(t){var e;return e=this.options.detectScreenOrientation&&window.screen.height>window.screen.width?[window.screen.height,window.screen.width]:[window.screen.width,window.screen.height],t.addPreprocessedComponent({key:"resolution",value:e}),t},availableScreenResolutionKey:function(t){return this.options.excludeAvailableScreenResolution?t:this.getAvailableScreenResolution(t)},getAvailableScreenResolution:function(t){var e;return window.screen.availWidth&&window.screen.availHeight&&(e=!this.options.detectScreenOrientation||window.screen.availHeight>window.screen.availWidth?[window.screen.availHeight,window.screen.availWidth]:[window.screen.availWidth,window.screen.availHeight]),void 0!==e&&t.addPreprocessedComponent({key:"available_resolution",value:e}),t},timezoneOffsetKey:function(t){return this.options.excludeTimezoneOffset||t.addPreprocessedComponent({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),t},sessionStorageKey:function(t){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&t.addPreprocessedComponent({key:"session_storage",value:1}),t},localStorageKey:function(t){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&t.addPreprocessedComponent({key:"local_storage",value:1}),t},indexedDbKey:function(t){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&t.addPreprocessedComponent({key:"indexed_db",value:1}),t},addBehaviorKey:function(t){return!this.options.excludeAddBehavior&&document.body&&document.body.addBehavior&&t.addPreprocessedComponent({key:"add_behavior",value:1}),t},openDatabaseKey:function(t){return!this.options.excludeOpenDatabase&&window.openDatabase&&t.addPreprocessedComponent({key:"open_database",value:1}),t},cpuClassKey:function(t){return this.options.excludeCpuClass||t.addPreprocessedComponent({key:"cpu_class",value:this.getNavigatorCpuClass()}),t},platformKey:function(t){return this.options.excludePlatform||t.addPreprocessedComponent({key:"navigator_platform",value:this.getNavigatorPlatform()}),t},doNotTrackKey:function(t){return this.options.excludeDoNotTrack||t.addPreprocessedComponent({key:"do_not_track",value:this.getDoNotTrack()}),t},canvasKey:function(t){return!this.options.excludeCanvas&&this.isCanvasSupported()&&t.addPreprocessedComponent({key:"canvas",value:this.getCanvasFp()}),t},webglKey:function(t){return!this.options.excludeWebGL&&this.isWebGlSupported()&&t.addPreprocessedComponent({key:"webgl",value:this.getWebglFp()}),t},webglVendorAndRendererKey:function(t){return!this.options.excludeWebGLVendorAndRenderer&&this.isWebGlSupported()&&t.addPreprocessedComponent({key:"webgl_vendor",value:this.getWebglVendorAndRenderer()}),t},adBlockKey:function(t){return this.options.excludeAdBlock||t.addPreprocessedComponent({key:"adblock",value:this.getAdBlock()}),t},hasLiedLanguagesKey:function(t){return this.options.excludeHasLiedLanguages||t.addPreprocessedComponent({key:"has_lied_languages",value:this.getHasLiedLanguages()}),t},hasLiedResolutionKey:function(t){return this.options.excludeHasLiedResolution||t.addPreprocessedComponent({key:"has_lied_resolution",value:this.getHasLiedResolution()}),t},hasLiedOsKey:function(t){return this.options.excludeHasLiedOs||t.addPreprocessedComponent({key:"has_lied_os",value:this.getHasLiedOs()}),t},hasLiedBrowserKey:function(t){return this.options.excludeHasLiedBrowser||t.addPreprocessedComponent({key:"has_lied_browser",value:this.getHasLiedBrowser()}),t},fontsKey:function(t,e){return this.options.excludeJsFonts?this.flashFontsKey(t,e):this.jsFontsKey(t,e)},flashFontsKey:function(e,n){return this.options.excludeFlashFonts||!this.hasSwfObjectLoaded()||!this.hasMinFlashInstalled()||void 0===this.options.swfPath?n(e):void this.loadSwfAndDetectFonts(function(t){e.addPreprocessedComponent({key:"swf_fonts",value:t.join(";")}),n(e)})},jsFontsKey:function(g,v){var y=this;return setTimeout(function(){var c=["monospace","sans-serif","serif"],h=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];y.options.extendedJsFonts&&(h=h.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),h=(h=h.concat(y.options.userDefinedFonts)).filter(function(t,e){return h.indexOf(t)===e});function d(){var t=document.createElement("span");return t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="72px",t.style.fontStyle="normal",t.style.fontWeight="normal",t.style.letterSpacing="normal",t.style.lineBreak="auto",t.style.lineHeight="normal",t.style.textTransform="none",t.style.textAlign="left",t.style.textDecoration="none",t.style.textShadow="none",t.style.whiteSpace="normal",t.style.wordBreak="normal",t.style.wordSpacing="normal",t.innerHTML="mmmmmmmmmmlli",t}function t(t){for(var e=!1,n=0;n<c.length;n++)if(e=t[n].offsetWidth!==i[c[n]]||t[n].offsetHeight!==a[c[n]])return e;return e}var e=document.getElementsByTagName("body")[0],r=document.createElement("div"),f=document.createElement("div"),i={},a={},n=function(){for(var t=[],e=0,n=c.length;e<n;e++){var i=d();i.style.fontFamily=c[e],r.appendChild(i),t.push(i)}return t}();e.appendChild(r);for(var s=0,o=c.length;s<o;s++)i[c[s]]=n[s].offsetWidth,a[c[s]]=n[s].offsetHeight;var u=function(){for(var t,e,n,i={},r=0,a=h.length;r<a;r++){for(var s=[],o=0,u=c.length;o<u;o++){var l=(t=h[r],e=c[o],n=void 0,(n=d()).style.fontFamily="'"+t+"',"+e,n);f.appendChild(l),s.push(l)}i[h[r]]=s}return i}();e.appendChild(f);for(var l=[],p=0,m=h.length;p<m;p++)t(u[h[p]])&&l.push(h[p]);e.removeChild(f),e.removeChild(r),g.addPreprocessedComponent({key:"js_fonts",value:l}),v(g)},1)},pluginsKey:function(t){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||t.addPreprocessedComponent({key:"ie_plugins",value:this.getIEPlugins()}):t.addPreprocessedComponent({key:"regular_plugins",value:this.getRegularPlugins()})),t},getRegularPlugins:function(){var t=[];if(navigator.plugins)for(var e=0,n=navigator.plugins.length;e<n;e++)navigator.plugins[e]&&t.push(navigator.plugins[e]);return this.pluginsShouldBeSorted()&&(t=t.sort(function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),this.map(t,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this)},getIEPlugins:function(){var t=[];return(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window)&&(t=this.map(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(t){try{return new window.ActiveXObject(t),t}catch(t){return null}})),navigator.plugins&&(t=t.concat(this.getRegularPlugins())),t},pluginsShouldBeSorted:function(){for(var t=!1,e=0,n=this.options.sortPluginsFor.length;e<n;e++){var i=this.options.sortPluginsFor[e];if(navigator.userAgent.match(i)){t=!0;break}}return t},touchSupportKey:function(t){return this.options.excludeTouchSupport||t.addPreprocessedComponent({key:"touch_support",value:this.getTouchSupport()}),t},hardwareConcurrencyKey:function(t){return this.options.excludeHardwareConcurrency||t.addPreprocessedComponent({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),t},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(t){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(t){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var t=0,e=!1;void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){}return[t,e,"ontouchstart"in window]},getCanvasFp:function(){var t=[],e=document.createElement("canvas");e.width=2e3,e.height=200,e.style.display="inline";var n=e.getContext("2d");return n.rect(0,0,10,10),n.rect(2,2,6,6),t.push("canvas winding:"+(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",this.options.dontUseFakeFontInCanvas?n.font="11pt Arial":n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, ð",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, ð",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.toDataURL&&t.push("canvas fp:"+e.toDataURL()),t.join("~")},getWebglFp:function(){function t(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"}var e;if(!(e=this.getWebglCanvas()))return null;var n=[],i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i);var r=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),i.itemSize=3,i.numItems=3;var a=e.createProgram(),s=e.createShader(e.VERTEX_SHADER);e.shaderSource(s,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(s);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(o),e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),e.useProgram(a),a.vertexPosAttrib=e.getAttribLocation(a,"attrVertex"),a.offsetUniform=e.getUniformLocation(a,"uniformOffset"),e.enableVertexAttribArray(a.vertexPosArray),e.vertexAttribPointer(a.vertexPosAttrib,i.itemSize,e.FLOAT,!1,0,0),e.uniform2f(a.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,i.numItems);try{n.push(e.canvas.toDataURL())}catch(e){}n.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),n.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),n.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),n.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),n.push("webgl max anisotropy:"+function(t){var e=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic");if(e){var n=t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(e)),n.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+e.getParameter(e.RED_BITS)),n.push("webgl renderer:"+e.getParameter(e.RENDERER)),n.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),n.push("webgl vendor:"+e.getParameter(e.VENDOR)),n.push("webgl version:"+e.getParameter(e.VERSION));try{var u=e.getExtension("WEBGL_debug_renderer_info");u&&(n.push("webgl unmasked vendor:"+e.getParameter(u.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+e.getParameter(u.UNMASKED_RENDERER_WEBGL)))}catch(e){}return e.getShaderPrecisionFormat&&(n.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),n.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),n.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),n.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),n.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),n.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),n.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),n.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),n.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),n.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),n.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),n.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),n.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),n.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),n.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),n.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),n.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),n.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),n.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),n.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),n.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),n.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),n.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),n.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),n.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),n.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),n.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),n.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),n.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),n.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),n.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),n.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),n.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),n.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),n.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),n.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax)),n.join("~")},getWebglVendorAndRenderer:function(){try{var t=this.getWebglCanvas(),e=t.getExtension("WEBGL_debug_renderer_info");return t.getParameter(e.UNMASKED_VENDOR_WEBGL)+"~"+t.getParameter(e.UNMASKED_RENDERER_WEBGL)}catch(t){return null}},getAdBlock:function(){var t=document.createElement("div");t.innerHTML="&nbsp;";var e=!(t.className="adsbox");try{document.body.appendChild(t),e=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(t)}catch(t){e=!1}return e},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1},getHasLiedResolution:function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},getHasLiedOs:function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.oscpu,i=navigator.platform.toLowerCase();if(t=0<=e.indexOf("windows phone")?"Windows Phone":0<=e.indexOf("win")?"Windows":0<=e.indexOf("android")?"Android":0<=e.indexOf("linux")?"Linux":0<=e.indexOf("iphone")||0<=e.indexOf("ipad")?"iOS":0<=e.indexOf("mac")?"Mac":"Other",("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows Phone"!=t&&"Android"!=t&&"iOS"!=t&&"Other"!=t)return!0;if(void 0!==n){if(0<=(n=n.toLowerCase()).indexOf("win")&&"Windows"!=t&&"Windows Phone"!=t)return!0;if(0<=n.indexOf("linux")&&"Linux"!=t&&"Android"!=t)return!0;if(0<=n.indexOf("mac")&&"Mac"!=t&&"iOS"!=t)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"==t))return!0}return 0<=i.indexOf("win")&&"Windows"!=t&&"Windows Phone"!=t||(0<=i.indexOf("linux")||0<=i.indexOf("android")||0<=i.indexOf("pike"))&&"Linux"!=t&&"Android"!=t||(0<=i.indexOf("mac")||0<=i.indexOf("ipad")||0<=i.indexOf("ipod")||0<=i.indexOf("iphone"))&&"Mac"!=t&&"iOS"!=t||(-1===i.indexOf("win")&&-1===i.indexOf("linux")&&-1===i.indexOf("mac"))!=("Other"==t)||void 0===navigator.plugins&&"Windows"!=t&&"Windows Phone"!=t},getHasLiedBrowser:function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"==(t=0<=e.indexOf("firefox")?"Firefox":0<=e.indexOf("opera")||0<=e.indexOf("opr")?"Opera":0<=e.indexOf("chrome")?"Chrome":0<=e.indexOf("safari")?"Safari":0<=e.indexOf("trident")?"Internet Explorer":"Other")||"Safari"==t||"Opera"==t)&&"20030107"!==n)return!0;var i,r=eval.toString().length;if(37===r&&"Safari"!=t&&"Firefox"!=t&&"Other"!=t)return!0;if(39===r&&"Internet Explorer"!=t&&"Other"!=t)return!0;if(33===r&&"Chrome"!=t&&"Opera"!=t&&"Other"!=t)return!0;try{throw"a"}catch(t){try{t.toSource(),i=!0}catch(t){i=!1}}return!(!i||"Firefox"==t||"Other"==t)},isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var t=this.getWebglCanvas();return!!window.WebGLRenderingContext&&!!t},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var t=document.createElement("div");t.setAttribute("id",this.options.swfContainerId),document.body.appendChild(t)},loadSwfAndDetectFonts:function(e){var t="___fp_swf_loaded";window[t]=function(t){e(t)};var n=this.options.swfContainerId;this.addFlashDivNode();var i={onReady:t};window.swfobject.embedSWF(this.options.swfPath,n,"1","1","9.0.0",!1,i,{allowScriptAccess:"always",menu:"false"},{})},getWebglCanvas:function(){var t=document.createElement("canvas"),e=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(t){}return e=e||null},each:function(t,e,n){if(null!==t)if(this.nativeForEach&&t.forEach===this.nativeForEach)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t)==={})return}else for(var a in t)if(t.hasOwnProperty(a)&&e.call(n,t[a],a,t)==={})return},map:function(t,i,r){var a=[];return null==t?a:this.nativeMap&&t.map===this.nativeMap?t.map(i,r):(this.each(t,function(t,e,n){a[a.length]=i.call(r,t,e,n)}),a)},x64Add:function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Multiply:function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Rotl:function(t,e){return 32==(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])},x64LeftShift:function(t,e){return 0==(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},x64Xor:function(t,e){return[t[0]^e[0],t[1]^e[1]]},x64Fmix:function(t){return t=this.x64Xor(t,[0,t[0]>>>1]),t=this.x64Multiply(t,[4283543511,3981806797]),t=this.x64Xor(t,[0,t[0]>>>1]),t=this.x64Multiply(t,[3301882366,444984403]),this.x64Xor(t,[0,t[0]>>>1])},x64hash128:function(t,e){e=e||0;for(var n=(t=t||"").length%16,i=t.length-n,r=[0,e],a=[0,e],s=[0,0],o=[0,0],u=[2277735313,289559509],l=[1291169091,658871167],c=0;c<i;c+=16)s=[255&t.charCodeAt(c+4)|(255&t.charCodeAt(c+5))<<8|(255&t.charCodeAt(c+6))<<16|(255&t.charCodeAt(c+7))<<24,255&t.charCodeAt(c)|(255&t.charCodeAt(c+1))<<8|(255&t.charCodeAt(c+2))<<16|(255&t.charCodeAt(c+3))<<24],o=[255&t.charCodeAt(c+12)|(255&t.charCodeAt(c+13))<<8|(255&t.charCodeAt(c+14))<<16|(255&t.charCodeAt(c+15))<<24,255&t.charCodeAt(c+8)|(255&t.charCodeAt(c+9))<<8|(255&t.charCodeAt(c+10))<<16|(255&t.charCodeAt(c+11))<<24],s=this.x64Multiply(s,u),s=this.x64Rotl(s,31),s=this.x64Multiply(s,l),r=this.x64Xor(r,s),r=this.x64Rotl(r,27),r=this.x64Add(r,a),r=this.x64Add(this.x64Multiply(r,[0,5]),[0,1390208809]),o=this.x64Multiply(o,l),o=this.x64Rotl(o,33),o=this.x64Multiply(o,u),a=this.x64Xor(a,o),a=this.x64Rotl(a,31),a=this.x64Add(a,r),a=this.x64Add(this.x64Multiply(a,[0,5]),[0,944331445]);switch(s=[0,0],o=[0,0],n){case 15:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+14)],48));case 14:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+13)],40));case 13:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+12)],32));case 12:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+11)],24));case 11:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+10)],16));case 10:o=this.x64Xor(o,this.x64LeftShift([0,t.charCodeAt(c+9)],8));case 9:o=this.x64Xor(o,[0,t.charCodeAt(c+8)]),o=this.x64Multiply(o,l),o=this.x64Rotl(o,33),o=this.x64Multiply(o,u),a=this.x64Xor(a,o);case 8:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+7)],56));case 7:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+6)],48));case 6:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+5)],40));case 5:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+4)],32));case 4:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+3)],24));case 3:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+2)],16));case 2:s=this.x64Xor(s,this.x64LeftShift([0,t.charCodeAt(c+1)],8));case 1:s=this.x64Xor(s,[0,t.charCodeAt(c)]),s=this.x64Multiply(s,u),s=this.x64Rotl(s,31),s=this.x64Multiply(s,l),r=this.x64Xor(r,s)}return r=this.x64Xor(r,[0,t.length]),a=this.x64Xor(a,[0,t.length]),r=this.x64Add(r,a),a=this.x64Add(a,r),r=this.x64Fmix(r),a=this.x64Fmix(a),r=this.x64Add(r,a),a=this.x64Add(a,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}},e.VERSION="1.8.0",e}),function(){"use strict";var t={function:!0,object:!0},L=t[typeof window]&&window||this,n=t[typeof exports]&&exports,e=t[typeof module]&&module&&!module.nodeType&&module,i=n&&e&&"object"==typeof global&&global;!i||i.global!==i&&i.window!==i&&i.self!==i||(L=i);var a=Math.pow(2,53)-1,U=/\bOpera/,r=Object.prototype,s=r.hasOwnProperty,R=r.toString;function o(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function B(t){return t=G(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:o(t)}function N(t,e){for(var n in t)s.call(t,n)&&e(t[n],n,t)}function H(t){return null==t?o(t):R.call(t).slice(8,-1)}function j(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function F(n,i){var r=null;return function(t,e){var n=-1,i=t?t.length:0;if("number"==typeof i&&-1<i&&i<=a)for(;++n<i;)e(t[n],n);else N(t,e)}(n,function(t,e){r=i(r,t,e,n)}),r}function G(t){return String(t).replace(/^ +| +$/g,"")}var u=function t(o){var e=L,n=o&&"object"==typeof o&&"String"!=H(o);n&&(e=o,o=null);var i=e.navigator||{},r=i.userAgent||"";o=o||r;var a,s,u,l,c=n?!!i.likeChrome:/\bChrome\b/.test(o)&&!/internal|\n/i.test(R.toString()),h="Object",d=n?h:"ScriptBridgingProxyObject",f=n?h:"Environment",p=n&&e.java?"JavaPackage":H(e.java),m=n?h:"RuntimeObject",g=/\bJava/.test(p)&&e.java,v=g&&H(e.environment)==f,y=g?"a":"Î±",b=g?"b":"Î²",_=e.document||{},T=e.operamini||e.opera,S=U.test(S=n&&T?T["[[Class]]"]:H(T))?S:T=null,w=o,C=[],E=null,k=o==r,A=k&&T&&"function"==typeof T.version&&T.version(),x=F([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(t,e){return t||RegExp("\\b"+(e.pattern||j(e))+"\\b","i").exec(o)&&(e.label||e)}),P=F(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(t,e){return t||RegExp("\\b"+(e.pattern||j(e))+"\\b","i").exec(o)&&(e.label||e)}),O=M([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),I=F({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(t,e,n){return t||(e[O]||e[/^[a-z]+(?: +[a-z]+\b)*/i.exec(O)]||RegExp("\\b"+j(n)+"(?:\\b|\\w*\\d)","i").exec(o))&&n}),$=F(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(t,e){var n,i,r,a,s=e.pattern||j(e);return!t&&(t=RegExp("\\b"+s+"(?:/[\\d.]+|[ \\w.]*)","i").exec(o))&&(n=t,i=s,r=e.label||e,a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},i&&r&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(a=a[/[\d.]+$/.exec(n)])&&(n="Windows "+a),n=String(n),i&&r&&(n=n.replace(RegExp(i,"i"),r)),t=n=B(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),t});function M(t){return F(t,function(t,e){var n=e.pattern||j(e);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(o)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(o)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(o))&&((t=String(e.label&&!RegExp(n,"i").test(e.label)?e.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),e=e.label||e,t=B(t[0].replace(RegExp(n,"i"),e).replace(RegExp("; *(?:"+e+"[_-])?","i")," ").replace(RegExp("("+e+")[-_.]?(\\w)","i"),"$1 $2"))),t})}if(x=x&&[x],I&&!O&&(O=M([I])),(a=/\bGoogle TV\b/.exec(O))&&(O=a[0]),/\bSimulator\b/i.test(o)&&(O=(O?O+" ":"")+"Simulator"),"Opera Mini"==P&&/\bOPiOS\b/.test(o)&&C.push("running in Turbo/Uncompressed mode"),"IE"==P&&/\blike iPhone OS\b/.test(o)?(I=(a=t(o.replace(/like iPhone OS/,""))).manufacturer,O=a.product):/^iP/.test(O)?(P=P||"Safari",$="iOS"+((a=/ OS ([\d_]+)/i.exec(o))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=P||/buntu/i.test($)?I&&"Google"!=I&&(/Chrome/.test(P)&&!/\bMobile Safari\b/i.test(o)||/\bVita\b/.test(O))||/\bAndroid\b/.test($)&&/^Chrome/.test(P)&&/\bVersion\//i.test(o)?(P="Android Browser",$=/\bAndroid\b/.test($)?$:"Android"):"Silk"==P?(/\bMobi/i.test(o)||($="Android",C.unshift("desktop mode")),/Accelerated *= *true/i.test(o)&&C.unshift("accelerated")):"PaleMoon"==P&&(a=/\bFirefox\/([\d.]+)\b/.exec(o))?C.push("identifying as Firefox "+a[1]):"Firefox"==P&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(o))?($=$||"Firefox OS",O=O||a[1]):!P||(a=!/\bMinefield\b/i.test(o)&&/\b(?:Firefox|Safari)\b/.exec(P))?(P&&!O&&/[\/,]|^[^(]+?\)/.test(o.slice(o.indexOf(a+"/")+8))&&(P=null),(a=O||I||$)&&(O||I||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test($))&&(P=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test($)?$:a)+" Browser")):"Electron"==P&&(a=(/\bChrome\/([\d.]+)\b/.exec(o)||0)[1])&&C.push("Chromium "+a):$="Kubuntu",A=A||F(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",j(P),"(?:Firefox|Minefield|NetFront)"],function(t,e){return t||(RegExp(e+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(o)||0)[1]||null}),(a=("iCab"==x&&3<parseFloat(A)?"WebKit":/\bOpera\b/.test(P)&&(/\bOPR\b/.test(o)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(o)&&!/^(?:Trident|EdgeHTML)$/.test(x)&&"WebKit"||!x&&/\bMSIE\b/i.test(o)&&("Mac OS"==$?"Tasman":"Trident")||"WebKit"==x&&/\bPlayStation\b(?! Vita\b)/i.test(P)&&"NetFront")&&(x=[a]),"IE"==P&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(o)||0)[1])?(P+=" Mobile",$="Windows Phone "+(/\+$/.test(a)?a:a+".x"),C.unshift("desktop mode")):/\bWPDesktop\b/i.test(o)?(P="IE Mobile",$="Windows Phone 8.x",C.unshift("desktop mode"),A=A||(/\brv:([\d.]+)/.exec(o)||0)[1]):"IE"!=P&&"Trident"==x&&(a=/\brv:([\d.]+)/.exec(o))&&(P&&C.push("identifying as "+P+(A?" "+A:"")),P="IE",A=a[1]),k){if(l=null!=(u=e)?typeof u.global:"number",/^(?:boolean|number|string|undefined)$/.test(l)||"object"==l&&!u.global)H(a=e.runtime)==d?(P="Adobe AIR",$=a.flash.system.Capabilities.os):H(a=e.phantom)==m?(P="PhantomJS",A=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof _.documentMode&&(a=/\bTrident\/(\d+)/i.exec(o))?(A=[A,_.documentMode],(a=+a[1]+4)!=A[1]&&(C.push("IE "+A[1]+" mode"),x&&(x[1]=""),A[1]=a),A="IE"==P?String(A[1].toFixed(1)):A[0]):"number"==typeof _.documentMode&&/^(?:Chrome|Firefox)\b/.test(P)&&(C.push("masking as "+P+" "+A),P="IE",A="11.0",x=["Trident"],$="Windows");else if(g&&(w=(a=g.lang.System).getProperty("os.arch"),$=$||a.getProperty("os.name")+" "+a.getProperty("os.version")),v){try{A=e.require("ringo/engine").version.join("."),P="RingoJS"}catch(t){(a=e.system)&&a.global.system==e.system&&(P="Narwhal",$=$||(a[0].os||null))}P=P||"Rhino"}else"object"==typeof e.process&&!e.process.browser&&(a=e.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(C.push("Node "+a.versions.node),P="Electron",A=a.versions.electron):"string"==typeof a.versions.nw&&(C.push("Chromium "+A,"Node "+a.versions.node),P="NW.js",A=a.versions.nw)),P||(P="Node.js",w=a.arch,$=a.platform,A=(A=/[\d.]+/.exec(a.version))?A[0]:null));$=$&&B($)}if(A&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(A)||/(?:alpha|beta)(?: ?\d)?/i.exec(o+";"+(k&&i.appMinorVersion))||/\bMinefield\b/i.test(o)&&"a")&&(E=/b/i.test(a)?"beta":"alpha",A=A.replace(RegExp(a+"\\+?$"),"")+("beta"==E?b:y)+(/\d+\+?/.exec(a)||"")),"Fennec"==P||"Firefox"==P&&/\b(?:Android|Firefox OS)\b/.test($))P="Firefox Mobile";else if("Maxthon"==P&&A)A=A.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(O))"Xbox 360"==O&&($=null),"Xbox 360"==O&&/\bIEMobile\b/.test(o)&&C.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(P)&&(!P||O||/Browser|Mobi/.test(P))||"Windows CE"!=$&&!/Mobi/i.test(o))if("IE"==P&&k)try{null===e.external&&C.unshift("platform preview")}catch(t){C.unshift("embedded")}else(/\bBlackBerry\b/.test(O)||/\bBB10\b/.test(o))&&(a=(RegExp(O.replace(/ +/g," *")+"/([.\\d]+)","i").exec(o)||0)[1]||A)?($=((a=[a,/BB10/.test(o)])[1]?(O=null,I="BlackBerry"):"Device Software")+" "+a[0],A=null):this!=N&&"Wii"!=O&&(k&&T||/Opera/.test(P)&&/\b(?:MSIE|Firefox)\b/i.test(o)||"Firefox"==P&&/\bOS X (?:\d+\.){2,}/.test($)||"IE"==P&&($&&!/^Win/.test($)&&5.5<A||/\bWindows XP\b/.test($)&&8<A||8==A&&!/\bTrident\b/.test(o)))&&!U.test(a=t.call(N,o.replace(U,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),U.test(P)?(/\bIE\b/.test(a)&&"Mac OS"==$&&($=null),a="identify"+a):(a="mask"+a,P=S?B(S.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&($=null),k||(A=null)),x=["Presto"],C.push(a));else P+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(o)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==P&&"+"==a[1].slice(-1)?(P="WebKit Nightly",E="alpha",A=a[1].slice(0,-1)):A!=a[1]&&A!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(o)||0)[1])||(A=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(o)||0)[1],537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"WebKit"==x&&(x=["Blink"]),a=k&&(c||a[1])?(x&&(x[1]="like Chrome"),a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=x?"27":"28")):(x&&(x[1]="like Safari"),(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),x&&(x[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==P&&(!A||45<parseInt(A))&&(A=a)),"Opera"==P&&(a=/\bzbov|zvav$/.exec($))?(P+=" ",C.unshift("desktop mode"),"zvav"==a?(P+="Mini",A=null):P+="Mobile",$=$.replace(RegExp(" *"+a+"$"),"")):"Safari"==P&&/\bChrome\b/.exec(x&&x[1])&&(C.unshift("desktop mode"),P="Chrome Mobile",A=null,$=/\bOS X\b/.test($)?(I="Apple","iOS 4.3+"):null),A&&0==A.indexOf(a=/[\d.]+$/.exec($))&&-1<o.indexOf("/"+a+"-")&&($=G($.replace(a,""))),x&&!/\b(?:Avant|Nook)\b/.test(P)&&(/Browser|Lunascape|Maxthon/.test(P)||"Safari"!=P&&/^iOS/.test($)&&/\bSafari\b/.test(x[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(P)&&x[1])&&(a=x[x.length-1])&&C.push(a),C.length&&(C=["("+C.join("; ")+")"]),I&&O&&O.indexOf(I)<0&&C.push("on "+I),O&&C.push((/^on /.test(C[C.length-1])?"":"on ")+O),$&&(a=/ ([\d.+]+)$/.exec($),s=a&&"/"==$.charAt($.length-a[0].length-1),$={architecture:32,family:a&&!s?$.replace(a[0],""):$,version:a?a[1]:null,toString:function(){var t=this.version;return this.family+(t&&!s?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(w))&&!/\bi686\b/i.test(w)?($&&($.architecture=64,$.family=$.family.replace(RegExp(" *"+a),"")),P&&(/\bWOW64\b/i.test(o)||k&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(o))&&C.unshift("32-bit")):$&&/^OS X/.test($.family)&&"Chrome"==P&&39<=parseFloat(A)&&($.architecture=64),o=o||null;var D={};return D.description=o,D.layout=x&&x[0],D.manufacturer=I,D.name=P,D.prerelease=E,D.product=O,D.ua=o,D.version=P&&A,D.os=$||{architecture:null,family:null,version:null,toString:function(){return"null"}},D.parse=t,D.toString=function(){return this.description||""},D.version&&C.unshift(A),D.name&&C.unshift(P),$&&P&&($!=String($).split(" ")[0]||$!=P.split(" ")[0]&&!O)&&C.push(O?"("+$+")":"on "+$),C.length&&(D.description=C.join(" ")),D}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(L.platform=u,define(function(){return u})):n&&e?N(u,function(t,e){n[e]=t}):L.platform=u}.call(this),function(t,e){"object"==typeof exports?module.exports=exports=e():"function"==typeof define&&define.amd?define([],e):t.CryptoJS=e()}(this,function(){var c,n,t,e,i,h,r,a,s,o,u,l,d,f,p,m,g,v,y,b,_,T,S,w,C,E,k,A,x,P,O,I,$,M,D,L,U,R,B,N,H,j,F,G,V,q,W,z,X,K,Y,Q,J,Z,tt,et,nt,it,rt,at,st,ot,ut,lt,ct,ht,dt,ft,pt,mt,gt,vt,yt,bt,_t,Tt,St,wt,Ct,Et,kt,At,xt,Pt,Ot,It,$t,Mt,Dt,Lt,Ut,Rt,Bt,Nt,Ht,jt,Ft,Gt,Vt,qt,Wt,zt,Xt,Kt,Yt,Qt,Jt,Zt,te,ee,ne=ne||(c=Math,n=Object.create||function(t){var e;return ie.prototype=t,e=new ie,ie.prototype=null,e},e=(t={}).lib={},i=e.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},h=e.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var a=0;a<r;a++){var s=n[a>>>2]>>>24-a%4*8&255;e[i+a>>>2]|=s<<24-(i+a)%4*8}else for(a=0;a<r;a+=4)e[i+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=c.ceil(e/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){function e(e){e=e;var n=987654321,i=4294967295;return function(){var t=((n=36969*(65535&n)+(n>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return t/=4294967296,(t+=.5)*(.5<c.random()?1:-1)}}for(var n,i=[],r=0;r<t;r+=4){var a=e(4294967296*(n||c.random()));n=987654071*a(),i.push(4294967296*a()|0)}return new h.init(i,t)}}),r=t.enc={},a=r.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var a=e[r>>>2]>>>24-r%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new h.init(n,e/2)}},s=r.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var a=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new h.init(n,e)}},o=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(s.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return s.parse(unescape(encodeURIComponent(t)))}},u=e.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=o.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,i=e.sigBytes,r=this.blockSize,a=i/(4*r),s=(a=t?c.ceil(a):c.max((0|a)-this._minBufferSize,0))*r,o=c.min(4*s,i);if(s){for(var u=0;u<s;u+=r)this._doProcessBlock(n,u);var l=n.splice(0,s);e.sigBytes-=o}return new h.init(l,o)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),e.Hasher=u.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new l.HMAC.init(n,e).finalize(t)}}}),l=t.algo={},t);function ie(){}return ee=ne.lib.WordArray,ne.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],a=0;a<n;a+=3)for(var s=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;o<4&&a+.75*o<n;o++)r.push(i.charAt(s>>>6*(3-o)&63));var u=i.charAt(64);if(u)for(;r.length%4;)r.push(u);return r.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var r=0;r<n.length;r++)i[n.charCodeAt(r)]=r}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var i=[],r=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,o=n[t.charCodeAt(a)]>>>6-a%4*2;i[r>>>2]|=(s|o)<<24-r%4*8,r++}return ee.create(i,r)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(c){function k(t,e,n,i,r,a,s){var o=t+(e&n|~e&i)+r+s;return(o<<a|o>>>32-a)+e}function A(t,e,n,i,r,a,s){var o=t+(e&i|n&~i)+r+s;return(o<<a|o>>>32-a)+e}function x(t,e,n,i,r,a,s){var o=t+(e^n^i)+r+s;return(o<<a|o>>>32-a)+e}function P(t,e,n,i,r,a,s){var o=t+(n^(e|~i))+r+s;return(o<<a|o>>>32-a)+e}var t=ne,e=t.lib,n=e.WordArray,i=e.Hasher,r=t.algo,O=[];!function(){for(var t=0;t<64;t++)O[t]=4294967296*c.abs(c.sin(t+1))|0}();var a=r.MD5=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,s=t[e+0],o=t[e+1],u=t[e+2],l=t[e+3],c=t[e+4],h=t[e+5],d=t[e+6],f=t[e+7],p=t[e+8],m=t[e+9],g=t[e+10],v=t[e+11],y=t[e+12],b=t[e+13],_=t[e+14],T=t[e+15],S=a[0],w=a[1],C=a[2],E=a[3];S=k(S,w,C,E,s,7,O[0]),E=k(E,S,w,C,o,12,O[1]),C=k(C,E,S,w,u,17,O[2]),w=k(w,C,E,S,l,22,O[3]),S=k(S,w,C,E,c,7,O[4]),E=k(E,S,w,C,h,12,O[5]),C=k(C,E,S,w,d,17,O[6]),w=k(w,C,E,S,f,22,O[7]),S=k(S,w,C,E,p,7,O[8]),E=k(E,S,w,C,m,12,O[9]),C=k(C,E,S,w,g,17,O[10]),w=k(w,C,E,S,v,22,O[11]),S=k(S,w,C,E,y,7,O[12]),E=k(E,S,w,C,b,12,O[13]),C=k(C,E,S,w,_,17,O[14]),S=A(S,w=k(w,C,E,S,T,22,O[15]),C,E,o,5,O[16]),E=A(E,S,w,C,d,9,O[17]),C=A(C,E,S,w,v,14,O[18]),w=A(w,C,E,S,s,20,O[19]),S=A(S,w,C,E,h,5,O[20]),E=A(E,S,w,C,g,9,O[21]),C=A(C,E,S,w,T,14,O[22]),w=A(w,C,E,S,c,20,O[23]),S=A(S,w,C,E,m,5,O[24]),E=A(E,S,w,C,_,9,O[25]),C=A(C,E,S,w,l,14,O[26]),w=A(w,C,E,S,p,20,O[27]),S=A(S,w,C,E,b,5,O[28]),E=A(E,S,w,C,u,9,O[29]),C=A(C,E,S,w,f,14,O[30]),S=x(S,w=A(w,C,E,S,y,20,O[31]),C,E,h,4,O[32]),E=x(E,S,w,C,p,11,O[33]),C=x(C,E,S,w,v,16,O[34]),w=x(w,C,E,S,_,23,O[35]),S=x(S,w,C,E,o,4,O[36]),E=x(E,S,w,C,c,11,O[37]),C=x(C,E,S,w,f,16,O[38]),w=x(w,C,E,S,g,23,O[39]),S=x(S,w,C,E,b,4,O[40]),E=x(E,S,w,C,s,11,O[41]),C=x(C,E,S,w,l,16,O[42]),w=x(w,C,E,S,d,23,O[43]),S=x(S,w,C,E,m,4,O[44]),E=x(E,S,w,C,y,11,O[45]),C=x(C,E,S,w,T,16,O[46]),S=P(S,w=x(w,C,E,S,u,23,O[47]),C,E,s,6,O[48]),E=P(E,S,w,C,f,10,O[49]),C=P(C,E,S,w,_,15,O[50]),w=P(w,C,E,S,h,21,O[51]),S=P(S,w,C,E,y,6,O[52]),E=P(E,S,w,C,l,10,O[53]),C=P(C,E,S,w,g,15,O[54]),w=P(w,C,E,S,o,21,O[55]),S=P(S,w,C,E,p,6,O[56]),E=P(E,S,w,C,T,10,O[57]),C=P(C,E,S,w,d,15,O[58]),w=P(w,C,E,S,b,21,O[59]),S=P(S,w,C,E,c,6,O[60]),E=P(E,S,w,C,v,10,O[61]),C=P(C,E,S,w,u,15,O[62]),w=P(w,C,E,S,m,21,O[63]),a[0]=a[0]+S|0,a[1]=a[1]+w|0,a[2]=a[2]+C|0,a[3]=a[3]+E|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32;var r=c.floor(n/4294967296),a=n;e[15+(64+i>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e[14+(64+i>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(e.length+1),this._process();for(var s=this._hash,o=s.words,u=0;u<4;u++){var l=o[u];o[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.MD5=i._createHelper(a),t.HmacMD5=i._createHmacHelper(a)}(Math),Kt=(Xt=ne).lib,Yt=Kt.WordArray,Qt=Kt.Hasher,Jt=Xt.algo,Zt=[],te=Jt.SHA1=Qt.extend({_doReset:function(){this._hash=new Yt.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],s=n[3],o=n[4],u=0;u<80;u++){if(u<16)Zt[u]=0|t[e+u];else{var l=Zt[u-3]^Zt[u-8]^Zt[u-14]^Zt[u-16];Zt[u]=l<<1|l>>>31}var c=(i<<5|i>>>27)+o+Zt[u];c+=u<20?1518500249+(r&a|~r&s):u<40?1859775393+(r^a^s):u<60?(r&a|r&s|a&s)-1894007588:(r^a^s)-899497514,o=s,s=a,a=r<<30|r>>>2,r=i,i=c}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+o|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(64+i>>>9<<4)]=Math.floor(n/4294967296),e[15+(64+i>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=Qt.clone.call(this);return t._hash=this._hash.clone(),t}}),Xt.SHA1=Qt._createHelper(te),Xt.HmacSHA1=Qt._createHmacHelper(te),function(r){var t=ne,e=t.lib,n=e.WordArray,i=e.Hasher,a=t.algo,s=[],b=[];!function(){function t(t){for(var e=r.sqrt(t),n=2;n<=e;n++)if(!(t%n))return;return 1}function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(s[i]=e(r.pow(n,.5))),b[i]=e(r.pow(n,1/3)),i++),n++}();var _=[],o=a.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],s=n[3],o=n[4],u=n[5],l=n[6],c=n[7],h=0;h<64;h++){if(h<16)_[h]=0|t[e+h];else{var d=_[h-15],f=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,p=_[h-2],m=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;_[h]=f+_[h-7]+m+_[h-16]}var g=i&r^i&a^r&a,v=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),y=c+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&u^~o&l)+b[h]+_[h];c=l,l=u,u=o,o=s+y|0,s=a,a=r,r=i,i=y+(v+g)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+o|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(64+i>>>9<<4)]=r.floor(n/4294967296),e[15+(64+i>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA256=i._createHelper(o),t.HmacSHA256=i._createHmacHelper(o)}(Math),Wt=ne.lib.WordArray,(zt=ne.enc).Utf16=zt.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r+=2){var a=e[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return Wt.create(n,2*e)}},zt.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r+=2){var a=ge(e[r>>>2]>>>16-r%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>1]|=ge(t.charCodeAt(i)<<16-i%2*16);return Wt.create(n,2*e)}},function(){if("function"==typeof ArrayBuffer){var t=ne.lib.WordArray,r=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],i=0;i<e;i++)n[i>>>2]|=t[i]<<24-i%4*8;r.call(this,n,e)}else r.apply(this,arguments)}).prototype=t}}(),Math,Lt=(Dt=ne).lib,Ut=Lt.WordArray,Rt=Lt.Hasher,Bt=Dt.algo,Nt=Ut.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Ht=Ut.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),jt=Ut.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Ft=Ut.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Gt=Ut.create([0,1518500249,1859775393,2400959708,2840853838]),Vt=Ut.create([1352829926,1548603684,1836072691,2053994217,0]),qt=Bt.RIPEMD160=Rt.extend({_doReset:function(){this._hash=Ut.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a,s,o,u,l,c,h,d,f,p,m=this._hash.words,g=Gt.words,v=Vt.words,y=Nt.words,b=Ht.words,_=jt.words,T=Ft.words;c=a=m[0],h=s=m[1],d=o=m[2],f=u=m[3],p=l=m[4];var S;for(n=0;n<80;n+=1)S=a+t[e+y[n]]|0,S+=n<16?ce(s,o,u)+g[0]:n<32?he(s,o,u)+g[1]:n<48?de(s,o,u)+g[2]:n<64?fe(s,o,u)+g[3]:pe(s,o,u)+g[4],S=(S=me(S|=0,_[n]))+l|0,a=l,l=u,u=me(o,10),o=s,s=S,S=c+t[e+b[n]]|0,S+=n<16?pe(h,d,f)+v[0]:n<32?fe(h,d,f)+v[1]:n<48?de(h,d,f)+v[2]:n<64?he(h,d,f)+v[3]:ce(h,d,f)+v[4],S=(S=me(S|=0,T[n]))+p|0,c=p,p=f,f=me(d,10),d=h,h=S;S=m[1]+o+f|0,m[1]=m[2]+u+p|0,m[2]=m[3]+l+c|0,m[3]=m[4]+a+h|0,m[4]=m[0]+s+d|0,m[0]=S},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(64+i>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var r=this._hash,a=r.words,s=0;s<5;s++){var o=a[s];a[s]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return r},clone:function(){var t=Rt.clone.call(this);return t._hash=this._hash.clone(),t}}),Dt.RIPEMD160=Rt._createHelper(qt),Dt.HmacRIPEMD160=Rt._createHmacHelper(qt),$t=ne.lib.Base,Mt=ne.enc.Utf8,ne.algo.HMAC=$t.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=Mt.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),a=this._iKey=e.clone(),s=r.words,o=a.words,u=0;u<n;u++)s[u]^=1549556828,o[u]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}}),Et=(Ct=ne).lib,kt=Et.Base,At=Et.WordArray,xt=Ct.algo,Pt=xt.SHA1,Ot=xt.HMAC,It=xt.PBKDF2=kt.extend({cfg:kt.extend({keySize:4,hasher:Pt,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=Ot.create(n.hasher,t),r=At.create(),a=At.create([1]),s=r.words,o=a.words,u=n.keySize,l=n.iterations;s.length<u;){var c=i.update(e).finalize(a);i.reset();for(var h=c.words,d=h.length,f=c,p=1;p<l;p++){f=i.finalize(f),i.reset();for(var m=f.words,g=0;g<d;g++)h[g]^=m[g]}r.concat(c),o[0]++}return r.sigBytes=4*u,r}}),Ct.PBKDF2=function(t,e,n){return It.create(n).compute(t,e)},yt=(vt=ne).lib,bt=yt.Base,_t=yt.WordArray,Tt=vt.algo,St=Tt.MD5,wt=Tt.EvpKDF=bt.extend({cfg:bt.extend({keySize:4,hasher:St,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),r=_t.create(),a=r.words,s=n.keySize,o=n.iterations;a.length<s;){u&&i.update(u);var u=i.update(t).finalize(e);i.reset();for(var l=1;l<o;l++)u=i.finalize(u),i.reset();r.concat(u)}return r.sigBytes=4*s,r}}),vt.EvpKDF=function(t,e,n){return wt.create(n).compute(t,e)},ft=(dt=ne).lib.WordArray,pt=dt.algo,mt=pt.SHA256,gt=pt.SHA224=mt.extend({_doReset:function(){this._hash=new ft.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=mt._doFinalize.call(this);return t.sigBytes-=4,t}}),dt.SHA224=mt._createHelper(gt),dt.HmacSHA224=mt._createHmacHelper(gt),ut=ne.lib,lt=ut.Base,ct=ut.WordArray,(ht=ne.x64={}).Word=lt.extend({init:function(t,e){this.high=t,this.low=e}}),ht.WordArray=lt.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],i=0;i<e;i++){var r=t[i];n.push(r.high),n.push(r.low)}return ct.create(n,this.sigBytes)},clone:function(){for(var t=lt.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}}),function(d){var t=ne,e=t.lib,f=e.WordArray,i=e.Hasher,c=t.x64.Word,n=t.algo,P=[],O=[],I=[];!function(){for(var t=1,e=0,n=0;n<24;n++){P[t+5*e]=(n+1)*(n+2)/2%64;var i=(2*t+3*e)%5;t=e%5,e=i}for(t=0;t<5;t++)for(e=0;e<5;e++)O[t+5*e]=e+(2*t+3*e)%5*5;for(var r=1,a=0;a<24;a++){for(var s=0,o=0,u=0;u<7;u++){if(1&r){var l=(1<<u)-1;l<32?o^=1<<l:s^=1<<l-32}128&r?r=r<<1^113:r<<=1}I[a]=c.create(s,o)}}();var $=[];!function(){for(var t=0;t<25;t++)$[t]=c.create()}();var r=n.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var a=t[e+2*r],s=t[e+2*r+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(C=n[r]).high^=s,C.low^=a}for(var o=0;o<24;o++){for(var u=0;u<5;u++){for(var l=0,c=0,h=0;h<5;h++){l^=(C=n[u+5*h]).high,c^=C.low}var d=$[u];d.high=l,d.low=c}for(u=0;u<5;u++){var f=$[(u+4)%5],p=$[(u+1)%5],m=p.high,g=p.low;for(l=f.high^(m<<1|g>>>31),c=f.low^(g<<1|m>>>31),h=0;h<5;h++){(C=n[u+5*h]).high^=l,C.low^=c}}for(var v=1;v<25;v++){var y=(C=n[v]).high,b=C.low,_=P[v];if(_<32)l=y<<_|b>>>32-_,c=b<<_|y>>>32-_;else l=b<<_-32|y>>>64-_,c=y<<_-32|b>>>64-_;var T=$[O[v]];T.high=l,T.low=c}var S=$[0],w=n[0];S.high=w.high,S.low=w.low;for(u=0;u<5;u++)for(h=0;h<5;h++){var C=n[v=u+5*h],E=$[v],k=$[(u+1)%5+5*h],A=$[(u+2)%5+5*h];C.high=E.high^~k.high&A.high,C.low=E.low^~k.low&A.low}C=n[0];var x=I[o];C.high^=x.high,C.low^=x.low}},_doFinalize:function(){var t=this._data,e=t.words,n=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;e[n>>>5]|=1<<24-n%32,e[(d.ceil((1+n)/i)*i>>>5)-1]|=128,t.sigBytes=4*e.length,this._process();for(var r=this._state,a=this.cfg.outputLength/8,s=a/8,o=[],u=0;u<s;u++){var l=r[u],c=l.high,h=l.low;c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),o.push(h),o.push(c)}return new f.init(o,a)},clone:function(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});t.SHA3=i._createHelper(r),t.HmacSHA3=i._createHmacHelper(r)}(Math),function(){function e(){return r.create.apply(r,arguments)}var t=ne,n=t.lib.Hasher,i=t.x64,r=i.Word,a=i.WordArray,s=t.algo,wt=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],Ct=[];!function(){for(var t=0;t<80;t++)Ct[t]=e()}();var o=s.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],s=n[3],o=n[4],u=n[5],l=n[6],c=n[7],h=i.high,d=i.low,f=r.high,p=r.low,m=a.high,g=a.low,v=s.high,y=s.low,b=o.high,_=o.low,T=u.high,S=u.low,w=l.high,C=l.low,E=c.high,k=c.low,A=h,x=d,P=f,O=p,I=m,$=g,M=v,D=y,L=b,U=_,R=T,B=S,N=w,H=C,j=E,F=k,G=0;G<80;G++){var V=Ct[G];if(G<16)var q=V.high=0|t[e+2*G],W=V.low=0|t[e+2*G+1];else{var z=Ct[G-15],X=z.high,K=z.low,Y=(X>>>1|K<<31)^(X>>>8|K<<24)^X>>>7,Q=(K>>>1|X<<31)^(K>>>8|X<<24)^(K>>>7|X<<25),J=Ct[G-2],Z=J.high,tt=J.low,et=(Z>>>19|tt<<13)^(Z<<3|tt>>>29)^Z>>>6,nt=(tt>>>19|Z<<13)^(tt<<3|Z>>>29)^(tt>>>6|Z<<26),it=Ct[G-7],rt=it.high,at=it.low,st=Ct[G-16],ot=st.high,ut=st.low;q=(q=(q=Y+rt+((W=Q+at)>>>0<Q>>>0?1:0))+et+((W=W+nt)>>>0<nt>>>0?1:0))+ot+((W=W+ut)>>>0<ut>>>0?1:0);V.high=q,V.low=W}var lt,ct=L&R^~L&N,ht=U&B^~U&H,dt=A&P^A&I^P&I,ft=x&O^x&$^O&$,pt=(A>>>28|x<<4)^(A<<30|x>>>2)^(A<<25|x>>>7),mt=(x>>>28|A<<4)^(x<<30|A>>>2)^(x<<25|A>>>7),gt=(L>>>14|U<<18)^(L>>>18|U<<14)^(L<<23|U>>>9),vt=(U>>>14|L<<18)^(U>>>18|L<<14)^(U<<23|L>>>9),yt=wt[G],bt=yt.high,_t=yt.low,Tt=j+gt+((lt=F+vt)>>>0<F>>>0?1:0),St=mt+ft;j=N,F=H,N=R,H=B,R=L,B=U,L=M+(Tt=(Tt=(Tt=Tt+ct+((lt=lt+ht)>>>0<ht>>>0?1:0))+bt+((lt=lt+_t)>>>0<_t>>>0?1:0))+q+((lt=lt+W)>>>0<W>>>0?1:0))+((U=D+lt|0)>>>0<D>>>0?1:0)|0,M=I,D=$,I=P,$=O,P=A,O=x,A=Tt+(pt+dt+(St>>>0<mt>>>0?1:0))+((x=lt+St|0)>>>0<lt>>>0?1:0)|0}d=i.low=d+x,i.high=h+A+(d>>>0<x>>>0?1:0),p=r.low=p+O,r.high=f+P+(p>>>0<O>>>0?1:0),g=a.low=g+$,a.high=m+I+(g>>>0<$>>>0?1:0),y=s.low=y+D,s.high=v+M+(y>>>0<D>>>0?1:0),_=o.low=_+U,o.high=b+L+(_>>>0<U>>>0?1:0),S=u.low=S+B,u.high=T+R+(S>>>0<B>>>0?1:0),C=l.low=C+H,l.high=w+N+(C>>>0<H>>>0?1:0),k=c.low=k+F,c.high=E+j+(k>>>0<F>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(128+i>>>10<<5)]=Math.floor(n/4294967296),e[31+(128+i>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),nt=(et=ne).x64,it=nt.Word,rt=nt.WordArray,at=et.algo,st=at.SHA512,ot=at.SHA384=st.extend({_doReset:function(){this._hash=new rt.init([new it.init(3418070365,3238371032),new it.init(1654270250,914150663),new it.init(2438529370,812702999),new it.init(355462360,4144912697),new it.init(1731405415,4290775857),new it.init(2394180231,1750603025),new it.init(3675008525,1694076839),new it.init(1203062813,3204075428)])},_doFinalize:function(){var t=st._doFinalize.call(this);return t.sigBytes-=16,t}}),et.SHA384=st._createHelper(ot),et.HmacSHA384=st._createHmacHelper(ot),ne.lib.Cipher||(B=(R=ne).lib,N=B.Base,H=B.WordArray,j=B.BufferedBlockAlgorithm,(F=R.enc).Utf8,G=F.Base64,V=R.algo.EvpKDF,q=B.Cipher=j.extend({cfg:N.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){j.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(i){return{encrypt:function(t,e,n){return le(e).encrypt(i,t,e,n)},decrypt:function(t,e,n){return le(e).decrypt(i,t,e,n)}}}}),B.StreamCipher=q.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),W=R.mode={},z=B.BlockCipherMode=N.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),X=W.CBC=((U=z.extend()).Encryptor=U.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;ue.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),U.Decryptor=U.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=t.slice(e,e+i);n.decryptBlock(t,e),ue.call(this,t,e,i),this._prevBlock=r}}),U),K=(R.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,r=i<<24|i<<16|i<<8|i,a=[],s=0;s<i;s+=4)a.push(r);var o=H.create(a,i);t.concat(o)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},B.BlockCipher=q.extend({cfg:q.cfg.extend({mode:X,padding:K}),reset:function(){q.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else{i=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(n,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{e=this._process(!0);t.unpad(e)}return e},blockSize:4}),Y=B.CipherParams=N.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),Q=(R.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var i=H.create([1398893684,1701076831]).concat(n).concat(e);else i=e;return i.toString(G)},parse:function(t){var e=G.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var i=H.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return Y.create({ciphertext:e,salt:i})}},J=B.SerializableCipher=N.extend({cfg:N.extend({format:Q}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=t.createEncryptor(n,i),a=r.finalize(e),s=r.cfg;return Y.create({ciphertext:a,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),Z=(R.kdf={}).OpenSSL={execute:function(t,e,n,i){i=i||H.random(8);var r=V.create({keySize:e+n}).compute(t,i),a=H.create(r.words.slice(e),4*n);return r.sigBytes=4*e,Y.create({key:r,iv:a,salt:i})}},tt=B.PasswordBasedCipher=J.extend({cfg:J.cfg.extend({kdf:Z}),encrypt:function(t,e,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize);i.iv=r.iv;var a=J.encrypt.call(this,t,e,r.key,i);return a.mixIn(r),a},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var r=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);return i.iv=r.iv,J.decrypt.call(this,t,e,r.key,i)}})),ne.mode.CFB=((L=ne.lib.BlockCipherMode.extend()).Encryptor=L.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;oe.call(this,t,e,i,n),this._prevBlock=t.slice(e,e+i)}}),L.Decryptor=L.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=t.slice(e,e+i);oe.call(this,t,e,i,n),this._prevBlock=r}}),L),ne.mode.ECB=((D=ne.lib.BlockCipherMode.extend()).Encryptor=D.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),D.Decryptor=D.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),D),ne.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,i=4*e,r=i-n%i,a=n+r-1;t.clamp(),t.words[a>>>2]|=r<<24-a%4*8,t.sigBytes+=r},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},ne.pad.Iso10126={pad:function(t,e){var n=4*e,i=n-t.sigBytes%n;t.concat(ne.lib.WordArray.random(i-1)).concat(ne.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},ne.pad.Iso97971={pad:function(t,e){t.concat(ne.lib.WordArray.create([2147483648],1)),ne.pad.ZeroPadding.pad(t,e)},unpad:function(t){ne.pad.ZeroPadding.unpad(t),t.sigBytes--}},ne.mode.OFB=($=ne.lib.BlockCipherMode.extend(),M=$.Encryptor=$.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=this._iv,a=this._keystream;r&&(a=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(a,0);for(var s=0;s<i;s++)t[e+s]^=a[s]}}),$.Decryptor=M,$),ne.pad.NoPadding={pad:function(){},unpad:function(){}},O=ne.lib.CipherParams,I=ne.enc.Hex,ne.format.Hex={stringify:function(t){return t.ciphertext.toString(I)},parse:function(t){var e=I.parse(t);return O.create({ciphertext:e})}},function(){var t=ne,e=t.lib.BlockCipher,n=t.algo,l=[],c=[],h=[],d=[],f=[],p=[],m=[],g=[],v=[],y=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,i=0;for(e=0;e<256;e++){var r=i^i<<1^i<<2^i<<3^i<<4;r=r>>>8^255&r^99,l[n]=r;var a=t[c[r]=n],s=t[a],o=t[s],u=257*t[r]^16843008*r;h[n]=u<<24|u>>>8,d[n]=u<<16|u>>>16,f[n]=u<<8|u>>>24,p[n]=u;u=16843009*o^65537*s^257*a^16843008*n;m[r]=u<<24|u>>>8,g[r]=u<<16|u>>>16,v[r]=u<<8|u>>>24,y[r]=u,n?(n=a^t[t[t[o^a]]],i^=t[t[i]]):n=i=1}}();var b=[0,1,2,4,8,16,32,64,128,27,54],i=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*(1+(this._nRounds=6+n)),r=this._keySchedule=[],a=0;a<i;a++)if(a<n)r[a]=e[a];else{var s=r[a-1];a%n?6<n&&a%n==4&&(s=l[s>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s]):(s=l[(s=s<<8|s>>>24)>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s],s^=b[a/n|0]<<24),r[a]=r[a-n]^s}for(var o=this._invKeySchedule=[],u=0;u<i;u++){a=i-u;if(u%4)s=r[a];else s=r[a-4];o[u]=u<4||a<=4?s:m[l[s>>>24]]^g[l[s>>>16&255]]^v[l[s>>>8&255]]^y[l[255&s]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,h,d,f,p,l)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,m,g,v,y,c);n=t[e+1];t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,r,a,s,o){for(var u=this._nRounds,l=t[e]^n[0],c=t[e+1]^n[1],h=t[e+2]^n[2],d=t[e+3]^n[3],f=4,p=1;p<u;p++){var m=i[l>>>24]^r[c>>>16&255]^a[h>>>8&255]^s[255&d]^n[f++],g=i[c>>>24]^r[h>>>16&255]^a[d>>>8&255]^s[255&l]^n[f++],v=i[h>>>24]^r[d>>>16&255]^a[l>>>8&255]^s[255&c]^n[f++],y=i[d>>>24]^r[l>>>16&255]^a[c>>>8&255]^s[255&h]^n[f++];l=m,c=g,h=v,d=y}m=(o[l>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^n[f++],g=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&l])^n[f++],v=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[l>>>8&255]<<8|o[255&c])^n[f++],y=(o[d>>>24]<<24|o[l>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^n[f++];t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=y},keySize:8});t.AES=e._createHelper(i)}(),function(){function c(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function h(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var t=ne,e=t.lib,n=e.WordArray,i=e.BlockCipher,r=t.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],a=r.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var i=l[n]-1;e[n]=t[i>>>5]>>>31-i%32&1}for(var r=this._subKeys=[],a=0;a<16;a++){var s=r[a]=[],o=f[a];for(n=0;n<24;n++)s[n/6|0]|=e[(d[n]-1+o)%28]<<31-n%6,s[4+(n/6|0)]|=e[28+(d[n+24]-1+o)%28]<<31-n%6;s[0]=s[0]<<1|s[0]>>>31;for(n=1;n<7;n++)s[n]=s[n]>>>4*(n-1)+3;s[7]=s[7]<<5|s[7]>>>27}var u=this._invSubKeys=[];for(n=0;n<16;n++)u[n]=r[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],c.call(this,4,252645135),c.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),c.call(this,1,1431655765);for(var i=0;i<16;i++){for(var r=n[i],a=this._lBlock,s=this._rBlock,o=0,u=0;u<8;u++)o|=p[u][((s^r[u])&m[u])>>>0];this._lBlock=s,this._rBlock=a^o}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,c.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),c.call(this,16,65535),c.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});t.DES=i._createHelper(a);var s=r.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=a.createEncryptor(n.create(t.slice(0,2))),this._des2=a.createEncryptor(n.create(t.slice(2,4))),this._des3=a.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(s)}(),function(){function n(){for(var t=this._S,e=this._i,n=this._j,i=0,r=0;r<4;r++){n=(n+t[e=(e+1)%256])%256;var a=t[e];t[e]=t[n],t[n]=a,i|=t[(t[e]+t[n])%256]<<24-8*r}return this._i=e,this._j=n,i}var t=ne,e=t.lib.StreamCipher,i=t.algo,r=i.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;r=0;for(var a=0;r<256;r++){var s=r%n,o=e[s>>>2]>>>24-s%4*8&255;a=(a+i[r]+o)%256;var u=i[r];i[r]=i[a],i[a]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=n.call(this)},keySize:8,ivSize:0});t.RC4=e._createHelper(r);var a=i.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var t=this.cfg.drop;0<t;t--)n.call(this)}});t.RC4Drop=e._createHelper(a)}(),ne.mode.CTRGladman=(x=ne.lib.BlockCipherMode.extend(),P=x.Encryptor=x.extend({processBlock:function(t,e){var n,i=this._cipher,r=i.blockSize,a=this._iv,s=this._counter;a&&(s=this._counter=a.slice(0),this._iv=void 0),0===((n=s)[0]=se(n[0]))&&(n[1]=se(n[1]));var o=s.slice(0);i.encryptBlock(o,0);for(var u=0;u<r;u++)t[e+u]^=o[u]}}),x.Decryptor=P,x),S=(T=ne).lib.StreamCipher,w=T.algo,C=[],E=[],k=[],A=w.Rabbit=S.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(n=this._b=0;n<4;n++)ae.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(e){var a=e.words,s=a[0],o=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=u>>>16|4294901760&l,h=l<<16|65535&u;r[0]^=u,r[1]^=c,r[2]^=l,r[3]^=h,r[4]^=u,r[5]^=c,r[6]^=l,r[7]^=h;for(n=0;n<4;n++)ae.call(this)}},_doProcessBlock:function(t,e){var n=this._X;ae.call(this),C[0]=n[0]^n[5]>>>16^n[3]<<16,C[1]=n[2]^n[7]>>>16^n[5]<<16,C[2]=n[4]^n[1]>>>16^n[7]<<16,C[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)C[i]=16711935&(C[i]<<8|C[i]>>>24)|4278255360&(C[i]<<24|C[i]>>>8),t[e+i]^=C[i]},blockSize:4,ivSize:2}),T.Rabbit=S._createHelper(A),ne.mode.CTR=(b=ne.lib.BlockCipherMode.extend(),_=b.Encryptor=b.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=this._iv,a=this._counter;r&&(a=this._counter=r.slice(0),this._iv=void 0);var s=a.slice(0);n.encryptBlock(s,0),a[i-1]=a[i-1]+1|0;for(var o=0;o<i;o++)t[e+o]^=s[o]}}),b.Decryptor=_,b),f=(d=ne).lib.StreamCipher,p=d.algo,m=[],g=[],v=[],y=p.RabbitLegacy=f.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]],r=this._b=0;r<4;r++)re.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var a=e.words,s=a[0],o=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=u>>>16|4294901760&l,h=l<<16|65535&u;i[0]^=u,i[1]^=c,i[2]^=l,i[3]^=h,i[4]^=u,i[5]^=c,i[6]^=l,i[7]^=h;for(r=0;r<4;r++)re.call(this)}},_doProcessBlock:function(t,e){var n=this._X;re.call(this),m[0]=n[0]^n[5]>>>16^n[3]<<16,m[1]=n[2]^n[7]>>>16^n[5]<<16,m[2]=n[4]^n[1]>>>16^n[7]<<16,m[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)m[i]=16711935&(m[i]<<8|m[i]>>>24)|4278255360&(m[i]<<24|m[i]>>>8),t[e+i]^=m[i]},blockSize:4,ivSize:2}),d.RabbitLegacy=f._createHelper(y),ne.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},ne;function re(){for(var t=this._X,e=this._C,n=0;n<8;n++)g[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<g[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<g[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<g[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<g[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<g[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<g[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<g[6]>>>0?1:0)|0,this._b=e[7]>>>0<g[7]>>>0?1:0;for(n=0;n<8;n++){var i=t[n]+e[n],r=65535&i,a=i>>>16,s=((r*r>>>17)+r*a>>>15)+a*a,o=((4294901760&i)*i|0)+((65535&i)*i|0);v[n]=s^o}t[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,t[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,t[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,t[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,t[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,t[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,t[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,t[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}function ae(){for(var t=this._X,e=this._C,n=0;n<8;n++)E[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<E[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<E[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<E[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<E[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<E[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<E[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<E[6]>>>0?1:0)|0,this._b=e[7]>>>0<E[7]>>>0?1:0;for(n=0;n<8;n++){var i=t[n]+e[n],r=65535&i,a=i>>>16,s=((r*r>>>17)+r*a>>>15)+a*a,o=((4294901760&i)*i|0)+((65535&i)*i|0);k[n]=s^o}t[0]=k[0]+(k[7]<<16|k[7]>>>16)+(k[6]<<16|k[6]>>>16)|0,t[1]=k[1]+(k[0]<<8|k[0]>>>24)+k[7]|0,t[2]=k[2]+(k[1]<<16|k[1]>>>16)+(k[0]<<16|k[0]>>>16)|0,t[3]=k[3]+(k[2]<<8|k[2]>>>24)+k[1]|0,t[4]=k[4]+(k[3]<<16|k[3]>>>16)+(k[2]<<16|k[2]>>>16)|0,t[5]=k[5]+(k[4]<<8|k[4]>>>24)+k[3]|0,t[6]=k[6]+(k[5]<<16|k[5]>>>16)+(k[4]<<16|k[4]>>>16)|0,t[7]=k[7]+(k[6]<<8|k[6]>>>24)+k[5]|0}function se(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,i=255&t;255===e?(e=0,255===n?(n=0,255===i?i=0:++i):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=i}else t+=1<<24;return t}function oe(t,e,n,i){var r=this._iv;if(r){var a=r.slice(0);this._iv=void 0}else a=this._prevBlock;i.encryptBlock(a,0);for(var s=0;s<n;s++)t[e+s]^=a[s]}function ue(t,e,n){var i=this._iv;if(i){var r=i;this._iv=void 0}else r=this._prevBlock;for(var a=0;a<n;a++)t[e+a]^=r[a]}function le(t){return"string"==typeof t?tt:J}function ce(t,e,n){return t^e^n}function he(t,e,n){return t&e|~t&n}function de(t,e,n){return(t|~e)^n}function fe(t,e,n){return t&n|e&~n}function pe(t,e,n){return t^(e|~n)}function me(t,e){return t<<e|t>>>32-e}function ge(t){return t<<8&4278255360|t>>>8&16711935}}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.axios=e():t.axios=e()}(this,function(){return r={},n.m=i=[function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(t){var e=new s(t),n=a(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n}var r=n(2),a=n(3),s=n(5),o=n(6),u=i(o);u.Axios=s,u.create=function(t){return i(r.merge(o,t))},u.Cancel=n(23),u.CancelToken=n(24),u.isCancel=n(20),u.all=function(t){return Promise.all(t)},u.spread=n(25),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";function a(t){return"[object Array]"===l.call(t)}function i(t){return null!==t&&"object"==typeof t}function r(t){return"[object Function]"===l.call(t)}function s(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var o=n(3),u=n(4),l=Object.prototype.toString;t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===l.call(t)},isBuffer:u,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:i,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===l.call(t)},isFile:function(t){return"[object File]"===l.call(t)},isBlob:function(t){return"[object Blob]"===l.call(t)},isFunction:r,isStream:function(t){return i(t)&&r(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function n(){function t(t,e){"object"==typeof i[e]&&"object"==typeof t?i[e]=n(i[e],t):i[e]=t}for(var i={},e=0,r=arguments.length;e<r;e++)s(arguments[e],t);return i},extend:function(n,t,i){return s(t,function(t,e){n[e]=i&&"function"==typeof t?o(t,i):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){"use strict";t.exports=function(n,i){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(i,t)}}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var i=n(6),a=n(2),s=n(17),o=n(18);r.prototype.request=function(t){"string"==typeof t&&(t=a.merge({url:arguments[0]},arguments[1])),(t=a.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},a.forEach(["delete","get","head","options"],function(n){r.prototype[n]=function(t,e){return this.request(a.merge(e||{},{method:n,url:t}))}}),a.forEach(["post","put","patch"],function(i){r.prototype[i]=function(t,e,n){return this.request(a.merge(n||{},{method:i,url:t,data:e}))}}),t.exports=r},function(t,e,n){"use strict";function i(t,e){!a.isUndefined(t)&&a.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r,a=n(2),s=n(7),o={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:("undefined"==typeof XMLHttpRequest&&"undefined"==typeof process||(r=n(8)),r),transformRequest:[function(t,e){return s(e,"Content-Type"),a.isFormData(t)||a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)?t:a.isArrayBufferView(t)?t.buffer:a.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):a.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],function(t){u.headers[t]={}}),a.forEach(["post","put","patch"],function(t){u.headers[t]=a.merge(o)}),t.exports=u},function(t,e,n){"use strict";var r=n(2);t.exports=function(n,i){r.forEach(n,function(t,e){e!==i&&e.toUpperCase()===i.toUpperCase()&&(n[i]=t,delete n[e])})}},function(t,e,d){"use strict";var f=d(2),p=d(9),m=d(12),g=d(13),v=d(14),y=d(10),b="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||d(15);t.exports=function(h){return new Promise(function(n,i){var r=h.data,a=h.headers;f.isFormData(r)&&delete a["Content-Type"];var s=new XMLHttpRequest,t="onreadystatechange",o=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in s||v(h.url)||(s=new window.XDomainRequest,t="onload",o=!0,s.onprogress=function(){},s.ontimeout=function(){}),h.auth){var e=h.auth.username||"",u=h.auth.password||"";a.Authorization="Basic "+b(e+":"+u)}if(s.open(h.method.toUpperCase(),m(h.url,h.params,h.paramsSerializer),!0),s.timeout=h.timeout,s[t]=function(){if(s&&(4===s.readyState||o)&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in s?g(s.getAllResponseHeaders()):null,e={data:h.responseType&&"text"!==h.responseType?s.response:s.responseText,status:1223===s.status?204:s.status,statusText:1223===s.status?"No Content":s.statusText,headers:t,config:h,request:s};p(n,i,e),s=null}},s.onerror=function(){i(y("Network Error",h,null,s)),s=null},s.ontimeout=function(){i(y("timeout of "+h.timeout+"ms exceeded",h,"ECONNABORTED",s)),s=null},f.isStandardBrowserEnv()){var l=d(16),c=(h.withCredentials||v(h.url))&&h.xsrfCookieName?l.read(h.xsrfCookieName):void 0;c&&(a[h.xsrfHeaderName]=c)}if("setRequestHeader"in s&&f.forEach(a,function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete a[e]:s.setRequestHeader(e,t)}),h.withCredentials&&(s.withCredentials=!0),h.responseType)try{s.responseType=h.responseType}catch(n){if("json"!==h.responseType)throw n}"function"==typeof h.onDownloadProgress&&s.addEventListener("progress",h.onDownloadProgress),"function"==typeof h.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(t){s&&(s.abort(),i(t),s=null)}),void 0===r&&(r=null),s.send(r)})}},function(t,e,n){"use strict";var r=n(10);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var s=n(11);t.exports=function(t,e,n,i,r){var a=new Error(t);return s(a,e,n,i,r)}},function(t,e){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var s=n(2);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(s.isURLSearchParams(e))i=e.toString();else{var r=[];s.forEach(e,function(t,e){null!=t&&(s.isArray(t)?e+="[]":t=[t],s.forEach(t,function(t){s.isDate(t)?t=t.toISOString():s.isObject(t)&&(t=JSON.stringify(t)),r.push(a(e)+"="+a(t))}))}),i=r.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var a=n(2),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,r={};return t&&a.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=a.trim(t.substr(0,i)).toLowerCase(),n=a.trim(t.substr(i+1)),e){if(r[e]&&0<=s.indexOf(e))return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}}),r}},function(t,e,n){"use strict";var i,r,a,s=n(2);function o(t){var e=t;return r&&(a.setAttribute("href",e),e=a.href),a.setAttribute("href",e),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}t.exports=s.isStandardBrowserEnv()?(r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),i=o(window.location.href),function(t){var e=s.isString(t)?o(t):t;return e.protocol===i.protocol&&e.host===i.host}):function(){return!0}},function(t,e){"use strict";function o(){this.message="String contains an invalid character"}(o.prototype=new Error).code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),r="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|a)||(s="=",a%1);r+=s.charAt(63&e>>8-a%1*8)){if(255<(n=i.charCodeAt(a+=.75)))throw new o;e=e<<8|n}return r}},function(t,e,n){"use strict";var o=n(2);t.exports=o.isStandardBrowserEnv()?{write:function(t,e,n,i,r,a){var s=[];s.push(t+"="+encodeURIComponent(e)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(i)&&s.push("path="+i),o.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(2);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=i},function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(2),a=n(19),s=n(20),o=n(6),u=n(21),l=n(22);t.exports=function(e){return i(e),e.baseURL&&!u(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return i(e),t.data=a(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(i(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,n){"use strict";var i=n(2);t.exports=function(e,n,t){return i.forEach(t,function(t){e=t(e,n)}),e}},function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,n){"use strict";function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n(23);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},t.exports=i},function(t,e){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}}],n.c=r,n.p="",n(0);function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var i,r}),function(e,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("jquery")):e.jQueryBridget=n(e,e.jQuery)}(window,function(t,e){"use strict";function n(l,r,c){(c=c||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[l]=function(t){if("string"!=typeof t)return i=t,this.each(function(t,e){var n=c.data(e,l);n?(n.option(i),n._init()):(n=new r(e,i),c.data(e,l,n))}),this;var e,a,s,o,u,i,n=h.call(arguments,1);return s=n,u="$()."+l+'("'+(a=t)+'")',(e=this).each(function(t,e){var n=c.data(e,l);if(n){var i=n[a];if(i&&"_"!=a.charAt(0)){var r=i.apply(n,s);o=void 0===o?r:o}else d(u+" is not a valid method")}else d(l+" not initialized. Cannot call methods, i.e. "+u)}),void 0!==o?o:e},i(c))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var h=Array.prototype.slice,r=t.console,d=void 0===r?function(){}:function(t){r.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var a=n[r];i&&i[a]&&(this.off(t,a),delete i[a]),a.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var n=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(t,e){return t[n](e)}}),function(e,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("desandro-matches-selector")):e.fizzyUIUtils=n(e,e.matchesSelector)}(window,function(l,a){var c={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;c.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},c.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},c.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,a(t,e))return t},c.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.filterFindElements=function(t,i){t=c.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void r.push(t);a(t,i)&&r.push(t);for(var e=t.querySelectorAll(i),n=0;n<e.length;n++)r.push(e[n])}}),r},c.debounceMethod=function(t,e,i){i=i||100;var r=t.prototype[e],a=e+"Timeout";t.prototype[e]=function(){var t=this[a];clearTimeout(t);var e=arguments,n=this;this[a]=setTimeout(function(){r.apply(n,e),delete n[a]},i)}},c.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},c.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var h=l.console;return c.htmlInit=function(o,u){c.docReady(function(){var t=c.toDashed(u),r="data-"+t,e=document.querySelectorAll("["+r+"]"),n=document.querySelectorAll(".js-"+t),i=c.makeArray(e).concat(c.makeArray(n)),a=r+"-options",s=l.jQuery;i.forEach(function(e){var t,n=e.getAttribute(r)||e.getAttribute(a);try{t=n&&JSON.parse(n)}catch(t){return void(h&&h.error("Error parsing "+r+" on "+e.className+": "+t))}var i=new o(e,t);s&&s.data(e,u,i)})})},c}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(t,e){return i(n,t,e)}):"object"==typeof module&&module.exports?module.exports=i(n,require("ev-emitter"),require("fizzy-ui-utils")):n.InfiniteScroll=i(n,n.EvEmitter,n.fizzyUIUtils)}(window,function(e,t,r){function a(t,e){var n=r.getQueryElement(t);if(n){if((t=n).infiniteScrollGUID){var i=o[t.infiniteScrollGUID];return i.option(e),i}this.element=t,this.options=r.extend({},a.defaults),this.option(e),s&&(this.$element=s(this.element)),this.create()}else console.error("Bad element for InfiniteScroll: "+(n||t))}var s=e.jQuery,o={};a.defaults={},a.create={},a.destroy={};var n=a.prototype;r.extend(n,t.prototype);var i=0;n.create=function(){var t=this.guid=++i;if(this.element.infiniteScrollGUID=t,(o[t]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var e in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),a.create)a.create[e].call(this);else console.error("Disabling InfiniteScroll")},n.option=function(t){r.extend(this.options,t)},n.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},n.dispatchEvent=function(t,e,n){this.log(t,n);var i=e?[e].concat(n):n;if(this.emitEvent(t,i),s&&this.$element){var r=t+=".infiniteScroll";if(e){var a=s.Event(e);a.type=t,r=a}this.$element.trigger(r,n)}};var u={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,n){return n.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};n.log=function(t,e){if(this.options.debug){var n="[InfiniteScroll] "+t,i=u[t];i&&(n+=". "+i.apply(this,e)),console.log(n)}},n.updateMeasurements=function(){this.windowHeight=e.innerHeight;var t=this.element.getBoundingClientRect();this.top=t.top+e.pageYOffset},n.updateScroller=function(){var t=this.options.elementScroll;if(t){if(this.scroller=!0===t?this.element:r.getQueryElement(t),!this.scroller)throw"Unable to find elementScroll: "+t}else this.scroller=e},n.updateGetPath=function(){var t=this.options.path;if(t){var e=typeof t;if("function"!=e)return"string"==e&&t.match("{{#}}")?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t);this.getPath=t}else console.error("InfiniteScroll path option required. Set as: "+t)},n.updateGetPathTemplate=function(e){this.getPath=function(){var t=this.pageIndex+1;return e.replace("{{#}}",t)}.bind(this);var t=e.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),n=new RegExp(t),i=location.href.match(n);i&&(this.pageIndex=parseInt(i[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var l=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return n.updateGetPathSelector=function(t){var e=document.querySelector(t);if(e){for(var n,i,r=e.getAttribute("href"),a=0;r&&a<l.length;a++){i=l[a];var s=r.match(i);if(s){n=s.slice(1);break}}return n?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return n[0]+t+n[2]}.bind(this),this.pageIndex=parseInt(n[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+r)}console.error("Bad InfiniteScroll path option. Next link not found: "+t)},n.updateGetAbsolutePath=function(){var t=this.getPath();if(t.match(/^http/)||t.match(/^\//))this.getAbsolutePath=this.getPath;else{var e=location.pathname;if(t.match(/^\?/))this.getAbsolutePath=function(){return e+this.getPath()};else{var n=e.substring(0,e.lastIndexOf("/"));this.getAbsolutePath=function(){return n+"/"+this.getPath()}}}},a.create.hideNav=function(){var t=r.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},a.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},n.destroy=function(){for(var t in this.allOff(),a.destroy)a.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete o[this.guid],s&&this.$element&&s.removeData(this.element,"infiniteScroll")},a.throttle=function(i,r){var a,s;return r=r||200,function(){var t=+new Date,e=arguments,n=function(){a=t,i.apply(this,e)}.bind(this);a&&t<a+r?(clearTimeout(s),s=setTimeout(n,r)):n()}},a.data=function(t){var e=(t=r.getQueryElement(t))&&t.infiniteScrollGUID;return e&&o[e]},a.setJQuery=function(t){s=t},r.htmlInit(a,"infinite-scroll"),n._init=function(){},s&&s.bridget&&s.bridget("infiniteScroll",a),a}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("./core")):n(e,e.InfiniteScroll)}(window,function(i,r){function s(t){for(var e=document.createDocumentFragment(),n=0;t&&n<t.length;n++)e.appendChild(t[n]);return e}function a(t,e){for(var n=t.attributes,i=0;i<n.length;i++){var r=n[i];e.setAttribute(r.name,r.value)}}var t=r.prototype;return r.defaults.loadOnScroll=!0,r.defaults.checkLastPage=!0,r.defaults.responseType="document",r.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},t.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},t.loadNextPage=function(){if(!this.isLoading&&this.canLoad){var e=this.getAbsolutePath();this.isLoading=!0;var t=function(t){this.onPageLoad(t,e)}.bind(this),n=function(t){this.onPageError(t,e)}.bind(this),i=function(t){this.lastPageReached(t,e)}.bind(this);r=e,a=this.options.responseType,s=t,o=n,u=i,(l=new XMLHttpRequest).open("GET",r,!0),l.responseType=a||"",l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.onload=function(){if(200==l.status)s(l.response);else if(204==l.status)u(l.response);else{var t=new Error(l.statusText);o(t)}},l.onerror=function(){var t=new Error("Network error requesting "+r);o(t)},l.send(),this.dispatchEvent("request",null,[e])}var r,a,s,o,u,l},t.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},t.appendNextPage=function(t,e){var n=this.options.append;if("document"==this.options.responseType&&n){var i=t.querySelectorAll(n),r=s(i),a=function(){this.appendItems(i,r),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,i])}.bind(this);this.options.outlayer?this.appendOutlayerItems(r,a):a()}},t.appendItems=function(t,e){t&&t.length&&(function(t){for(var e=t.querySelectorAll("script"),n=0;n<e.length;n++){var i=e[n],r=document.createElement("script");a(i,r),r.innerHTML=i.innerHTML,i.parentNode.replaceChild(r,i)}}(e=e||s(t)),this.element.appendChild(e))},t.appendOutlayerItems=function(t,e){var n=r.imagesLoaded||i.imagesLoaded;return n?void n(t,e):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},t.onAppendOutlayer=function(t,e,n){this.options.outlayer.appended(n)},t.checkLastPage=function(t,e){var n=this.options.checkLastPage;if(n){var i,r=this.options.path;if("function"==typeof r)if(!this.getPath())return void this.lastPageReached(t,e);if("string"==typeof n?i=n:this.isPathSelector&&(i=r),i&&t.querySelector)t.querySelector(i)||this.lastPageReached(t,e)}},t.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},t.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},r.create.prefill=function(){if(this.options.prefill){var t=this.options.append;if(!t)return void console.error("append option required for prefill. Set as :"+t);this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()}},t.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=0<=t,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},t.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},t.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},r}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(t,e){return i(n,t,e)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(n,t,e){var i=t.prototype;return t.defaults.scrollThreshold=400,t.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold;!t&&0!==t||this.enableScrollWatch()},t.destroy.scrollWatch=function(){this.disableScrollWatch()},i.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},i.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},i.bindScrollWatchEvents=function(t){var e=t?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.pageScrollHandler),n[e]("resize",this.resizeHandler)},i.onPageScroll=t.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),i.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},i.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(n.pageYOffset+this.windowHeight)},i.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},i.onResize=function(){this.updateMeasurements()},e.debounceMethod(t,"onResize",150),t}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(t,e){return i(n,t,e)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(i,t,e){var n=t.prototype;t.defaults.history="replace";var a=document.createElement("a");return t.create.history=function(){if(this.options.history)return a.href=this.getAbsolutePath(),(a.origin||a.protocol+"//"+a.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+a.origin+" on "+location.origin+" . History behavior disabled.")},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(t){var e=t?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.scrollHistoryHandler),i[e]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},t.destroy.history=n.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,n){if(n&&n.length){var i=n[0],r=this.getElementScrollY(i);a.href=e,this.scrollPages.push({top:r,path:a.href,title:t.title})}},n.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},n.getElementWindowScrollY=function(t){return t.getBoundingClientRect().top+i.pageYOffset},n.getElementElementScrollY=function(t){return t.offsetTop-this.top},n.onScrollHistory=function(){for(var t,e,n=this.getScrollViewY(),i=0;i<this.scrollPages.length;i++){var r=this.scrollPages[i];if(r.top>=n)break;t=i,e=r}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},e.debounceMethod(t,"onScrollHistory",150),n.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:i.pageYOffset+this.windowHeight/2},n.setHistory=function(t,e){var n=this.options.history;n&&history[n+"State"]&&(history[n+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var t=this.scrollPageIndex;if(0!==t){var e=this.scrollPages[t],n=i.pageYOffset-e.top+this.top;this.destroyHistory(),scrollTo(0,n)}},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},t}),function(t,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(t,e){return n(0,t,e)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){function i(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=n.getQueryElement(this.options.button);t&&(this.button=new i(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},i.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},i.prototype.enable=function(){this.element.removeAttribute("disabled")},i.prototype.disable=function(){this.element.disabled="disabled"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=i,e}),function(t,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(t,e){return n(0,t,e)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){function i(t){a(t,"none")}function r(t){a(t,"block")}function a(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=n.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){r(this.statusElement),this.hideStatusEventElements(),r(this.statusEventElements[t])},s.hideAllStatus=function(){i(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements){i(this.statusEventElements[t])}},e}),function(t){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(t){return t})),function(e,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("ev-emitter")):e.imagesLoaded=n(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function a(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e,n){if(!(this instanceof s))return new s(t,e,n);var i,r=t;return"string"==typeof t&&(r=document.querySelectorAll(t)),r?(this.elements=(i=r,Array.isArray(i)?i:"object"==typeof i&&"number"==typeof i.length?l.call(i):[i]),this.options=a({},this.options),"function"==typeof e?n=e:a(this.options,e),n&&this.on("always",n),this.getImages(),o&&(this.jqDeferred=new o.Deferred),void setTimeout(this.check.bind(this))):void u.error("Bad element for imagesLoaded "+(r||t))}function n(t){this.img=t}function i(t,e){this.url=t,this.element=e,this.img=new Image}var o=e.jQuery,u=e.console,l=Array.prototype.slice;(s.prototype=Object.create(t.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var a=t.querySelectorAll(this.options.background);for(i=0;i<a.length;i++){var s=a[i];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,t),i=n.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new n(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var n=new i(t,e);this.images.push(n)},s.prototype.check=function(){function e(t,e,n){setTimeout(function(){i.progress(t,e,n)})}var i=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},s.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&u&&u.log("progress: "+n,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},(n.prototype=Object.create(t.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},n.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((o=t).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(o(this))})})(),s}),function(h){(function(){if("undefined"!=typeof module&&module.exports)return function(t){module.exports=t()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(t){window.MobileDetect=t()};throw new Error("unknown environment")})()(function(){"use strict";function e(t,e){return null!=t&&null!=e&&t.toLowerCase()===e.toLowerCase()}function n(t,e){var n,i,r=t.length;if(!r||!e)return!1;for(n=e.toLowerCase(),i=0;i<r;++i)if(n===t[i].toLowerCase())return!0;return!1}function o(t){for(var e in t)c.call(t,e)&&(t[e]=new RegExp(t[e],"i"))}function s(t,e){this.ua=(t||"").substr(0,500),this._cache={},this.maxPhoneWidth=e||600}var u,l={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},c=Object.prototype.hasOwnProperty;return l.FALLBACK_PHONE="UnknownPhone",l.FALLBACK_TABLET="UnknownTablet",l.FALLBACK_MOBILE="UnknownMobile",u="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},function(){var t,e,n,i,r,a,s=l.mobileDetectRules;for(t in s.props)if(c.call(s.props,t)){for(e=s.props[t],u(e)||(e=[e]),r=e.length,i=0;i<r;++i)0<=(a=(n=e[i]).indexOf("[VER]"))&&(n=n.substring(0,a)+"([\\w._\\+]+)"+n.substring(a+5)),e[i]=new RegExp(n,"i");s.props[t]=e}o(s.oss),o(s.phones),o(s.tablets),o(s.uas),o(s.utils),s.oss0={WindowsPhoneOS:s.oss.WindowsPhoneOS,WindowsMobileOS:s.oss.WindowsMobileOS}}(),l.findMatch=function(t,e){for(var n in t)if(c.call(t,n)&&t[n].test(e))return n;return null},l.findMatches=function(t,e){var n=[];for(var i in t)c.call(t,i)&&t[i].test(e)&&n.push(i);return n},l.getVersionStr=function(t,e){var n,i,r,a,s=l.mobileDetectRules.props;if(c.call(s,t))for(r=(n=s[t]).length,i=0;i<r;++i)if(null!==(a=n[i].exec(e)))return a[1];return null},l.getVersion=function(t,e){var n=l.getVersionStr(t,e);return n?l.prepareVersionNo(n):NaN},l.prepareVersionNo=function(t){var e;return 1===(e=t.split(/[a-z._ \/\-]/i)).length&&(t=e[0]),1<e.length&&(t=e[0]+".",e.shift(),t+=e.join("")),Number(t)},l.isMobileFallback=function(t){return l.detectMobileBrowsers.fullPattern.test(t)||l.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},l.isTabletFallback=function(t){return l.detectMobileBrowsers.tabletPattern.test(t)},l.prepareDetectionCache=function(t,e,n){var i,r,a;if(t.mobile===h)return(r=l.findMatch(l.mobileDetectRules.tablets,e))?(t.mobile=t.tablet=r,void(t.phone=null)):(i=l.findMatch(l.mobileDetectRules.phones,e))?(t.mobile=t.phone=i,void(t.tablet=null)):void(l.isMobileFallback(e)?(a=s.isPhoneSized(n))===h?(t.mobile=l.FALLBACK_MOBILE,t.tablet=t.phone=null):a?(t.mobile=t.phone=l.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=l.FALLBACK_TABLET,t.phone=null):l.isTabletFallback(e)?(t.mobile=t.tablet=l.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null)},l.mobileGrade=function(t){var e=null!==t.mobile();return t.os("iOS")&&4.3<=t.version("iPad")||t.os("iOS")&&3.1<=t.version("iPhone")||t.os("iOS")&&3.1<=t.version("iPod")||2.1<t.version("Android")&&t.is("Webkit")||7<=t.version("Windows Phone OS")||t.is("BlackBerry")&&6<=t.version("BlackBerry")||t.match("Playbook.*Tablet")||1.4<=t.version("webOS")&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&12<=t.version("Firefox")||t.is("Chrome")&&t.is("AndroidOS")&&4<=t.version("Android")||t.is("Skyfire")&&4.1<=t.version("Skyfire")&&t.is("AndroidOS")&&2.3<=t.version("Android")||t.is("Opera")&&11<t.version("Opera Mobi")&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&2<=t.version("Bada")||(t.is("UC Browser")||t.is("Dolfin"))&&2.3<=t.version("Android")||t.match("Kindle Fire")||t.is("Kindle")&&3<=t.version("Kindle")||t.is("AndroidOS")&&t.is("NookTablet")||11<=t.version("Chrome")&&!e||5<=t.version("Safari")&&!e||4<=t.version("Firefox")&&!e||7<=t.version("MSIE")&&!e||10<=t.version("Opera")&&!e?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&5<=t.version("BlackBerry")&&t.version("BlackBerry")<6||5<=t.version("Opera Mini")&&t.version("Opera Mini")<=6.5&&(2.3<=t.version("Android")||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||11<=t.version("Opera Mobi")&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile"),"C")},l.detectOS=function(t){return l.findMatch(l.mobileDetectRules.oss0,t)||l.findMatch(l.mobileDetectRules.oss,t)},l.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},s.prototype={constructor:s,mobile:function(){return l.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return l.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return l.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===h&&(this._cache.userAgent=l.findMatch(l.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===h&&(this._cache.userAgents=l.findMatches(l.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===h&&(this._cache.os=l.detectOS(this.ua)),this._cache.os},version:function(t){return l.getVersion(t,this.ua)},versionStr:function(t){return l.getVersionStr(t,this.ua)},is:function(t){return n(this.userAgents(),t)||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||n(l.findMatches(l.mobileDetectRules.utils,this.ua),t)},match:function(t){return t instanceof RegExp||(t=new RegExp(t,"i")),t.test(this.ua)},isPhoneSized:function(t){return s.isPhoneSized(t||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===h&&(this._cache.grade=l.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?s.isPhoneSized=function(t){return t<0?h:l.getDeviceSmallerSide()<=t}:s.isPhoneSized=function(){},s._impl=l,s.version="1.4.0 2017-12-09",s})}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("global/window"),require("global/document")):"function"==typeof define&&define.amd?define(["global/window","global/document"],e):t.videojs=e(t.window,t.document)}(this,function(y,d){y=y&&y.hasOwnProperty("default")?y.default:y,d=d&&d.hasOwnProperty("default")?d.default:d;function f(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return(s=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&a(r,n.prototype),r}).apply(null,arguments)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e(t,e){return e=e||t.slice(0),t.raw=e,t}var u=[],m=function e(n){function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r("log",a,e)}var r,s,o,a="info";return s=n,r=function(t,e,n){var i=o.levels[e],r=new RegExp("^("+i+")$");if("log"!==t&&n.unshift(t.toUpperCase()+":"),n.unshift(s+":"),u&&u.push([].concat(n)),y.console){var a=y.console[t];a||"debug"!==t||(a=y.console.info||y.console.log),a&&i&&r.test(t)&&a[Array.isArray(n)?"apply":"call"](y.console,n)}},(o=i).createLogger=function(t){return e(n+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:a},i.level=function(t){if("string"==typeof t){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');a=t}return a},(i.history=function(){return u?[].concat(u):[]}).filter=function(e){return(u||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},i.history.clear=function(){u&&(u.length=0)},i.history.disable=function(){null!==u&&(u.length=0,u=null)},i.history.enable=function(){null===u&&(u=[])},i.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("error",a,e)},i.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("warn",a,e)},i.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("debug",a,e)},i}("VIDEOJS"),g=m.createLogger,v=function(t){for(var e="",n=0;n<arguments.length;n++)e+=t[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return e},n=Object.prototype.toString,r=function(t){return l(t)?Object.keys(t):[]};function o(e,n){r(e).forEach(function(t){return n(e[t],t)})}function b(n){for(var t=arguments.length,e=new Array(1<t?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[n].concat(e)):(e.forEach(function(t){t&&o(t,function(t,e){n[e]=t})}),n)}function l(t){return!!t&&"object"==typeof t}function c(t){return l(t)&&"[object Object]"===n.call(t)&&t.constructor===Object}function i(t,e){if(!t||!e)return"";if("function"!=typeof y.getComputedStyle)return"";var n=y.getComputedStyle(t);return n?n[e]:""}function h(){var t=e(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return h=function(){return t},t}function _(t){return"string"==typeof t&&/\S/.test(t)}function T(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function S(){return d===y.document}function w(t){return l(t)&&1===t.nodeType}function C(){try{return y.parent!==y.self}catch(t){return!0}}function t(i){return function(t,e){if(!_(t))return d[i](null);_(e)&&(e=d.querySelector(e));var n=w(e)?e:d;return n[i]&&n[i](t)}}function E(t,n,e,i){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===e&&(e={});var r=d.createElement(t);return Object.getOwnPropertyNames(n).forEach(function(t){var e=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(m.warn(v(h(),t,e)),r.setAttribute(t,e)):"textContent"===t?k(r,e):r[t]=e}),Object.getOwnPropertyNames(e).forEach(function(t){r.setAttribute(t,e[t])}),i&&q(r,i),r}function k(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function A(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function x(t,e){return T(e),t.classList?t.classList.contains(e):new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)}function P(t,e){return t.classList?t.classList.add(e):x(t,e)||(t.className=(t.className+" "+e).trim()),t}function O(t,e){return t.classList?t.classList.remove(e):(T(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function I(t,e,n){var i=x(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return(n?P:O)(t,e),t}function $(n,i){Object.getOwnPropertyNames(i).forEach(function(t){var e=i[t];null==e||!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})}function M(t){var e={};if(t&&t.attributes&&0<t.attributes.length)for(var n=t.attributes,i=n.length-1;0<=i;i--){var r=n[i].name,a=n[i].value;"boolean"!=typeof t[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(a=null!==a),e[r]=a}return e}function D(t,e){return t.getAttribute(e)}function L(t,e,n){t.setAttribute(e,n)}function U(t,e){t.removeAttribute(e)}function R(){d.body.focus(),d.onselectstart=function(){return!1}}function B(){d.onselectstart=function(){return!0}}function N(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(i(t,"height"))),n.width||(n.width=parseFloat(i(t,"width"))),n}}function H(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=d.documentElement,i=d.body,r=n.clientLeft||i.clientLeft||0,a=y.pageXOffset||i.scrollLeft,s=e.left+a-r,o=n.clientTop||i.clientTop||0,u=y.pageYOffset||i.scrollTop,l=e.top+u-o;return{left:Math.round(s),top:Math.round(l)}}function j(t,e){var n={},i=H(t),r=t.offsetWidth,a=t.offsetHeight,s=i.top,o=i.left,u=e.pageY,l=e.pageX;return e.changedTouches&&(l=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-u+a)/a)),n.x=Math.max(0,Math.min(1,(l-o)/r)),n}function F(t){return l(t)&&3===t.nodeType}function G(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function V(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),w(t)||F(t)?t:"string"==typeof t&&/\S/.test(t)?d.createTextNode(t):void 0}).filter(function(t){return t})}function q(e,t){return V(t).forEach(function(t){return e.appendChild(t)}),e}function W(t,e){return q(G(t),e)}function z(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||0===t.button&&1===t.buttons}var X=t("querySelector"),K=t("querySelectorAll"),Y=Object.freeze({isReal:S,isEl:w,isInFrame:C,createEl:E,textContent:k,prependTo:A,hasClass:x,addClass:P,removeClass:O,toggleClass:I,setAttributes:$,getAttributes:M,getAttribute:D,setAttribute:L,removeAttribute:U,blockTextSelection:R,unblockTextSelection:B,getBoundingClientRect:N,findPosition:H,getPointerPosition:j,isTextNode:F,emptyEl:G,normalizeContent:V,appendContent:q,insertContent:W,isSingleLeftClick:z,$:X,$$:K}),Q=1;function J(){return Q++}var Z={},tt="vdata"+(new Date).getTime();function et(t){var e=t[tt];return e=e||(t[tt]=J()),Z[e]||(Z[e]={}),Z[e]}function nt(t){var e=t[tt];return e&&Object.getOwnPropertyNames(Z[e]).length}function it(t){var e=t[tt];if(e){delete Z[e];try{delete t[tt]}catch(e){t.removeAttribute?t.removeAttribute(tt):t[tt]=null}}}function rt(t,e){var n=et(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&it(t)}function at(e,n,t,i){t.forEach(function(t){e(n,t,i)})}function st(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||y.event;for(var r in t={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||d),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var a=d.documentElement,s=d.body;t.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var ot=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){ot=!0}});y.addEventListener("test",null,t),y.removeEventListener("test",null,t)}catch(t){}}();var ut=["touchstart","touchmove"];function lt(s,t,e){if(Array.isArray(t))return at(lt,s,t,e);var o=et(s);if(o.handlers||(o.handlers={}),o.handlers[t]||(o.handlers[t]=[]),e.guid||(e.guid=J()),o.handlers[t].push(e),o.dispatcher||(o.disabled=!1,o.dispatcher=function(t,e){if(!o.disabled){t=st(t);var n=o.handlers[t.type];if(n)for(var i=n.slice(0),r=0,a=i.length;r<a&&!t.isImmediatePropagationStopped();r++)try{i[r].call(s,t,e)}catch(t){m.error(t)}}}),1===o.handlers[t].length)if(s.addEventListener){var n=!1;ot&&-1<ut.indexOf(t)&&(n={passive:!0}),s.addEventListener(t,o.dispatcher,n)}else s.attachEvent&&s.attachEvent("on"+t,o.dispatcher)}function ct(t,e,n){if(nt(t)){var i=et(t);if(i.handlers){if(Array.isArray(e))return at(ct,t,e,n);function r(t,e){i.handlers[e]=[],rt(t,e)}if(void 0!==e){var a=i.handlers[e];if(a)if(n){if(n.guid)for(var s=0;s<a.length;s++)a[s].guid===n.guid&&a.splice(s--,1);rt(t,e)}else r(t,e)}else for(var o in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},o)&&r(t,o)}}}function ht(t,e,n){var i=nt(t)?et(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=st(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)ht.call(null,r,e,n);else if(!r&&!e.defaultPrevented){var a=et(e.target);e.target[e.type]&&(a.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function dt(t,e,n){if(Array.isArray(e))return at(dt,t,e,n);function i(){ct(t,e,i),n.apply(this,arguments)}i.guid=n.guid=n.guid||J(),lt(t,e,i)}var ft,pt=Object.freeze({fixEvent:st,on:lt,off:ct,trigger:ht,one:dt}),mt=!1,gt=function(){if(S()&&!1!==ft.options.autoSetup){var t=Array.prototype.slice.call(d.getElementsByTagName("video")),e=Array.prototype.slice.call(d.getElementsByTagName("audio")),n=Array.prototype.slice.call(d.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&0<i.length)for(var r=0,a=i.length;r<a;r++){var s=i[r];if(!s||!s.getAttribute){vt(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&ft(s)}else mt||vt(1)}};function vt(t,e){e&&(ft=e),y.setTimeout(gt,t)}S()&&"complete"===d.readyState?mt=!0:dt(y,"load",function(){mt=!0});function yt(t){var e=d.createElement("style");return e.className=t,e}function bt(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}function _t(t,e,n){function i(){return e.apply(t,arguments)}return e.guid||(e.guid=J()),i.guid=n?n+"_"+e.guid:e.guid,i}function Tt(e,n){var i=Date.now();return function(){var t=Date.now();n<=t-i&&(e.apply(void 0,arguments),i=t)}}function St(){}var wt;St.prototype.allowedEvents_={},St.prototype.addEventListener=St.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},lt(this,t,e),this.addEventListener=n},St.prototype.removeEventListener=St.prototype.off=function(t,e){ct(this,t,e)},St.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},dt(this,t,e),this.addEventListener=n},St.prototype.dispatchEvent=St.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=st(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ht(this,t)},St.prototype.queueTrigger=function(t){var e=this;wt=wt||new Map;var n=t.type||t,i=wt.get(this);i||(i=new Map,wt.set(this,i));var r=i.get(n);i.delete(n),y.clearTimeout(r);var a=y.setTimeout(function(){0===i.size&&(i=null,wt.delete(e)),e.trigger(t)},0);i.set(n,a)};function Ct(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length}function Et(t){if(!t.nodeName&&!Ot(t))throw new Error("Invalid target; must be a DOM node or evented object.")}function kt(t){if(!Ct(t))throw new Error("Invalid event type; must be a non-empty string or array.")}function At(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")}function xt(t,e){var n,i,r,a=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return r=a?(n=t.eventBusEl_,3<=e.length&&e.shift(),i=e[0],e[1]):(n=e[0],i=e[1],e[2]),Et(n),kt(i),At(r),{isTargetingSelf:a,target:n,type:i,listener:r=_t(t,r)}}function Pt(t,e,n,i){Et(t),t.nodeName?pt[e](t,n,i):t[e](n,i)}var Ot=function(e){return e instanceof St||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},It={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=xt(this,n),a=r.isTargetingSelf,s=r.target,o=r.type,u=r.listener;if(Pt(s,"on",o,u),!a){function l(){return t.off(s,o,u)}l.guid=u.guid;function c(){return t.off("dispose",l)}c.guid=u.guid,Pt(this,"on","dispose",l),Pt(s,"on","dispose",c)}},one:function(){for(var i=this,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=xt(this,e),a=r.isTargetingSelf,s=r.target,o=r.type,u=r.listener;if(a)Pt(s,"one",o,u);else{function l(){i.off(s,o,l);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];u.apply(null,e)}l.guid=u.guid,Pt(s,"one",o,l)}},off:function(t,e,n){if(!t||Ct(t))ct(this.eventBusEl_,t,e);else{var i=t,r=e;Et(i),kt(r),At(n),n=_t(this,n),this.off("dispose",n),i.nodeName?(ct(i,r,n),ct(i,"dispose",n)):Ot(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return ht(this.eventBusEl_,t,e)}};function $t(t,e){void 0===e&&(e={});var n=e.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=E("span",{className:"vjs-event-bus"});return b(t,It),t.on("dispose",function(){t.off(),y.setTimeout(function(){t.eventBusEl_=null},0)}),t}var Mt={state:{},setState:function(t){var n,i=this;return"function"==typeof t&&(t=t()),o(t,function(t,e){i.state[e]!==t&&((n=n||{})[e]={from:i.state[e],to:t}),i.state[e]=t}),n&&Ot(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function Dt(t,e){return b(t,Mt),t.state=b({},t.state,e),"function"==typeof t.handleStateChanged&&Ot(t)&&t.on("statechanged",t.handleStateChanged),t}function Lt(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function Ut(){for(var n={},t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.forEach(function(t){t&&o(t,function(t,e){c(t)?(c(n[e])||(n[e]={}),n[e]=Ut(n[e],t)):n[e]=t})}),n}var Rt,Bt=((Rt=Nt.prototype).dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),it(this.el_),this.el_=null),this.player_=null},Rt.player=function(){return this.player_},Rt.options=function(t){return m.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t&&(this.options_=Ut(this.options_,t)),this.options_},Rt.el=function(){return this.el_},Rt.createEl=function(t,e,n){return E(t,e,n)},Rt.localize=function(t,r,e){void 0===e&&(e=t);var n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[n],s=n&&n.split("-")[0],o=i&&i[s],u=e;return a&&a[t]?u=a[t]:o&&o[t]&&(u=o[t]),r&&(u=u.replace(/\{(\d+)\}/g,function(t,e){var n=r[e-1],i=n;return void 0===n&&(i=t),i})),u},Rt.contentEl=function(){return this.contentEl_||this.el_},Rt.id=function(){return this.id_},Rt.name=function(){return this.name_},Rt.children=function(){return this.children_},Rt.getChildById=function(t){return this.childIndex_[t]},Rt.getChild=function(t){if(t)return t=Lt(t),this.childNameIndex_[t]},Rt.addChild=function(t,e,n){var i,r;if(void 0===e&&(e={}),void 0===n&&(n=this.children_.length),"string"==typeof t){r=Lt(t);var a=e.componentClass||r;e.name=r;var s=Nt.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,e)}else i=t;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(r=r||i.name&&Lt(i.name()))&&(this.childNameIndex_[r]=i),"function"==typeof i.el&&i.el()){var o=this.contentEl().children[n]||null;this.contentEl().insertBefore(i.el(),o)}return i},Rt.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},Rt.initChildren=function(){var r=this,i=this.options_.children;if(i){var t,a=this.options_,n=Nt.getComponent("Tech");(t=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(e){return!t.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(t){var e,n;return n="string"==typeof t?i[e=t]||r.options_[e]||{}:(e=t.name,t),{name:e,opts:n}}).filter(function(t){var e=Nt.getComponent(t.opts.componentClass||Lt(t.name));return e&&!n.isTech(e)}).forEach(function(t){var e=t.name,n=t.opts;if(void 0!==a[e]&&(n=a[e]),!1!==n){!0===n&&(n={}),n.playerOptions=r.options_.playerOptions;var i=r.addChild(e,n);i&&(r[e]=i)}})}},Rt.buildCSSClass=function(){return""},Rt.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},Rt.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&0<t.length&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},Rt.$=function(t,e){return X(t,e||this.contentEl())},Rt.$$=function(t,e){return K(t,e||this.contentEl())},Rt.hasClass=function(t){return x(this.el_,t)},Rt.addClass=function(t){P(this.el_,t)},Rt.removeClass=function(t){O(this.el_,t)},Rt.toggleClass=function(t,e){I(this.el_,t,e)},Rt.show=function(){this.removeClass("vjs-hidden")},Rt.hide=function(){this.addClass("vjs-hidden")},Rt.lockShowing=function(){this.addClass("vjs-lock-showing")},Rt.unlockShowing=function(){this.removeClass("vjs-lock-showing")},Rt.getAttribute=function(t){return D(this.el_,t)},Rt.setAttribute=function(t,e){L(this.el_,t,e)},Rt.removeAttribute=function(t){U(this.el_,t)},Rt.width=function(t,e){return this.dimension("width",t,e)},Rt.height=function(t,e){return this.dimension("height",t,e)},Rt.dimensions=function(t,e){this.width(t,!0),this.height(e)},Rt.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Lt(t)],10)},Rt.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof y.getComputedStyle){var n=y.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var i="offset"+Lt(t);e=this.el_[i]}return e},Rt.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},Rt.currentWidth=function(){return this.currentDimension("width")},Rt.currentHeight=function(){return this.currentDimension("height")},Rt.focus=function(){this.el_.focus()},Rt.blur=function(){this.el_.blur()},Rt.emitTapEvents=function(){var i,e=0,r=null;function t(){i=!1}this.on("touchstart",function(t){1===t.touches.length&&(r={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(1<t.touches.length)i=!1;else if(r){var e=t.touches[0].pageX-r.pageX,n=t.touches[0].pageY-r.pageY;10<Math.sqrt(e*e+n*n)&&(i=!1)}}),this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",function(t){!(r=null)===i&&(new Date).getTime()-e<200&&(t.preventDefault(),this.trigger("tap"))})},Rt.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,n=_t(this.player(),this.player().reportUserActivity);function t(t){n(),this.clearInterval(e)}this.on("touchstart",function(){n(),this.clearInterval(e),e=this.setInterval(n,250)}),this.on("touchmove",n),this.on("touchend",t),this.on("touchcancel",t)}},Rt.setTimeout=function(t,e){var n,i,r=this;return t=_t(this,t),n=y.setTimeout(function(){r.off("dispose",i),t()},e),(i=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",i),n},Rt.clearTimeout=function(t){function e(){}return y.clearTimeout(t),e.guid="vjs-timeout-"+t,this.off("dispose",e),t},Rt.setInterval=function(t,e){var n=this;function i(){return n.clearInterval(r)}t=_t(this,t);var r=y.setInterval(t,e);return i.guid="vjs-interval-"+r,this.on("dispose",i),r},Rt.clearInterval=function(t){function e(){}return y.clearInterval(t),e.guid="vjs-interval-"+t,this.off("dispose",e),t},Rt.requestAnimationFrame=function(t){var e,n,i=this;return this.supportsRaf_?(t=_t(this,t),e=y.requestAnimationFrame(function(){i.off("dispose",n),t()}),(n=function(){return i.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},Rt.cancelAnimationFrame=function(t){if(this.supportsRaf_){function e(){}return y.cancelAnimationFrame(t),e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},Nt.registerComponent=function(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=Nt.getComponent("Tech"),i=n&&n.isTech(e),r=Nt===e||Nt.prototype.isPrototypeOf(e.prototype);if(i||!r)throw new Error('Illegal component, "'+t+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=Lt(t),Nt.components_||(Nt.components_={});var a=Nt.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,o=Object.keys(s);if(s&&0<o.length&&o.map(function(t){return s[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Nt.components_[t]=e},Nt.getComponent=function(t){if(t)return t=Lt(t),Nt.components_&&Nt.components_[t]?Nt.components_[t]:void 0},Nt);function Nt(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.options_=Ut({},this.options_),e=this.options_=Ut(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+J()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&$t(this,{eventBusKey:this.el_?"el_":null}),Dt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}Bt.prototype.supportsRaf_="function"==typeof y.requestAnimationFrame&&"function"==typeof y.cancelAnimationFrame,Bt.registerComponent("Component",Bt);var Ht,jt,Ft,Gt,Vt=y.navigator&&y.navigator.userAgent||"",qt=/AppleWebKit\/([\d.]+)/i.exec(Vt),Wt=qt?parseFloat(qt.pop()):null,zt=/iPad/i.test(Vt),Xt=/iPhone/i.test(Vt)&&!zt,Kt=/iPod/i.test(Vt),Yt=Xt||zt||Kt,Qt=(Ht=Vt.match(/OS (\d+)_/i))&&Ht[1]?Ht[1]:null,Jt=/Android/i.test(Vt),Zt=function(){var t=Vt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),te=Jt&&Zt<5&&Wt<537,ee=/Firefox/i.test(Vt),ne=/Edge/i.test(Vt),ie=!ne&&(/Chrome/i.test(Vt)||/CriOS/i.test(Vt)),re=(jt=Vt.match(/(Chrome|CriOS)\/(\d+)/))&&jt[2]?parseFloat(jt[2]):null,ae=(!(Gt=(Ft=/MSIE\s(\d+)\.\d/.exec(Vt))&&parseFloat(Ft[1]))&&/Trident\/7.0/i.test(Vt)&&/rv:11.0/.test(Vt)&&(Gt=11),Gt),se=/Safari/i.test(Vt)&&!ie&&!Jt&&!ne,oe=(se||Yt)&&!ie,ue=S()&&("ontouchstart"in y||y.navigator.maxTouchPoints||y.DocumentTouch&&y.document instanceof y.DocumentTouch),le=Object.freeze({IS_IPAD:zt,IS_IPHONE:Xt,IS_IPOD:Kt,IS_IOS:Yt,IOS_VERSION:Qt,IS_ANDROID:Jt,ANDROID_VERSION:Zt,IS_NATIVE_ANDROID:te,IS_FIREFOX:ee,IS_EDGE:ne,IS_CHROME:ie,CHROME_VERSION:re,IE_VERSION:ae,IS_SAFARI:se,IS_ANY_SAFARI:oe,TOUCH_ENABLED:ue});function ce(t,e,n,i){return function(t,e){if("number"!=typeof i||i<0||e<i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+i+") is non-numeric or out of bounds (0-"+e+").")}(t,n.length-1),n[i][e]}function he(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:ce.bind(null,"start",0,t),end:ce.bind(null,"end",1,t)}}function de(t,e){return Array.isArray(t)?he(t):void 0===t||void 0===e?he():he([[t,e]])}function fe(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=de(0,0));for(var a=0;a<t.length;a++)n=t.start(a),e<(i=t.end(a))&&(i=e),r+=i-n;return r/e}for(var pe,me={},ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ve=ge[0],ye=0;ye<ge.length;ye++)if(ge[ye][1]in d){pe=ge[ye];break}if(pe)for(var be=0;be<pe.length;be++)me[ve[be]]=pe[be];function _e(t){if(t instanceof _e)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:l(t)&&("number"==typeof t.code&&(this.code=t.code),b(this,t)),this.message||(this.message=_e.defaultMessages[this.code]||"")}_e.prototype.code=0,_e.prototype.message="",_e.prototype.status=null,_e.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_e.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Te=0;Te<_e.errorTypes.length;Te++)_e[_e.errorTypes[Te]]=Te,_e.prototype[_e.errorTypes[Te]]=Te;function Se(t){return null!=t&&"function"==typeof t.then}function we(t){Se(t)&&t.then(null,function(t){})}function Ce(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,e,n){return i[e]&&(t[e]=i[e]),t},{cues:i.cues&&Array.prototype.map.call(i.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})}var Ee="vjs-modal-dialog",ke=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=E("div",{className:Ee+"-content"},{role:"document"}),n.descEl_=E("p",{className:Ee+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),k(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}f(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,i.prototype.dispose.call(this)},e.buildCSSClass=function(){return Ee+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},e.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},e.label=function(){return this.localize(this.options_.label||"Modal Window")},e.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",_t(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",_t(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},e.fill=function(){this.fillWith(this.content())},e.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),W(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},e.empty=function(){this.trigger("beforemodalempty"),G(this.contentEl()),this.trigger("modalempty")},e.content=function(t){return void 0!==t&&(this.content_=t),this.content_},e.conditionalFocus_=function(){var t=d.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,!e.contains(t)&&e!==t||(this.previouslyActiveEl_=t,this.focus(),this.on(d,"keydown",this.handleKeyDown))},e.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(d,"keydown",this.handleKeyDown)},e.handleKeyDown=function(t){if(9===t.which){for(var e,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){e=r;break}d.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||e!==n.length-1||(n[0].focus(),t.preventDefault())}},e.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof y.HTMLAnchorElement||t instanceof y.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof y.HTMLInputElement||t instanceof y.HTMLSelectElement||t instanceof y.HTMLTextAreaElement||t instanceof y.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof y.HTMLIFrameElement||t instanceof y.HTMLObjectElement||t instanceof y.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},t}(Bt);ke.prototype.options_={pauseOnOpen:!0,temporary:!0},Bt.registerComponent("ModalDialog",ke);var Ae=function(i){function t(t){var e;void 0===t&&(t=[]),(e=i.call(this)||this).tracks_=[],Object.defineProperty(p(p(e)),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<t.length;n++)e.addTrack(t[n]);return e}f(t,i);var e=t.prototype;return e.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(St);for(var xe in Ae.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Ae.prototype.allowedEvents_)Ae.prototype["on"+xe]=null;function Pe(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)}function Oe(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)}function Ie(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=d.createElement("a");n.href=t;var i,r=""===n.host&&"file:"!==n.protocol;r&&((i=d.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),d.body.appendChild(i));for(var a={},s=0;s<e.length;s++)a[e[s]]=n[e[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=y.location.protocol),r&&d.body.removeChild(i),a}function $e(t){if(!t.match(/^https?:\/\//)){var e=d.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t}function Me(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(e)return e.pop().toLowerCase()}return""}function De(t){var e=y.location,n=Ie(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host}var Le,Ue,Re,Be,Ne,He,je=(f(sn,He=Ae),sn.prototype.addTrack=function(t){var e=this;t.enabled&&Pe(this,t),He.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){e.changing_||(e.changing_=!0,Pe(e,t),e.changing_=!1,e.trigger("change"))})},sn),Fe=(f(an,Ne=Ae),an.prototype.addTrack=function(t){var e=this;t.selected&&Oe(this,t),Ne.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){e.changing_||(e.changing_=!0,Oe(e,t),e.changing_=!1,e.trigger("change"))})},an),Ge=(f(rn,Be=Ae),rn.prototype.addTrack=function(t){Be.prototype.addTrack.call(this,t),t.addEventListener("modechange",_t(this,function(){this.queueTrigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",_t(this,function(){this.trigger("selectedlanguagechange")}))},rn),Ve=((Re=nn.prototype).addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},Re.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},Re.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},nn),qe=((Ue=en.prototype).setCues_=function(t){var e=this.length||0,n=0,i=t.length;function r(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})}if(this.cues_=t,this.length_=t.length,e<i)for(n=e;n<i;n++)r.call(this,n)},Ue.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},en),We={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ze={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Xe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ke={disabled:"disabled",hidden:"hidden",showing:"showing"},Ye=(f(tn,Le=St),tn),Qe=Object.freeze({parseUrl:Ie,getAbsoluteURL:$e,getFileExtension:Me,isCrossOrigin:De}),Je=function(t){var e=Ze.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},Ze=Object.prototype.toString;function tn(t){var e;void 0===t&&(t={}),e=Le.call(this)||this;function n(t){Object.defineProperty(p(p(e)),t,{get:function(){return i[t]},set:function(){}})}var i={id:t.id||"vjs_track_"+J(),kind:t.kind||"",label:t.label||"",language:t.language||""};for(var r in i)n(r);return e}function en(t){en.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}function nn(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}function rn(){return Be.apply(this,arguments)||this}function an(t){var e;void 0===t&&(t=[]);for(var n=t.length-1;0<=n;n--)if(t[n].selected){Oe(t,t[n]);break}return(e=Ne.call(this,t)||this).changing_=!1,Object.defineProperty(p(p(e)),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),e}function sn(t){var e;void 0===t&&(t=[]);for(var n=t.length-1;0<=n;n--)if(t[n].enabled){Pe(t,t[n]);break}return(e=He.call(this,t)||this).changing_=!1,e}function on(t,e){return t(e={exports:{}},e.exports),e.exports}function un(t){try{var e=hn.call(t);return dn.test(e)}catch(t){return}}function ln(t,e,n){if(!function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(pn)return function(t){try{return!un(t)&&(hn.call(t),!0)}catch(t){return!1}}(t);if(un(t))return!1;var e=fn.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}(e))throw new TypeError("iterator must be a function");var i;3<=arguments.length&&(i=n),("[object Array]"===mn.call(t)?function(t,e,n){for(var i=0,r=t.length;i<r;i++)gn.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))}:"string"==typeof t?function(t,e,n){for(var i=0,r=t.length;i<r;i++)null==n?e(t.charAt(i),i,t):e.call(n,t.charAt(i),i,t)}:function(t,e,n){for(var i in t)gn.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))})(t,e,i)}var cn=on(function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),hn=(cn.left,cn.right,Function.prototype.toString),dn=/^\s*class\b/,fn=Object.prototype.toString,pn="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,mn=Object.prototype.toString,gn=Object.prototype.hasOwnProperty,vn=function(t){if(!t)return{};var a={};return ln(cn(t).split("\n"),function(t){var e,n=t.indexOf(":"),i=cn(t.slice(0,n)).toLowerCase(),r=cn(t.slice(n+1));void 0===a[i]?a[i]=r:(e=a[i],"[object Array]"===Object.prototype.toString.call(e)?a[i].push(r):a[i]=[a[i],r])}),a},yn=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)bn.call(n,i)&&(t[i]=n[i])}return t},bn=Object.prototype.hasOwnProperty,_n=Sn;function Tn(t,e,n){var i=t;return Je(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=yn(e,{uri:t}),i.callback=n,i}function Sn(t,e,n){return wn(e=Tn(t,e,n))}function wn(i){if(void 0===i.callback)throw new Error("callback argument missing");function r(t,e,n){a||(a=!0,i.callback(t,e,n))}var a=!1;function e(t){return clearTimeout(o),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,m)}function t(){if(!s){var t;clearTimeout(o),t=i.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var e=m,n=null;return 0!==t?(e={body:function(){var t=void 0;if(t=u.response?u.response:u.responseText||function(){if("document"===u.responseType)return u.responseXML;var t=u.responseXML&&"parsererror"===u.responseXML.documentElement.nodeName;return""!==u.responseType||t?null:u.responseXML}(),p)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:t,method:c,headers:{},url:l,rawRequest:u},u.getAllResponseHeaders&&(e.headers=vn(u.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),r(n,e,e.body)}}var n,s,o,u=i.xhr||null,l=(u=u||(i.cors||i.useXDR?new Sn.XDomainRequest:new Sn.XMLHttpRequest)).url=i.uri||i.url,c=u.method=i.method||"GET",h=i.body||i.data,d=u.headers=i.headers||{},f=!!i.sync,p=!1,m={body:void 0,headers:{},statusCode:0,method:c,url:l,rawRequest:u};if("json"in i&&!1!==i.json&&(p=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),h=JSON.stringify(!0===i.json?h:i.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(t,0)},u.onload=t,u.onerror=e,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=e,u.open(c,l,!f,i.username,i.password),f||(u.withCredentials=!!i.withCredentials),!f&&0<i.timeout&&(o=setTimeout(function(){if(!s){s=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",e(t)}},i.timeout)),u.setRequestHeader)for(n in d)d.hasOwnProperty(n)&&u.setRequestHeader(n,d[n]);else if(i.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(u.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(u),u.send(h||null),u}Sn.XMLHttpRequest=y.XMLHttpRequest||function(){},Sn.XDomainRequest="withCredentials"in new Sn.XMLHttpRequest?Sn.XMLHttpRequest:y.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(i){Sn["delete"===i?"del":i]=function(t,e,n){return(e=Tn(t,e,n)).method=i.toUpperCase(),wn(e)}});function Cn(t,e){var n=new y.WebVTT.Parser(y,y.vttjs,y.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),0<i.length&&(y.console&&y.console.groupCollapsed&&y.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return m.error(t)}),y.console&&y.console.groupEnd&&y.console.groupEnd()),n.flush()}var En=function(l){function t(t){var e;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var n=Ut(t,{kind:Xe[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=Ke[n.mode]||"disabled",r=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden"),(e=l.call(this,n)||this).tech_=n.tech,e.cues_=[],e.activeCues_=[];var a=new qe(e.cues_),s=new qe(e.activeCues_),o=!1,u=_t(p(p(e)),function(){this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1)});return"disabled"!==i&&e.tech_.ready(function(){e.tech_.on("timeupdate",u)},!0),Object.defineProperties(p(p(e)),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return i},set:function(t){var e=this;Ke[t]&&("disabled"!==(i=t)?this.tech_.ready(function(){e.tech_.on("timeupdate",u)},!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(o=!1,e.length!==this.activeCues_.length)o=!0;else for(var a=0;a<e.length;a++)-1===this.activeCues_.indexOf(e[a])&&(o=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),n.src?(e.src=n.src,function(t,r){var e={uri:t},n=De(t);n&&(e.cors=n),_n(e,_t(this,function(t,e,n){if(t)return m.error(t,e);if(r.loaded_=!0,"function"!=typeof y.WebVTT){if(r.tech_){function i(){return Cn(n,r)}r.tech_.on("vttjsloaded",i),r.tech_.on("vttjserror",function(){m.error("vttjs failed to load, stopping trying to process "+r.src),r.tech_.off("vttjsloaded",i)})}}else Cn(n,r)}))}(n.src,p(p(e)))):e.loaded_=!0,e}f(t,l);var e=t.prototype;return e.addCue=function(t){var e=t;if(y.vttjs&&!(t instanceof y.vttjs.VTTCue)){for(var n in e=new y.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},t}(Ye);En.prototype.allowedEvents_={cuechange:"cuechange"};var kn,An,xn,Pn=(f(Dn,xn=Ye),Dn),On=(f(Mn,An=Ye),Mn),In=(f($n,kn=St),$n);function $n(t){var e,n;void 0===t&&(t={}),e=kn.call(this)||this;var i=new En(t);return e.kind=i.kind,e.src=i.src,e.srclang=i.language,e.label=i.label,e.default=i.default,Object.defineProperties(p(p(e)),{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=0,i.addEventListener("loadeddata",function(){n=2,e.trigger({type:"load",target:p(p(e))})}),e}function Mn(t){var e;void 0===t&&(t={});var n=Ut(t,{kind:We[t.kind]||""});e=An.call(this,n)||this;var i=!1;return Object.defineProperty(p(p(e)),"selected",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("selectedchange"))}}),n.selected&&(e.selected=n.selected),e}function Dn(t){var e;void 0===t&&(t={});var n=Ut(t,{kind:ze[t.kind]||""});e=xn.call(this,n)||this;var i=!1;return Object.defineProperty(p(p(e)),"enabled",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("enabledchange"))}}),n.enabled&&(e.enabled=n.enabled),e.loaded_=!0,e}In.prototype.allowedEvents_={load:"load"},In.NONE=0,In.LOADING=1,In.LOADED=2,In.ERROR=3;var Ln={audio:{ListClass:je,TrackClass:Pn,capitalName:"Audio"},video:{ListClass:Fe,TrackClass:On,capitalName:"Video"},text:{ListClass:Ge,TrackClass:En,capitalName:"Text"}};Object.keys(Ln).forEach(function(t){Ln[t].getterName=t+"Tracks",Ln[t].privateName=t+"Tracks_"});var Un={remoteText:{ListClass:Ge,TrackClass:En,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ve,TrackClass:In,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Rn=Ut(Ln,Un);Un.names=Object.keys(Un),Ln.names=Object.keys(Ln),Rn.names=[].concat(Un.names).concat(Ln.names);var Bn=Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Nn.prototype=t,new Nn};function Nn(){}function Hn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function jn(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Fn(){this.values=Bn(null)}function Gn(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if("string"==typeof r[a]){var s=r[a].split(n);2===s.length&&e(s[0],s[1])}}function Vn(e,t,a){var n,i,s,r=e;function o(){var t=jn(e);if(null===t)throw new Hn(Hn.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=o(),u(),"--\x3e"!==e.substr(0,3))throw new Hn(Hn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=o(),u(),n=e,i=t,s=new Fn,Gn(n,function(t,e){switch(t){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===e){s.set(t,a[n].region);break}break;case"vertical":s.alt(t,e,["rl","lr"]);break;case"line":var i=e.split(","),r=i[0];s.integer(t,r),s.percent(t,r)&&s.set("snapToLines",!1),s.alt(t,r,["auto"]),2===i.length&&s.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=e.split(","),s.percent(t,i[0]),2===i.length&&s.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":s.percent(t,e);break;case"align":s.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),i.region=s.get("region",null),i.vertical=s.get("vertical",""),i.line=s.get("line","auto"),i.lineAlign=s.get("lineAlign","start"),i.snapToLines=s.get("snapToLines",!0),i.size=s.get("size",100),i.align=s.get("align","middle"),i.position=s.get("position",{start:0,left:0,middle:50,end:100,right:100},i.align),i.positionAlign=s.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},i.align)}((Hn.prototype=Bn(Error.prototype)).constructor=Hn).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Fn.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var qn={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â","&rlm;":"â","&nbsp;":" "},Wn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},zn={v:"title",lang:"lang"},Xn={rt:"ruby"};function Kn(a,n){function t(){if(!n)return null;var t,e=n.match(/^([^<]*)(<[^>]*>?)?/);return t=e[1]?e[1]:e[2],n=n.substr(t.length),t}function e(t){return qn[t]}function i(t){for(;d=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(d[0],e);return t}function r(t,e){var n=Wn[t];if(!n)return null;var i=a.document.createElement(n);i.localName=n;var r=zn[t];return r&&e&&(i[r]=e.trim()),i}for(var s,o=a.document.createElement("div"),u=o,l=[];null!==(s=t());)if("<"!==s[0])u.appendChild(a.document.createTextNode(i(s)));else{if("/"===s[1]){l.length&&l[l.length-1]===s.substr(2).replace(">","")&&(l.pop(),u=u.parentNode);continue}var c,h=jn(s.substr(1,s.length-2));if(h){c=a.document.createProcessingInstruction("timestamp",h),u.appendChild(c);continue}var d=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d)continue;if(!(c=r(d[1],d[3])))continue;if(Xn[c.localName]&&Xn[c.localName]!==u.localName)continue;d[2]&&(c.className=d[2].substr(1).replace("."," ")),l.push(d[1]),u.appendChild(c),u=c}return o}var Yn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Qn(t){for(var e=0;e<Yn.length;e++){var n=Yn[e];if(t>=n[0]&&t<=n[1])return 1}}function Jn(){}function Zn(t,e,n){Jn.call(this),this.cue=e,this.cueDiv=Kn(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:function(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var n=e.childNodes.length-1;0<=n;n--)t.push(e.childNodes[n])}function a(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[t.length=0]:n}return"ruby"===e.tagName?a(t):e.childNodes?(r(t,e),a(t)):void 0}for(r(e,t);n=a(e);)for(var i=0;i<n.length;i++)if(Qn(n.charCodeAt(i)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"middle":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function ti(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function ei(t,e,o,u){var n=new ti(e),r=e.cue,i=function(){if("number"==typeof r.line&&(r.snapToLines||0<=r.line&&r.line<=100))return r.line;if(!r.track||!r.track.textTrackList||!r.track.textTrackList.mediaElement)return-1;for(var t=r.track,e=t.textTrackList,n=0,i=0;i<e.length&&e[i]!==t;i++)"showing"===e[i].mode&&n++;return-1*++n}(),a=[];if(r.snapToLines){var s;switch(r.vertical){case"":a=["+y","-y"],s="height";break;case"rl":a=["+x","-x"],s="width";break;case"lr":a=["-x","+x"],s="width"}var l=n.lineHeight,c=l*Math.round(i),h=o[s]+l,d=a[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/l)*l),i<0&&(c+=""===r.vertical?o.height:o.width,a=a.reverse()),n.move(d,c)}else{var f=n.lineHeight/o.height*100;switch(r.lineAlign){case"middle":i-=f/2;break;case"end":i-=f}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(i,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(i,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(i,"%")})}a=["+y","-x","+x","-y"],n=new ti(e)}var p=function(t,e){for(var n,i=new ti(t),r=1,a=0;a<e.length;a++){for(;t.overlapsOppositeAxis(o,e[a])||t.within(o)&&t.overlapsAny(u);)t.move(e[a]);if(t.within(o))return t;var s=t.intersectPercentage(o);s<r&&(n=new ti(t),r=s),t=new ti(i)}return n||i}(n,a);e.move(p.toCSSCompatValues(o))}function ni(){}Jn.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Jn.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(Zn.prototype=Bn(Jn.prototype)).constructor=Zn,ti.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},ti.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},ti.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},ti.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},ti.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},ti.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},ti.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},ti.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},ni.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},ni.convertCueToDOMTree=function(t,e){return t&&e?Kn(t,e):null},ni.processCues=function(i,r,t){if(!i||!r||!t)return null;for(;t.firstChild;)t.removeChild(t.firstChild);var a=i.document.createElement("div");if(a.style.position="absolute",a.style.left="0",a.style.right="0",a.style.top="0",a.style.bottom="0",a.style.margin="1.5%",t.appendChild(a),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return 1}(r)){var s=[],o=ti.getSimpleBoxPosition(a),u={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var t,e,n=0;n<r.length;n++)e=r[n],t=new Zn(i,e,u),a.appendChild(t.div),ei(0,t,o,s),e.displayState=t.div,s.push(ti.getSimpleBoxPosition(t))}()}else for(var e=0;e<r.length;e++)a.appendChild(r[e].displayState)},(ni.Parser=function(t,e,n){n||(n=e,e={}),e=e||{},this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof Hn))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e,a=this;function n(){for(var t=a.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,a.buffer=t.substr(e),n}t&&(a.buffer+=a.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===a.state){if(!/\r\n|\n/.test(a.buffer))return this;var r=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Hn(Hn.Errors.BadSignature);a.state="HEADER"}for(var s=!1;a.buffer;){if(!/\r\n|\n/.test(a.buffer))return this;switch(s?s=!1:i=n(),a.state){case"HEADER":/:/.test(i)?(e=i).match(/X-TIMESTAMP-MAP/)?Gn(e,function(t,e){switch(t){case"X-TIMESTAMP-MAP":n=e,i=new Fn,Gn(n,function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",jn(e))}},/[^\d]:/,/,/),a.ontimestampmap&&a.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}var n,i},/=/):Gn(e,function(t,e){switch(t){case"Region":!function(t){var r=new Fn;if(Gn(t,function(t,e){switch(t){case"id":r.set(t,e);break;case"width":r.percent(t,e);break;case"lines":r.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var i=new Fn;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(t+"X",i.get("x")),r.set(t+"Y",i.get("y"));break;case"scroll":r.alt(t,e,["up"])}},/=/,/\s/),r.has("id")){var e=new(a.vttjs.VTTRegion||a.window.VTTRegion);e.width=r.get("width",100),e.lines=r.get("lines",3),e.regionAnchorX=r.get("regionanchorX",0),e.regionAnchorY=r.get("regionanchorY",100),e.viewportAnchorX=r.get("viewportanchorX",0),e.viewportAnchorY=r.get("viewportanchorY",100),e.scroll=r.get("scroll",""),a.onregion&&a.onregion(e),a.regionList.push({id:r.get("id"),region:e})}}(e)}},/:/):i||(a.state="ID");continue;case"NOTE":i||(a.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){a.state="NOTE";break}if(!i)continue;if(a.cue=new(a.vttjs.VTTCue||a.window.VTTCue)(0,0,""),a.state="CUE",-1===i.indexOf("--\x3e")){a.cue.id=i;continue}case"CUE":try{Vn(i,a.cue,a.regionList)}catch(t){a.reportOrThrowError(t),a.cue=null,a.state="BADCUE";continue}a.state="CUETEXT";continue;case"CUETEXT":var o=-1!==i.indexOf("--\x3e");if(!i||o&&(s=!0)){a.oncue&&a.oncue(a.cue),a.cue=null,a.state="ID";continue}a.cue.text&&(a.cue.text+="\n"),a.cue.text+=i;continue;case"BADCUE":i||(a.state="ID");continue}}}catch(t){a.reportOrThrowError(t),"CUETEXT"===a.state&&a.cue&&a.oncue&&a.oncue(a.cue),a.cue=null,a.state="INITIAL"===a.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),!e.cue&&"HEADER"!==e.state||(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Hn(Hn.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var ii=ni,ri={"":1,lr:1,rl:1},ai={start:1,middle:1,end:1,left:1,right:1};function si(t){return"string"==typeof t&&!!ai[t.toLowerCase()]&&t.toLowerCase()}function oi(t,e,n){this.hasBeenReset=!1;var i="",r=!1,a=t,s=e,o=n,u=null,l="",c=!0,h="auto",d="start",f=50,p="middle",m=50,g="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(t){i=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");a=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");s=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(t){o=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(t){var e,n="string"==typeof(e=t)&&!!ri[e.toLowerCase()]&&e.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");l=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");h=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(t){var e=si(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return f},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");f=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){var e=si(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return m},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");m=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(t){var e=si(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}}}),this.displayState=void 0}oi.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var ui=oi,li={"":!0,up:!0};function ci(t){return"number"==typeof t&&0<=t&&t<=100}function hi(){var e=100,n=3,i=0,r=100,a=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!ci(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return n},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");n=t}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!ci(t))throw new Error("RegionAnchorX must be between 0 and 100.");r=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!ci(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!ci(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!ci(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return o},set:function(t){var e,n="string"==typeof(e=t)&&!!li[e.toLowerCase()]&&e.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");o=n}}})}var di=on(function(t){var e=t.exports={WebVTT:ii,VTTCue:ui,VTTRegion:hi};y.vttjs=e,y.WebVTT=e.WebVTT;var n=e.VTTCue,i=e.VTTRegion,r=y.VTTCue,a=y.VTTRegion;e.shim=function(){y.VTTCue=n,y.VTTRegion=i},e.restore=function(){y.VTTCue=r,y.VTTRegion=a},y.VTTCue||e.shim()});di.WebVTT,di.VTTCue,di.VTTRegion;var fi=function(e){function n(n,t){var i;return void 0===n&&(n={}),void 0===t&&(t=function(){}),n.reportTouchActivity=!1,(i=e.call(this,null,n,t)||this).hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),Rn.names.forEach(function(t){var e=Rn[t];n&&n[e.getterName]&&(i[e.privateName]=n[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===n["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new Rn.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}f(n,e);var t=n.prototype;return t.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},t.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(_t(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),1===(this.bufferedPercent_=t)&&this.stopTrackingProgress()}),500)},t.onDurationChange=function(t){this.duration_=this.duration()},t.buffered=function(){return de(0,0)},t.bufferedPercent=function(){return fe(this.buffered(),this.duration_)},t.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.dispose=function(){this.clearTracks(Ln.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.clearTracks=function(t){var r=this;(t=[].concat(t)).forEach(function(t){for(var e=r[t+"Tracks"]()||[],n=e.length;n--;){var i=e[n];"text"===t&&r.removeRemoteTextTrack(i),e.removeTrack(i)}})},t.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},t.reset=function(){},t.error=function(t){return void 0!==t&&(this.error_=new _e(t),this.trigger("error")),this.error_},t.played=function(){return this.hasStarted_?de(0,0):de()},t.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.initTrackListeners=function(){var r=this;Ln.names.forEach(function(t){function e(){r.trigger(t+"trackchange")}var n=Ln[t],i=r[n.getterName]();i.addEventListener("removetrack",e),i.addEventListener("addtrack",e),r.on("dispose",function(){i.removeEventListener("removetrack",e),i.removeEventListener("addtrack",e)})})},t.addWebVttScript_=function(){var t=this;if(!y.WebVTT)if(d.body.contains(this.el())){if(!this.options_["vtt.js"]&&c(di)&&0<Object.keys(di).length)return void this.trigger("vttjsloaded");var e=d.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),y.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},t.emulateTextTracks=function(){function e(t){return i.addTrack(t.track)}function n(t){return i.removeTrack(t.track)}var t=this,i=this.textTracks(),r=this.remoteTextTracks();r.on("addtrack",e),r.on("removetrack",n),this.addWebVttScript_();function a(){return t.trigger("texttrackchange")}function s(){a();for(var t=0;t<i.length;t++){var e=i[t];e.removeEventListener("cuechange",a),"showing"===e.mode&&e.addEventListener("cuechange",a)}}s(),i.addEventListener("change",s),i.addEventListener("addtrack",s),i.addEventListener("removetrack",s),this.on("dispose",function(){r.off("addtrack",e),r.off("removetrack",n),i.removeEventListener("change",s),i.removeEventListener("addtrack",s),i.removeEventListener("removetrack",s);for(var t=0;t<i.length;t++)i[t].removeEventListener("cuechange",a)})},t.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,r){void 0===r&&(r={});var a=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var s=new Rn.text.TrackClass(r);return a.addTrack(s),s}(this,t,e,n)},t.createRemoteTextTrack=function(t){var e=Ut(t,{tech:this});return new Un.remoteTextEl.TrackClass(e)},t.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(m.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},t.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},t.getVideoPlaybackQuality=function(){return{}},t.setPoster=function(){},t.playsinline=function(){},t.setPlaysinline=function(){},t.overrideNativeAudioTracks=function(){},t.overrideNativeVideoTracks=function(){},t.canPlayType=function(){return""},n.canPlayType=function(){return""},n.canPlaySource=function(t,e){return n.canPlayType(t.type)},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,e){if(n.techs_||(n.techs_={}),!n.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Lt(t),n.techs_[t]=e,"Tech"!==t&&n.defaultTechOrder_.push(t),e},n.getTech=function(t){if(t)return t=Lt(t),n.techs_&&n.techs_[t]?n.techs_[t]:y&&y.videojs&&y.videojs[t]?(m.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),y.videojs[t]):void 0},n}(Bt);Rn.names.forEach(function(t){var e=Rn[t];fi.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),fi.prototype.featuresVolumeControl=!0,fi.prototype.featuresMuteControl=!0,fi.prototype.featuresFullscreenResize=!1,fi.prototype.featuresPlaybackRate=!1,fi.prototype.featuresProgressEvents=!1,fi.prototype.featuresSourceset=!1,fi.prototype.featuresTimeupdateEvents=!1,fi.prototype.featuresNativeTextTracks=!1,fi.withSourceHandlers=function(r){r.registerSourceHandler=function(t,e){var n=r.sourceHandlers;n=n||(r.sourceHandlers=[]),void 0===e&&(e=n.length),n.splice(e,0,t)},r.canPlayType=function(t){for(var e,n=r.sourceHandlers||[],i=0;i<n.length;i++)if(e=n[i].canPlayType(t))return e;return""},r.selectSourceHandler=function(t,e){for(var n=r.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,e))return n[i];return null},r.canPlaySource=function(t,e){var n=r.selectSourceHandler(t,e);return n?n.canHandleSource(t,e):""},["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(t){var e=r.selectSourceHandler(t,this.options_);e||(r.nativeSourceHandler?e=r.nativeSourceHandler:m.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),e!==r.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=e.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Bt.registerComponent("Tech",fi),fi.registerTech("Tech",fi),fi.defaultTechOrder_=[];var pi={},mi={},gi={};function vi(t,e,n){t.setTimeout(function(){return function n(i,t,r,a,s,o){void 0===i&&(i={}),void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===o&&(o=!1);var e=t[0],u=t.slice(1);if("string"==typeof e)n(i,pi[e],r,a,s,o);else if(e){var l=function(t,e){var n=mi[t.id()],i=null;if(null==n)return i=e(t),mi[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],s=a[0],o=a[1];s===e&&(i=o)}return null===i&&(i=e(t),n.push([e,i])),i}(a,e);if(!l.setSource)return s.push(l),n(i,u,r,a,s,o);l.setSource(b({},i),function(t,e){if(t)return n(i,u,r,a,s,o);s.push(l),n(e,i.type===e.type?u:pi[e.type],r,a,s,o)})}else u.length?n(i,u,r,a,s,o):o?r(i,s):n(i,pi["*"],r,a,s,!0)}(e,pi[e.type],n,t)},1)}function yi(t,e,n,i){void 0===i&&(i=null);var r="call"+Lt(n),a=t.reduce(Si(r),i),s=a===gi,o=s?null:e[n](a);return function(t,e,n,i){for(var r=t.length-1;0<=r;r--){var a=t[r];a[e]&&a[e](i,n)}}(t,n,o,s),o}var bi={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},_i={setCurrentTime:1},Ti={play:1,pause:1};function Si(n){return function(t,e){return t===gi?gi:e[n]?e[n](t):t}}function wi(t){void 0===t&&(t="");var e=Me(t);return Ci[e.toLowerCase()]||""}var Ci={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"};function Ei(t){var e=wi(t.src);return!t.type&&e&&(t.type=e),t}var ki,Ai=(f(xi,ki=Bt),xi);function xi(t,e,n){var i,r=Ut({createEl:!1},e);if(i=ki.call(this,t,r,n)||this,e.playerOptions.sources&&0!==e.playerOptions.sources.length)t.src(e.playerOptions.sources);else for(var a=0,s=e.playerOptions.techOrder;a<s.length;a++){var o=Lt(s[a]),u=fi.getTech(o);if(o||(u=Bt.getComponent(o)),u&&u.isSupported()){t.loadTech_(o);break}}return i}Bt.registerComponent("MediaLoader",Ai);var Pi=function(r){function t(t,e){var n;return(n=r.call(this,t,e)||this).emitTapEvents(),n.enable(),n}f(t,r);var e=t.prototype;return e.createEl=function(t,e,n){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={}),e=b({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},e),"button"===t&&m.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=b({role:"button"},n),this.tabIndex_=e.tabIndex;var i=r.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(i),i},e.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},e.createControlTextEl=function(t){return this.controlTextEl_=E("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,k(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},e.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},e.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},e.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},e.handleClick=function(t){},e.handleFocus=function(t){lt(d,"keydown",_t(this,this.handleKeyPress))},e.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):r.prototype.handleKeyPress&&r.prototype.handleKeyPress.call(this,t)},e.handleBlur=function(t){ct(d,"keydown",_t(this,this.handleKeyPress))},t}(Bt);Bt.registerComponent("ClickableComponent",Pi);var Oi=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).update(),t.on("posterchange",_t(p(p(n)),n.update)),n}f(t,i);var e=t.prototype;return e.dispose=function(){this.player().off("posterchange",this.update),i.prototype.dispose.call(this)},e.createEl=function(){return E("div",{className:"vjs-poster",tabIndex:-1})},e.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},e.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?we(this.player_.play()):this.player_.pause())},t}(Pi);Bt.registerComponent("PosterImage",Oi);var Ii={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function $i(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Mi(t,e,n){try{t.style[e]=n}catch(t){return}}var Di=function(a){function t(n,t,e){var i;i=a.call(this,n,t,e)||this;var r=_t(p(p(i)),i.updateDisplay);return n.on("loadstart",_t(p(p(i)),i.toggleDisplay)),n.on("texttrackchange",r),n.on("loadstart",_t(p(p(i)),i.preselectTrack)),n.ready(_t(p(p(i)),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",r),n.on("playerresize",r),y.addEventListener("orientationchange",r),n.on("dispose",function(){return y.removeEventListener("orientationchange",r)});for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}})),i}f(t,a);var e=t.prototype;return e.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,s=0;s<r.length;s++){var o=r[s];a&&a.enabled&&a.language===o.language?n=o.kind!==a.kind&&n||o:a&&!a.enabled?e=t=n=null:o.default&&("descriptions"!==o.kind||t?o.kind in i&&!e&&(e=o):t=o)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},e.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.clearDisplay=function(){"function"==typeof y.WebVTT&&y.WebVTT.processCues(y,[],this.el_)},e.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,i=t.length;i--;){var r=t[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},e.updateForTrack=function(t){if("function"==typeof y.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(y.WebVTT.processCues(y,e,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),r=e.length;r--;){var a=e[r];if(a){var s=a.displayState;if(i.color&&(s.firstChild.style.color=i.color),i.textOpacity&&Mi(s.firstChild,"color",$i(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(s.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Mi(s.firstChild,"backgroundColor",$i(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Mi(s,"backgroundColor",$i(i.windowColor,i.windowOpacity)):s.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var o=y.parseFloat(s.style.fontSize);s.style.fontSize=o*i.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Ii[i.fontFamily])}}}},t}(Bt);Bt.registerComponent("TextTrackDisplay",Di);var Li,Ui=(f(Ri,Li=Bt),Ri.prototype.createEl=function(){var t=this.player_.isAudio(),e=this.localize(t?"Audio Player":"Video Player"),n=E("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[e])}),i=Li.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},Ri);function Ri(){return Li.apply(this,arguments)||this}Bt.registerComponent("LoadingSpinner",Ui);var Bi=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=b({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=b({type:"button"},n);var i=Bt.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return m.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Bt.prototype.addChild.call(this,t,e)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(Pi);Bt.registerComponent("Button",Bi);var Ni=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-big-play-button"},e.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)we(e);else{var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){function r(){return i.focus()}Se(e)?e.then(r,function(){}):this.setTimeout(r,1)}else this.player_.focus()}},e.handleKeyPress=function(t){this.mouseused_=!1,i.prototype.handleKeyPress.call(this,t)},e.handleMouseDown=function(t){this.mouseused_=!0},t}(Bi);Ni.prototype.controlText_="Play Video",Bt.registerComponent("BigPlayButton",Ni);var Hi=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).controlText(e&&e.controlText||n.localize("Close")),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},t}(Bi);Bt.registerComponent("CloseButton",Hi);var ji=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).on(t,"play",n.handlePlay),n.on(t,"pause",n.handlePause),n.on(t,"ended",n.handleEnded),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(Bi);ji.prototype.controlText_="Play",Bt.registerComponent("PlayToggle",ji);function Fi(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),a=Math.floor(e/60%60),s=Math.floor(e/3600);return!isNaN(t)&&t!==1/0||(r=i=n="-"),(r=0<r||0<s?r+":":"")+(i=((r||10<=a)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)}var Gi=Fi;function Vi(t,e){return void 0===e&&(e=t),Gi(t,e)}var qi=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).throttledUpdateContent=Tt(_t(p(p(n)),n.updateContent),25),n.on(t,"timeupdate",n.throttledUpdateContent),n}f(t,i);var e=t.prototype;return e.createEl=function(t){var e=this.buildCSSClass(),n=i.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=E("span",{className:e+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},e.dispose=function(){this.contentEl_=null,this.textNode_=null,i.prototype.dispose.call(this)},e.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=d.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.formatTime_=function(t){return Vi(t)},e.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},e.updateContent=function(t){},t}(Bt);qi.prototype.labelText_="Time",qi.prototype.controlText_="Time",Bt.registerComponent("TimeDisplay",qi);var Wi=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).on(t,"ended",n.handleEnded),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-current-time"},e.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},e.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(qi);Wi.prototype.labelText_="Current Time",Wi.prototype.controlText_="Current Time",Bt.registerComponent("CurrentTimeDisplay",Wi);var zi=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).on(t,"durationchange",n.updateContent),n.on(t,"loadedmetadata",n.throttledUpdateContent),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-duration"},e.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},t}(qi);zi.prototype.labelText_="Duration",zi.prototype.controlText_="Duration",Bt.registerComponent("DurationDisplay",zi);var Xi,Ki=(f(Yi,Xi=Bt),Yi.prototype.createEl=function(){return Xi.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},Yi);function Yi(){return Xi.apply(this,arguments)||this}Bt.registerComponent("TimeDivider",Ki);var Qi=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).on(t,"durationchange",n.throttledUpdateContent),n.on(t,"ended",n.handleEnded),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-remaining-time"},e.formatTime_=function(t){return"-"+i.prototype.formatTime_.call(this,t)},e.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},t}(qi);Qi.prototype.labelText_="Remaining Time",Qi.prototype.controlText_="Remaining Time",Bt.registerComponent("RemainingTimeDisplay",Qi);var Ji=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}f(t,i);var e=t.prototype;return e.createEl=function(){var t=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=E("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},e.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},e.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},t}(Bt);Bt.registerComponent("LiveDisplay",Ji);var Zi=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}f(t,i);var e=t.prototype;return e.enabled=function(){return this.enabled_},e.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.createEl=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),e.className=e.className+" vjs-slider",e=b({tabIndex:0},e),n=b({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),i.prototype.createEl.call(this,t,e,n)},e.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||ie||t.preventDefault(),R(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.handleMouseMove=function(t){},e.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;B(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},e.calculateDistance=function(t){var e=j(this.el_,t);return this.vertical()?e.y:e.x},e.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Bt);Bt.registerComponent("Slider",Zi);var tr=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).partEls_=[],n.on(t,"progress",n.update),n}f(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.dispose=function(){this.partEls_=null,i.prototype.dispose.call(this)},e.update=function(t){function e(t,e){var n=t/e||0;return 100*(1<=n?1:n)+"%"}var n=this.player_.buffered(),i=this.player_.duration(),r=this.player_.bufferedEnd(),a=this.partEls_;this.el_.style.width=e(r,i);for(var s=0;s<n.length;s++){var o=n.start(s),u=n.end(s),l=a[s];l||(l=this.el_.appendChild(E()),a[s]=l),l.style.left=e(o,r),l.style.width=e(u-o,r)}for(var c=a.length;c>n.length;c--)this.el_.removeChild(a[c-1]);a.length=n.length},t}(Bt);Bt.registerComponent("LoadProgressBar",tr);var er=function(t){function e(){return t.apply(this,arguments)||this}f(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},n.update=function(t,e,n){var i=N(this.el_),r=N(this.player_.el()),a=t.width*e;if(r&&i){var s=t.left-r.left+a,o=t.width-a+(r.right-t.right),u=i.width/2;s<u?u+=u-s:o<u&&(u=o),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",k(this.el_,n)}},e}(Bt);Bt.registerComponent("TimeTooltip",er);var nr=function(t){function e(){return t.apply(this,arguments)||this}f(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},n.update=function(n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=Vi(r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),r.player_.duration()),e=r.getChild("timeTooltip");e&&e.update(n,i,t)})},e}(Bt);nr.prototype.options_={children:[]},Yt||Jt||nr.prototype.options_.children.push("timeTooltip"),Bt.registerComponent("PlayProgressBar",nr);var ir=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).update=Tt(_t(p(p(n)),n.update),25),n}f(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=r.player_.duration(),e=Vi(i*t,t);r.el_.style.left=n.width*i+"px",r.getChild("timeTooltip").update(n,i,e)})},t}(Bt);ir.prototype.options_={children:["timeTooltip"]},Bt.registerComponent("MouseTimeDisplay",ir);var rr=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).setEventHandlers_(),n}f(t,i);var e=t.prototype;return e.setEventHandlers_=function(){var t=this;this.update=Tt(_t(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Vi(t,n),Vi(n,n)],"{1} of {2}")),this.bar.update(N(this.el_),e)},e.update=function(t){var e=i.prototype.update.call(this);return this.update_(this.getCurrentTime_(),e),e},e.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return 1<=t?1:t||0},e.handleMouseDown=function(t){z(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),i.prototype.handleMouseDown.call(this,t))},e.handleMouseMove=function(t){if(z(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},e.enable=function(){i.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},e.disable=function(){i.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},e.handleMouseUp=function(t){i.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&we(this.player_.play())},e.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):i.prototype.handleKeyPress&&i.prototype.handleKeyPress.call(this,t)},t}(Zi);rr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Yt||Jt||rr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),rr.prototype.playerEvent="timeupdate",Bt.registerComponent("SeekBar",rr);var ar=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).handleMouseMove=Tt(_t(p(p(n)),n.handleMouseMove),25),n.throttledHandleMouseSeek=Tt(_t(p(p(n)),n.handleMouseSeek),25),n.enable(),n}f(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),i=e.el(),r=N(i),a=j(i,t).x;1<a?a=1:a<0&&(a=0),n&&n.update(r,a)}},e.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.enabled=function(){return this.enabled_},e.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},t}(Bt);ar.prototype.options_={children:["seekBar"]},Bt.registerComponent("ProgressControl",ar);var sr=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).on(t,"fullscreenchange",n.handleFullscreenChange),!1===d[me.fullscreenEnabled]&&n.disable(),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},e.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Bi);sr.prototype.controlText_="Fullscreen",Bt.registerComponent("FullscreenToggle",sr);var or,ur=(f(lr,or=Bt),lr.prototype.createEl=function(){return or.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},lr);function lr(){return or.apply(this,arguments)||this}Bt.registerComponent("VolumeLevel",ur);var cr=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready(function(){return n.updateARIAAttributes()}),n}f(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.handleMouseDown=function(t){z(t)&&i.prototype.handleMouseDown.call(this,t)},e.handleMouseMove=function(t){z(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},t}(Zi);cr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},cr.prototype.playerEvent="volumechange",Bt.registerComponent("VolumeBar",cr);var hr=function(a){function t(t,e){var n,i,r;return void 0===e&&(e={}),e.vertical=e.vertical||!1,void 0!==e.volumeBar&&!c(e.volumeBar)||(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical),n=a.call(this,t,e)||this,i=p(p(n)),(r=t).tech_&&!r.tech_.featuresVolumeControl&&i.addClass("vjs-hidden"),i.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),n.throttledHandleMouseMove=Tt(_t(p(p(n)),n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}f(t,a);var e=t.prototype;return e.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},e.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},t}(Bt);hr.prototype.options_={children:["volumeBar"]},Bt.registerComponent("VolumeControl",hr);var dr=function(a){function t(t,e){var n,i,r;return n=a.call(this,t,e)||this,i=p(p(n)),(r=t).tech_&&!r.tech_.featuresMuteControl&&i.addClass("vjs-hidden"),i.on(r,"loadstart",function(){r.tech_.featuresMuteControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),n.on(t,["loadstart","volumechange"],n.update),n}f(t,a);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-mute-control "+a.prototype.buildCSSClass.call(this)},e.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.update=function(t){this.updateIcon_(),this.updateControlText_()},e.updateIcon_=function(){var t=this.player_.volume(),e=3;Yt&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)O(this.el_,"vjs-vol-"+n);P(this.el_,"vjs-vol-"+e)},e.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},t}(Bi);dr.prototype.controlText_="Mute",Bt.registerComponent("MuteToggle",dr);var fr=function(i){function t(t,e){var n;return void 0===e&&(e={}),void 0!==e.inline?e.inline=e.inline:e.inline=!0,void 0!==e.volumeControl&&!c(e.volumeControl)||(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),(n=i.call(this,t,e)||this).on(t,["loadstart"],n.volumePanelState_),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}f(t,i);var e=t.prototype;return e.sliderActive_=function(){this.addClass("vjs-slider-active")},e.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(Bt);fr.prototype.options_={children:["muteToggle","volumeControl"]},Bt.registerComponent("VolumePanel",fr);var pr=function(i){function t(t,e){var n;return n=i.call(this,t,e)||this,e&&(n.menuButton_=e.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}f(t,i);var e=t.prototype;return e.addItem=function(e){this.addChild(e),e.on("click",_t(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},e.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=E(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var e=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),lt(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},e.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},e.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),0<e.length&&(t<0?t=0:t>=e.length&&(t=e.length-1),e[this.focusedChild_=t].el_.focus())},t}(Bt);Bt.registerComponent("Menu",pr);var mr=function(r){function t(t,e){var n;void 0===e&&(e={}),(n=r.call(this,t,e)||this).menuButton_=new Bi(t,e),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Bi.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}f(t,r);var e=t.prototype;return e.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.createMenu=function(){var t=new pr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=E("li",{className:"vjs-menu-title",innerHTML:Lt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),A(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.createItems=function(){},e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Bi.prototype.buildCSSClass()+" "+r.prototype.buildCSSClass.call(this)},e.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+r.prototype.buildCSSClass.call(this)},e.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},e.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",_t(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.focus=function(){this.menuButton_.focus()},e.blur=function(){this.menuButton_.blur()},e.handleFocus=function(){lt(d,"keydown",_t(this,this.handleKeyPress))},e.handleBlur=function(){ct(d,"keydown",_t(this,this.handleKeyPress))},e.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Yt&&C())return;this.menu.focus()}},e.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Bt);Bt.registerComponent("MenuButton",mr);var gr,vr=(f(yr,gr=mr),yr);function yr(t,e){var n,i=e.tracks;if((n=gr.call(this,t,e)||this).items.length<=1&&n.hide(),!i)return p(n);var r=_t(p(p(n)),n.update);return i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),n.player_.on("ready",r),n.player_.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}),n}Bt.registerComponent("TrackButton",vr);var br=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).selectable=e.selectable,n.isSelected_=e.selected||!1,n.multiSelectable=e.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}f(t,i);var e=t.prototype;return e.createEl=function(t,e,n){return this.nonIconControl=!0,i.prototype.createEl.call(this,"li",b({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},e),n)},e.handleClick=function(t){this.selected(!0)},e.selected=function(t){this.selectable&&(this.isSelected_=t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),!1))},t}(Pi);Bt.registerComponent("MenuItem",br);var _r=function(u){function t(t,e){var i,n=e.track,r=t.textTracks();e.label=n.label||n.language||"Unknown",e.selected="showing"===n.mode,(i=u.call(this,t,e)||this).track=n;function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(p(p(i)),e)}function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleSelectedLanguageChange.apply(p(p(i)),e)}var o;return t.on(["loadstart","texttrackchange"],a),r.addEventListener("change",a),r.addEventListener("selectedlanguagechange",s),i.on("dispose",function(){t.off(["loadstart","texttrackchange"],a),r.removeEventListener("change",a),r.removeEventListener("selectedlanguagechange",s)}),void 0===r.onchange&&i.on(["tap","click"],function(){if("object"!=typeof y.Event)try{o=new y.Event("change")}catch(t){}o||(o=d.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(o)}),i.handleTracksChange(),i}f(t,u);var e=t.prototype;return e.handleClick=function(t){var e=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n=n||[e],u.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var a=i[r];a===this.track&&-1<n.indexOf(a.kind)?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},e.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.dispose=function(){this.track=null,u.prototype.dispose.call(this)},t}(br);Bt.registerComponent("TextTrackMenuItem",_r);var Tr=function(n){function t(t,e){return e.track={player:t,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,n.call(this,t,e)||this}f(t,n);var e=t.prototype;return e.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(-1<this.options_.kinds.indexOf(a.kind)&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},e.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(-1<["captions","descriptions","subtitles"].indexOf(a.kind)&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(_r);Bt.registerComponent("OffTextTrackMenuItem",Tr);var Sr,wr=(f(Cr,Sr=vr),Cr.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=_r),this.label_&&(n=this.label_+" off"),t.push(new Tr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var a=i[r];if(-1<this.kinds_.indexOf(a.kind)){var s=new e(this.player_,{track:a,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+a.kind+"-menu-item"),t.push(s)}}return t},Cr);function Cr(t,e){return void 0===e&&(e={}),e.tracks=t.textTracks(),Sr.call(this,t,e)||this}Bt.registerComponent("TextTrackButton",wr);var Er=function(s){function t(t,e){var n,i=e.track,r=e.cue,a=t.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=r.text,e.selected=r.startTime<=a&&a<r.endTime,(n=s.call(this,t,e)||this).track=i,n.cue=r,i.addEventListener("cuechange",_t(p(p(n)),n.update)),n}f(t,s);var e=t.prototype;return e.handleClick=function(t){s.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},t}(br);Bt.registerComponent("ChaptersTrackMenuItem",Er);var kr=function(i){function t(t,e,n){return i.call(this,t,e,n)||this}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildWrapperCSSClass.call(this)},e.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),i.prototype.update.call(this)},e.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},e.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if(n.kind===this.kind_)return n}},e.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Lt(this.kind_))},e.createMenu=function(){return this.options_.title=this.getMenuCaption(),i.prototype.createMenu.call(this)},e.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],a=new Er(this.player_,{track:this.track_,cue:r});t.push(a)}return t},t}(wr);kr.prototype.kind_="chapters",kr.prototype.controlText_="Chapters",Bt.registerComponent("ChaptersButton",kr);var Ar=function(s){function t(t,e,n){var i;i=s.call(this,t,e,n)||this;var r=t.textTracks(),a=_t(p(p(i)),i.handleTracksChange);return r.addEventListener("change",a),i.on("dispose",function(){r.removeEventListener("change",a)}),i}f(t,s);var e=t.prototype;return e.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var a=e[i];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},e.buildCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildWrapperCSSClass.call(this)},t}(wr);Ar.prototype.kind_="descriptions",Ar.prototype.controlText_="Descriptions",Bt.registerComponent("DescriptionsButton",Ar);var xr=function(i){function t(t,e,n){return i.call(this,t,e,n)||this}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildWrapperCSSClass.call(this)},t}(wr);xr.prototype.kind_="subtitles",xr.prototype.controlText_="Subtitles",Bt.registerComponent("SubtitlesButton",xr);var Pr,Or=(f(Ir,Pr=_r),Ir.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},Ir);function Ir(t,e){var n;return e.track={player:t,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",(n=Pr.call(this,t,e)||this).addClass("vjs-texttrack-settings"),n.controlText(", opens "+e.kind+" settings dialog"),n}Bt.registerComponent("CaptionSettingsMenuItem",Or);var $r=function(i){function t(t,e,n){return i.call(this,t,e,n)||this}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-captions-button "+i.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Or(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,t)},t}(wr);$r.prototype.kind_="captions",$r.prototype.controlText_="Captions",Bt.registerComponent("CaptionsButton",$r);var Mr,Dr=(f(Lr,Mr=_r),Lr.prototype.createEl=function(t,e,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",Mr.prototype.createEl.call(this,t,b({innerHTML:i},e),n)},Lr);function Lr(){return Mr.apply(this,arguments)||this}Bt.registerComponent("SubsCapsMenuItem",Dr);var Ur=function(i){function t(t,e){var n;return void 0===e&&(e={}),(n=i.call(this,t,e)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)&&(n.label_="captions"),n.menuButton_.controlText(Lt(n.label_)),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Or(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,t,Dr)},t}(wr);Ur.prototype.kinds_=["captions","subtitles"],Ur.prototype.controlText_="Subtitles",Bt.registerComponent("SubsCapsButton",Ur);var Rr=function(s){function t(t,e){var i,n=e.track,r=t.audioTracks();e.label=n.label||n.language||"Unknown",e.selected=n.enabled,(i=s.call(this,t,e)||this).track=n,i.addClass("vjs-"+n.kind+"-menu-item");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(p(p(i)),e)}return r.addEventListener("change",a),i.on("dispose",function(){r.removeEventListener("change",a)}),i}f(t,s);var e=t.prototype;return e.createEl=function(t,e,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>",s.prototype.createEl.call(this,t,b({innerHTML:i},e),n)},e.handleClick=function(t){var e=this.player_.audioTracks();s.prototype.handleClick.call(this,t);for(var n=0;n<e.length;n++){var i=e[n];i.enabled=i===this.track}},e.handleTracksChange=function(t){this.selected(this.track.enabled)},t}(br);Bt.registerComponent("AudioTrackMenuItem",Rr);var Br=function(n){function t(t,e){return void 0===e&&(e={}),e.tracks=t.audioTracks(),n.call(this,t,e)||this}f(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new Rr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},t}(vr);Br.prototype.controlText_="Audio Track",Bt.registerComponent("AudioTrackButton",Br);var Nr=function(a){function t(t,e){var n,i=e.rate,r=parseFloat(i,10);return e.label=i,e.selected=1===r,e.selectable=!0,e.multiSelectable=!1,(n=a.call(this,t,e)||this).label=i,n.rate=r,n.on(t,"ratechange",n.update),n}f(t,a);var e=t.prototype;return e.handleClick=function(t){a.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.update=function(t){this.selected(this.player().playbackRate()===this.rate)},t}(br);Nr.prototype.contentElType="button",Bt.registerComponent("PlaybackRateMenuItem",Nr);var Hr=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).updateVisibility(),n.updateLabel(),n.on(t,"loadstart",n.updateVisibility),n.on(t,"ratechange",n.updateLabel),n}f(t,i);var e=t.prototype;return e.createEl=function(){var t=i.prototype.createEl.call(this);return this.labelEl_=E("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},e.dispose=function(){this.labelEl_=null,i.prototype.dispose.call(this)},e.buildCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildWrapperCSSClass.call(this)},e.createMenu=function(){var t=new pr(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;0<=n;n--)t.addChild(new Nr(this.player(),{rate:e[n]+"x"}));return t},e.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},e.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},e.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(mr);Hr.prototype.controlText_="Playback Rate",Bt.registerComponent("PlaybackRateMenuButton",Hr);var jr=function(t){function e(){return t.apply(this,arguments)||this}f(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Bt);Bt.registerComponent("Spacer",jr);var Fr=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(jr);Bt.registerComponent("CustomControlSpacer",Fr);var Gr,Vr=(f(qr,Gr=Bt),qr.prototype.createEl=function(){return Gr.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},qr);function qr(){return Gr.apply(this,arguments)||this}Vr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Bt.registerComponent("ControlBar",Vr);var Wr=function(i){function t(t,e){var n;return(n=i.call(this,t,e)||this).on(t,"error",n.open),n}f(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},e.content=function(){var t=this.player().error();return t?this.localize(t.message):""},t}(ke);Wr.prototype.options_=Ut(ke.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Bt.registerComponent("ErrorDisplay",Wr);var zr="vjs-text-track-settings",Xr=["#000","Black"],Kr=["#00F","Blue"],Yr=["#0FF","Cyan"],Qr=["#0F0","Green"],Jr=["#F0F","Magenta"],Zr=["#F00","Red"],ta=["#FFF","White"],ea=["#FF0","Yellow"],na=["1","Opaque"],ia=["0.5","Semi-Transparent"],ra=["0","Transparent"],aa={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Xr,ta,Zr,Qr,Kr,ea,Jr,Yr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[na,ia,ra]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ta,Xr,Zr,Qr,Kr,ea,Jr,Yr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[na,ia]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ra,ia,na]}};function sa(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}aa.windowColor.options=aa.backgroundColor.options;var oa=function(i){function t(t,e){var n;return e.temporary=!1,(n=i.call(this,t,e)||this).updateDisplay=_t(p(p(n)),n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=E("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===e.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),o(aa,function(t){n.on(n.$(t.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}f(t,i);var e=t.prototype;return e.dispose=function(){this.endDialog=null,i.prototype.dispose.call(this)},e.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=aa[t],a=r.id.replace("%s",this.id_),s=[e,a].join(" ").trim();return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+s+'">'].concat(r.options.map(function(t){var e=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+s+" "+e+'">',i.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},e.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.createElColors_=function(){return E("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.createElFont_=function(){return E("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.createElControls_=function(){var t=this.localize("restore all settings to the default values");return E("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.label=function(){return this.localize("Caption Settings Dialog")},e.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.getValues=function(){var n,i,t,s=this;return i=function(t,e,n){var i,r,a=(i=s.$(e.selector),r=e.parser,sa(i.options[i.options.selectedIndex].value,r));return void 0!==a&&(t[n]=a),t},t={},r(n=aa).reduce(function(t,e){return i(t,n[e],e)},t)},e.setValues=function(n){var i=this;o(aa,function(t,e){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(sa(t.options[i].value,n)===e){t.selectedIndex=i;break}}(i.$(t.selector),n[e],t.parser)})},e.setDefaults=function(){var n=this;o(aa,function(t){var e=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=e})},e.restoreSettings=function(){var t;try{t=JSON.parse(y.localStorage.getItem(zr))}catch(t){m.warn(t)}t&&this.setValues(t)},e.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?y.localStorage.setItem(zr,JSON.stringify(t)):y.localStorage.removeItem(zr)}catch(t){m.warn(t)}}},e.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(d,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},t}(ke);Bt.registerComponent("TextTrackSettings",oa);var ua=function(a){function t(t,e){var n,i=e.ResizeObserver||y.ResizeObserver;null===e.ResizeObserver&&(i=!1);var r=Ut({createEl:!i,reportTouchActivity:!1},e);return(n=a.call(this,t,r)||this).ResizeObserver=e.ResizeObserver||y.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=function(i,r){var a;void 0===r&&(r=y);function t(){var t=this,e=arguments,n=function(){n=a=null,i.apply(t,e)};r.clearTimeout(a),a=r.setTimeout(n,100)}return t.cancel=function(){r.clearTimeout(a),a=null},t}(function(){n.resizeHandler()},p(p(n))),i?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(t.el())):(n.loadListener_=function(){n.el_&&n.el_.contentWindow&&lt(n.el_.contentWindow,"resize",n.debouncedHandler_)},n.one("load",n.loadListener_)),n}f(t,a);var e=t.prototype;return e.createEl=function(){return a.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},e.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&ct(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(Bt);Bt.registerComponent("ResizeManager",ua);function la(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),1;var n=t.$$("source"),i=[],r="";if(n.length){for(var a=0;a<n.length;a++){var s=n[a].src;s&&-1===i.indexOf(s)&&i.push(s)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)}}function ca(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n}function ha(a){var s=a.el();if(!s.resetSourceWatch_){function e(r){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=r.apply(s,e);return la(a),i}}var n={},t=ca([a.el(),y.HTMLMediaElement.prototype,y.Element.prototype,da],"innerHTML");["append","appendChild","insertAdjacentHTML"].forEach(function(t){s[t]&&(n[t]=s[t],s[t]=e(n[t]))}),Object.defineProperty(s,"innerHTML",Ut(t,{set:e(t.set)})),s.resetSourceWatch_=function(){s.resetSourceWatch_=null,Object.keys(n).forEach(function(t){s[t]=n[t]}),Object.defineProperty(s,"innerHTML",t)},a.one("sourceset",s.resetSourceWatch_)}}var da=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=d.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=d.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",y.Element.prototype.appendChild.call(this,n),this.innerHTML}}),fa=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?$e(y.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return y.Element.prototype.setAttribute.call(this,"src",t),t}});function pa(){var t=e(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return pa=function(){return t},t}var ma=function(c){function o(t,e){var n;n=c.call(this,t,e)||this;var i=t.source,r=!1;if(i&&(n.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var a=n.el_.childNodes,s=a.length,o=[];s--;){var u=a[s];"track"===u.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),r||n.el_.hasAttribute("crossorigin")||!De(u.src)||(r=!0)):o.push(u))}for(var l=0;l<o.length;l++)n.el_.removeChild(o[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&r&&m.warn(v(pa())),n.restoreMetadataTracksInIOSNativePlayer_(),(ue||Xt||te)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}f(o,c);var t=o.prototype;return t.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),o.disposeMediaElement(this.el_),this.options_=null,c.prototype.dispose.call(this)},t.setupSourcesetHandling_=function(){!function(i){if(i.featuresSourceset){var r=i.el();if(!r.resetSourceset_){var n=ca([i.el(),y.HTMLMediaElement.prototype,fa],"src"),a=r.setAttribute,e=r.load;Object.defineProperty(r,"src",Ut(n,{set:function(t){var e=n.set.call(r,t);return i.triggerSourceset(r.src),e}})),r.setAttribute=function(t,e){var n=a.call(r,t,e);return/src/i.test(t)&&i.triggerSourceset(r.src),n},r.load=function(){var t=e.call(r);return la(i)||(i.triggerSourceset(""),ha(i)),t},r.currentSrc?i.triggerSourceset(r.currentSrc):la(i)||ha(i),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=e,r.setAttribute=a,Object.defineProperty(r,"src",n),r.resetSourceWatch_&&r.resetSourceWatch_()}}}}(this)},t.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){n=[];for(var t=0;t<i.length;t++){var e=i[t];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}}var n,i=this.textTracks();t(),i.addEventListener("change",t),this.on("dispose",function(){return i.removeEventListener("change",t)});function r(){for(var t=0;t<n.length;t++){var e=n[t];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}i.removeEventListener("change",r)}this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",t),i.removeEventListener("change",r),i.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",t),i.addEventListener("change",t),i.removeEventListener("change",r)})},t.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},t.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},t.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},t.proxyNativeTracksForType_=function(t){var i=this,e=Ln[t],r=this.el()[e.getterName],a=this[e.getterName]();if(this["featuresNative"+e.capitalName+"Tracks"]&&r&&r.addEventListener){function n(){for(var t=[],e=0;e<a.length;e++){for(var n=!1,i=0;i<r.length;i++)if(r[i]===a[e]){n=!0;break}n||t.push(a[e])}for(;t.length;)a.removeTrack(t.shift())}var s={change:function(t){a.trigger({type:"change",target:a,currentTarget:a,srcElement:a})},addtrack:function(t){a.addTrack(t.track)},removetrack:function(t){a.removeTrack(t.track)}};this[e.getterName+"Listeners_"]=s,Object.keys(s).forEach(function(e){var n=s[e];r.addEventListener(e,n),i.on("dispose",function(t){return r.removeEventListener(e,n)})}),this.on("loadstart",n),this.on("dispose",function(t){return i.off("loadstart",n)})}},t.proxyNativeTracks_=function(){var e=this;Ln.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},t.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var e=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(e,t),o.disposeMediaElement(t),t=e}else{t=d.createElement("video");var n=Ut({},this.options_.tag&&M(this.options_.tag));ue&&!0===this.options_.nativeControlsForTouch||delete n.controls,$(t,b(n,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&L(t,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],r=0;r<i.length;r++){var a=i[r],s=this.options_[a];void 0!==s&&(s?L(t,a,a):U(t,a),t[a]=s)}return t},t.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){function e(){n=!0}var n=!1;this.on("loadstart",e);function i(){n||this.trigger("loadstart")}return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",e),this.off("loadedmetadata",i),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=t.readyState&&r.push("loadeddata"),3<=t.readyState&&r.push("canplay"),4<=t.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},t.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){m(t,"Video is not ready. (Video.js)")}},t.duration=function(){var e=this;return this.el_.duration===1/0&&Jt&&ie&&0===this.el_.currentTime?(this.on("timeupdate",function t(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN):this.el_.duration||NaN},t.width=function(){return this.el_.offsetWidth},t.height=function(){return this.el_.offsetHeight},t.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){function e(){this.trigger("fullscreenchange",{isFullscreen:!1})}function n(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))}this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},t.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=y.navigator&&y.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},t.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},t.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},t.reset=function(){o.resetMediaElement(this.el_)},t.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.setControls=function(t){this.el_.controls=!!t},t.addTextTrack=function(t,e,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,n):c.prototype.addTextTrack.call(this,t,e,n)},t.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,t);var e=d.createElement("track");return t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t.default&&(e.default=t.default),t.id&&(e.id=t.id),t.src&&(e.src=t.src),e},t.addRemoteTextTrack=function(t,e){var n=c.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},t.removeRemoteTextTrack=function(t){if(c.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),n=e.length;n--;)t!==e[n]&&t!==e[n].track||this.el().removeChild(e[n])},t.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),y.performance&&"function"==typeof y.performance.now?t.creationTime=y.performance.now():y.performance&&y.performance.timing&&"number"==typeof y.performance.timing.navigationStart&&(t.creationTime=y.Date.now()-y.performance.timing.navigationStart),t},o}(fi);if(S()){ma.TEST_VID=d.createElement("video");var ga=d.createElement("track");ga.kind="captions",ga.srclang="en",ga.label="English",ma.TEST_VID.appendChild(ga)}ma.isSupported=function(){try{ma.TEST_VID.volume=.5}catch(t){return!1}return!(!ma.TEST_VID||!ma.TEST_VID.canPlayType)},ma.canPlayType=function(t){return ma.TEST_VID.canPlayType(t)},ma.canPlaySource=function(t,e){return ma.canPlayType(t.type)},ma.canControlVolume=function(){try{var t=ma.TEST_VID.volume;return ma.TEST_VID.volume=t/2+.1,t!==ma.TEST_VID.volume}catch(t){return!1}},ma.canMuteVolume=function(){try{var t=ma.TEST_VID.muted;return ma.TEST_VID.muted=!t,ma.TEST_VID.muted?L(ma.TEST_VID,"muted","muted"):U(ma.TEST_VID,"muted"),t!==ma.TEST_VID.muted}catch(t){return!1}},ma.canControlPlaybackRate=function(){if(Jt&&ie&&re<58)return!1;try{var t=ma.TEST_VID.playbackRate;return ma.TEST_VID.playbackRate=t/2+.1,t!==ma.TEST_VID.playbackRate}catch(t){return!1}},ma.canOverrideAttributes=function(){try{function t(){}Object.defineProperty(d.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(d.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(d.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(d.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},ma.supportsNativeTextTracks=function(){return oe||Yt&&ie},ma.supportsNativeVideoTracks=function(){return!(!ma.TEST_VID||!ma.TEST_VID.videoTracks)},ma.supportsNativeAudioTracks=function(){return!(!ma.TEST_VID||!ma.TEST_VID.audioTracks)},ma.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],ma.prototype.featuresVolumeControl=ma.canControlVolume(),ma.prototype.featuresMuteControl=ma.canMuteVolume(),ma.prototype.featuresPlaybackRate=ma.canControlPlaybackRate(),ma.prototype.featuresSourceset=ma.canOverrideAttributes(),ma.prototype.movingMediaElementInDOM=!Yt,ma.prototype.featuresFullscreenResize=!0,ma.prototype.featuresProgressEvents=!0,ma.prototype.featuresTimeupdateEvents=!0,ma.prototype.featuresNativeTextTracks=ma.supportsNativeTextTracks(),ma.prototype.featuresNativeVideoTracks=ma.supportsNativeVideoTracks(),ma.prototype.featuresNativeAudioTracks=ma.supportsNativeAudioTracks();var va=ma.TEST_VID&&ma.TEST_VID.constructor.prototype.canPlayType,ya=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;function ba(){var t=e(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return ba=function(){return t},t}ma.patchCanPlayType=function(){4<=Zt&&!ee&&!ie&&(ma.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&ya.test(t)?"maybe":va.call(this,t)})},ma.unpatchCanPlayType=function(){var t=ma.TEST_VID.constructor.prototype.canPlayType;return ma.TEST_VID.constructor.prototype.canPlayType=va,t},ma.patchCanPlayType(),ma.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},ma.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){ma.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){ma.prototype["set"+Lt(e)]=function(t){(this.el_[e]=t)?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){ma.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){ma.prototype["set"+Lt(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(t){ma.prototype[t]=function(){return this.el_[t]()}}),fi.withSourceHandlers(ma),ma.nativeSourceHandler={},ma.nativeSourceHandler.canPlayType=function(t){try{return ma.TEST_VID.canPlayType(t)}catch(t){return""}},ma.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ma.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Me(t.src);return ma.nativeSourceHandler.canPlayType("video/"+n)}return""},ma.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},ma.nativeSourceHandler.dispose=function(){},ma.registerSourceHandler(ma.nativeSourceHandler),fi.registerTech("Html5",ma);var _a=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ta={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Sa=["tiny","xsmall","small","medium","large","xlarge","huge"],wa={};Sa.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;wa[t]="vjs-layout-"+e});var Ca={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ea=function(c){function h(t,e,n){var i;if(t.id=t.id||e.id||"vjs_video_"+J(),(e=b(h.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var r=t.closest("[lang]");r&&r.getAttribute&&(e.language=r.getAttribute("lang"))}else for(var a=t;a&&1===a.nodeType;){if(M(a).hasOwnProperty("lang")){e.language=a.getAttribute("lang");break}a=a.parentNode}if((i=c.call(this,null,e,n)||this).log=g(i.id_),i.isPosterFromTech_=!1,i.queuedCallbacks_=[],i.isReady_=!1,i.hasStarted_=!1,i.userActive_=!1,!i.options_||!i.options_.techOrder||!i.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(i.tag=t,i.tagAttributes=t&&M(t),i.language(i.options_.language),e.languages){var s={};Object.getOwnPropertyNames(e.languages).forEach(function(t){s[t.toLowerCase()]=e.languages[t]}),i.languages_=s}else i.languages_=h.prototype.options_.languages;i.cache_={},i.poster_=e.poster||"",i.controls_=!!e.controls,i.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?i.options_.autoplay=!0:i.autoplay(i.options_.autoplay),i.scrubbing_=!1,i.el_=i.createEl(),i.cache_.lastPlaybackRate=i.defaultPlaybackRate(),$t(p(p(i)),{eventBusKey:"el_"});var o=Ut(i.options_);if(e.plugins){var u=e.plugins;Object.keys(u).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](u[t])},p(p(i)))}i.options_.playerOptions=o,i.middleware_=[],i.initChildren(),i.isAudio("audio"===t.nodeName.toLowerCase()),i.controls()?i.addClass("vjs-controls-enabled"):i.addClass("vjs-controls-disabled"),i.el_.setAttribute("role","region"),i.isAudio()?i.el_.setAttribute("aria-label",i.localize("Audio Player")):i.el_.setAttribute("aria-label",i.localize("Video Player")),i.isAudio()&&i.addClass("vjs-audio"),i.flexNotSupported_()&&i.addClass("vjs-no-flex"),Yt||i.addClass("vjs-workinghover"),h.players[i.id_]=p(p(i));var l="7.3.0".split(".")[0];return i.addClass("vjs-v"+l),i.userActive(!0),i.reportUserActivity(),i.one("play",i.listenForUserActivity_),i.on("fullscreenchange",i.handleFullscreenChange_),i.on("stageclick",i.handleStageClick_),i.breakpoints(i.options_.breakpoints),i.responsive(i.options_.responsive),i.changingSrc_=!1,i.playWaitingForReady_=!1,i.playOnLoadstart_=null,i}f(h,c);var t=h.prototype;return t.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),h.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),mi[this.id()]=null,c.prototype.dispose.call(this)},t.createEl=function(){var e,n=this.tag,t=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();t?e=this.el_=n.parentNode:i||(e=this.el_=c.prototype.createEl.call(this,"div"));var r=M(n);if(i){for(e=this.el_=n,n=this.tag=d.createElement("video");e.children.length;)n.appendChild(e.firstChild);x(e,"video-js")||P(e,"video-js"),e.appendChild(n),t=this.playerElIngest_=e,Object.keys(e).forEach(function(t){n[t]=e[t]})}if(n.setAttribute("tabindex","-1"),r.tabindex="-1",ae&&(n.setAttribute("role","application"),r.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(t){i&&"class"===t||e.setAttribute(t,r[t]),i&&n.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=yt("vjs-styles-dimensions");var a=X(".vjs-styles-defaults"),s=X("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=n.getElementsByTagName("a"),u=0;u<o.length;u++){var l=o.item(u);P(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!t&&n.parentNode.insertBefore(e,n),A(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=e},t.width=function(t){return this.dimension("width",t)},t.height=function(t){return this.dimension("height",t)},t.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?m.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},t.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},t.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},t.updateStyleEl_=function(){if(!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),bt(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();o&&(0<=a&&(o.width=a),0<=s&&(o.height=s))}},t.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Lt(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(fi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Rn.names.forEach(function(t){var e=Rn[t];a[e.getterName]=n[e.privateName]}),b(a,this.options_[i]),b(a,this.options_[r]),b(a,this.options_[t.toLowerCase()]),this.tag&&(a.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(a.startTime=this.cache_.currentTime);var s,o,u=fi.getTech(t);if(!u)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new u(a),this.tech_.ready(_t(this,this.handleTechReady_),!0),s=this.textTracksJson_||[],o=this.tech_,s.forEach(function(t){var e=o.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return e.addCue(t)})}),o.textTracks(),_a.forEach(function(t){n.on(n.tech_,t,n["handleTech"+Lt(t)+"_"])}),Object.keys(Ta).forEach(function(e){n.on(n.tech_,e,function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Ta[e]+"_"].bind(n),event:t}):n["handleTech"+Ta[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||A(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.unloadTech_=function(){var t,e,n,i=this;Rn.names.forEach(function(t){var e=Rn[t];i[e.privateName]=i[e.getterName]()}),this.textTracksJson_=(t=this.tech_,e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track}),Array.prototype.map.call(e,function(t){var e=Ce(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(Ce))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.tech=function(t){return void 0===t&&m.warn(v(ba())),this.tech_},t.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},t.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},t.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},t.manualAutoplay_=function(e){var n=this;if(this.tech_&&"string"==typeof e){function t(){var e=n.muted();n.muted(!0);var t=n.play();if(t&&t.then&&t.catch)return t.catch(function(t){n.muted(e)})}var i;if("any"===e?(i=this.play())&&i.then&&i.catch&&i.catch(function(){return t()}):i="muted"===e?t():this.play(),i&&i.then&&i.catch)return i.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(t){n.trigger({type:"autoplay-failure",autoplay:e})})}},t.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var a=i[r];if(a.type&&a.src&&a.src===e)return a.type}return wi(e)}(this,e)),this.cache_.source=Ut({},t,{src:e,type:n});for(var i=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),r=[],a=this.$$("source"),s=[],o=0;o<a.length;o++){var u=M(a[o]);r.push(u),u.src&&u.src===e&&s.push(u.src)}s.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},t.handleTechSourceset_=function(t){var i=this;if(!this.changingSrc_){var e=function(t){return i.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(e=function(){}),e(r),t.src||this.tech_.one(["sourceset","loadstart"],function t(e){if("sourceset"!==e.type){var n=i.techGet("currentSrc");i.lastSource_.tech=n,i.updateSourceCaches_(n)}i.tech_.off(["sourceset","loadstart"],t)})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},t.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},t.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.handleTechFirstPlay_=function(){this.options_.starttime&&(m.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.handleTechClick_=function(t){z(t)&&this.controls_&&(this.paused()?we(this.play()):this.pause())},t.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},t.handleTechTap_=function(){this.userActive(!this.userActive())},t.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.handleTechTouchEnd_=function(t){t.preventDefault()},t.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.handleStageClick_=function(){this.reportUserActivity()},t.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},t.handleTechError_=function(){var t=this.tech_.error();this.error(t)},t.handleTechTextData_=function(){var t=null;1<arguments.length&&(t=arguments[1]),this.trigger("textdata",t)},t.getCache=function(){return this.cache_},t.techCall_=function(e,n){this.ready(function(){if(e in _i)return t=this.middleware_,this.tech_[e](t.reduce(Si(e),n));if(e in Ti)return yi(this.middleware_,this.tech_,e,n);var t;try{this.tech_&&this.tech_[e](n)}catch(t){throw m(t),t}},!0)},t.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in bi)return e=this.middleware_,n=this.tech_,e.reduceRight(Si(t),n[t]());if(t in Ti)return yi(this.middleware_,this.tech_,t);var e,n;try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw m("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw m("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw m(e),e}}},t.play=function(){var e=this,t=this.options_.Promise||y.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},t.play_=function(t){var e=this;if(void 0===t&&(t=we),this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())})}},t.pause=function(){this.techCall_("pause")},t.paused=function(){return!1!==this.techGet_("paused")},t.played=function(){return this.techGet_("played")||de(0,0)},t.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.remainingTime=function(){return this.duration()-this.currentTime()},t.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=de(0,0)),t},t.bufferedPercent=function(){return fe(this.buffered(),this.duration())},t.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return e<n&&(n=e),n},t.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(0<e&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},t.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},t.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},t.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},t.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},t.requestFullscreen=function(){var n=me;this.isFullscreen(!0),n.requestFullscreen?(lt(d,n.fullscreenchange,_t(this,function t(e){this.isFullscreen(d[n.fullscreenElement]),!1===this.isFullscreen()&&ct(d,n.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.exitFullscreen=function(){var t=me;this.isFullscreen(!1),t.requestFullscreen?d[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=d.documentElement.style.overflow,lt(d,"keydown",_t(this,this.fullWindowOnEscKey)),d.documentElement.style.overflow="hidden",P(d.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.exitFullWindow=function(){this.isFullWindow=!1,ct(d,"keydown",this.fullWindowOnEscKey),d.documentElement.style.overflow=this.docOrigOverflow,O(d.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],a=fi.getTech(r);if(a=a||Bt.getComponent(r)){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else m.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.selectSource=function(t){function e(t,n,i){var r;return t.some(function(e){return n.some(function(t){if(r=i(e,t))return!0})}),r}function n(t,e){var n=t[0];if(t[1].canPlaySource(e,r.options_[n.toLowerCase()]))return{source:e,tech:n}}var i,r=this,a=this.options_.techOrder.map(function(t){return[t,fi.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(m.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?e(t,a,(i=n,function(t,e){return i(e,t)})):e(a,t,n))||!1},t.src=function(t){var i=this;if(void 0===t)return this.cache_.src||"";var r=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):l(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[Ei({src:t})]:l(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Ei(t)]:[];return t}(t);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),vi(this,r[0],function(t,e){var n;if(i.middleware_=e,i.cache_.sources=r,i.updateSourceCaches_(t),i.src_(t))return 1<r.length?i.src(r.slice(1)):(i.changingSrc_=!1,i.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void i.triggerReady());n=i.tech_,e.forEach(function(t){return t.setTech&&t.setTech(n)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},t.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,Lt(e)!==Lt(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){i.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1)},t.load=function(){this.techCall_("load")},t.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},t.currentSource=function(){return this.cache_.source||{}},t.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},t.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},t.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},t.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},t.poster=function(t){if(void 0===t)return this.poster_;(t=t||"")!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new _e(t),this.addClass("vjs-error"),m.error("(CODE:"+this.error_.code+" "+_e.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.reportUserActivity=function(t){this.userActivity_=!0},t.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.listenForUserActivity_=function(){var e,n,i,r,a=_t(this,this.reportUserActivity);this.on("mousedown",function(){a(),this.clearInterval(e),e=this.setInterval(a,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,a())}),this.on("mouseup",function(t){a(),this.clearInterval(e)}),this.on("keydown",a),this.on("keyup",a),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var t=this.options_.inactivityTimeout;t<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},t.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},t.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},t.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},t.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},t.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e=e||t,this.tech_)return this.tech_.removeRemoteTextTrack(e)},t.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},t.languages=function(){return Ut(h.prototype.options_.languages,this.languages_)},t.toJSON=function(){var t=Ut(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=Ut(i)).player=void 0,t.tracks[n]=i}return t},t.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new ke(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},t.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Sa.length;n++){var i=Sa[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(wa[t]),this.addClass(wa[i]),this.breakpoint_=i;break}}},t.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},t.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=b({},Ca,t),this.updateCurrentBreakpoint_()),b(this.breakpoints_)},t.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?((this.responsive_=t)?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},t.currentBreakpoint=function(){return this.breakpoint_},t.currentBreakpointClass=function(){return wa[this.breakpoint_]||""},h.getTagSettings=function(t){var e={sources:[],tracks:[]},n=M(t),i=n["data-setup"];if(x(t,"vjs-fill")&&(n.fill=!0),x(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]}(i||"{}"),a=r[0],s=r[1];a&&m.error(a),b(n,s)}if(b(e,n),t.hasChildNodes())for(var o=t.childNodes,u=0,l=o.length;u<l;u++){var c=o[u],h=c.nodeName.toLowerCase();"source"===h?e.sources.push(M(c)):"track"===h&&e.tracks.push(M(c))}return e},t.flexNotSupported_=function(){var t=d.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},h}(Bt);Rn.names.forEach(function(t){var e=Rn[t];Ea.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Ea.players={};var ka=y.navigator;Ea.prototype.options_={techOrder:fi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ka&&(ka.languages&&ka.languages[0]||ka.userLanguage||ka.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Ea.prototype[t]=function(){return this.techGet_(t)}}),_a.forEach(function(t){Ea.prototype["handleTech"+Lt(t)+"_"]=function(){return this.trigger(t)}}),Bt.registerComponent("Player",Ea);function Aa(t){return La.hasOwnProperty(t)}function xa(t){return Aa(t)?La[t]:void 0}function Pa(t,e){t[Da]=t[Da]||{},t[Da][e]=!0}function Oa(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)}function Ia(r,a){return a.prototype.name=r,function(){Oa(this,{name:r,plugin:a,instance:null},!0);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=s(a,[this].concat(e));return this[r]=function(){return i},Oa(this,i.getEventHash()),i}}var $a,Ma="plugin",Da="activePlugins_",La={},Ua=(($a=Ra.prototype).version=function(){return this.constructor.VERSION},$a.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},$a.trigger=function(t,e){return void 0===e&&(e={}),ht(this.eventBusEl_,t,this.getEventHash(e))},$a.handleStateChanged=function(t){},$a.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Da][t]=!1,this.player=this.state=null,e[t]=Ia(t,La[t])},Ra.isBasic=function(t){var e="string"==typeof t?xa(t):t;return"function"==typeof e&&!Ra.prototype.isPrototypeOf(e.prototype)},Ra.registerPlugin=function(t,e){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Aa(t))m.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Ea.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof e+".");var n,i,r;return La[t]=e,t!==Ma&&(Ra.isBasic(e)?Ea.prototype[t]=(n=t,i=e,r=function(){Oa(this,{name:n,plugin:i,instance:null},!0);var t=i.apply(this,arguments);return Pa(this,n),Oa(this,{name:n,plugin:i,instance:t}),t},Object.keys(i).forEach(function(t){r[t]=i[t]}),r):Ea.prototype[t]=Ia(t,e)),e},Ra.deregisterPlugin=function(t){if(t===Ma)throw new Error("Cannot de-register base plugin.");Aa(t)&&(delete La[t],delete Ea.prototype[t])},Ra.getPlugins=function(t){var n;return void 0===t&&(t=Object.keys(La)),t.forEach(function(t){var e=xa(t);e&&((n=n||{})[t]=e)}),n},Ra.getPluginVersion=function(t){var e=xa(t);return e&&e.VERSION||""},Ra);function Ra(t){if(this.constructor===Ra)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,$t(this),delete this.trigger,Dt(this,this.constructor.defaultState),Pa(t,this.name),this.dispose=_t(this,this.dispose),t.on("dispose",this.dispose)}Ua.getPlugin=xa,Ua.BASE_PLUGIN_NAME=Ma,Ua.registerPlugin(Ma,Ua),Ea.prototype.usingPlugin=function(t){return!!this[Da]&&!0===this[Da][t]},Ea.prototype.hasPlugin=function(t){return!!Aa(t)};var Ba=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Na(t,n,e){var i=Na.getPlayer(t);if(i)return n&&m.warn('Player "'+t+'" is already initialised. Options will not be applied.'),e&&i.ready(e),i;var r="string"==typeof t?X("#"+Ba(t)):t;if(!w(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");d.body.contains(r)||m.warn("The element supplied is not included in the DOM"),n=n||{},Na.hooks("beforesetup").forEach(function(t){var e=t(r,Ut(n));l(e)&&!Array.isArray(e)?n=Ut(n,e):m.error("please return an object in beforesetup hooks")});var a=Bt.getComponent("Player");return i=new a(r,n,e),Na.hooks("setup").forEach(function(t){return t(i)}),i}if(Na.hooks_={},Na.hooks=function(t,e){return Na.hooks_[t]=Na.hooks_[t]||[],e&&(Na.hooks_[t]=Na.hooks_[t].concat(e)),Na.hooks_[t]},Na.hook=function(t,e){Na.hooks(t,e)},Na.hookOnce=function(n,t){Na.hooks(n,[].concat(t).map(function(e){return function t(){return Na.removeHook(n,t),e.apply(void 0,arguments)}}))},Na.removeHook=function(t,e){var n=Na.hooks(t).indexOf(e);return!(n<=-1||(Na.hooks_[t]=Na.hooks_[t].slice(),Na.hooks_[t].splice(n,1),0))},!0!==y.VIDEOJS_NO_DYNAMIC_STYLE&&S()){var Ha=X(".vjs-styles-defaults");if(!Ha){Ha=yt("vjs-styles-defaults");var ja=X("head");ja&&ja.insertBefore(Ha,ja.firstChild),bt(Ha,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}vt(1,Na),Na.VERSION="7.3.0",Na.options=Ea.prototype.options_,Na.getPlayers=function(){return Ea.players},Na.getPlayer=function(t){var e,n=Ea.players;if("string"==typeof t){var i=Ba(t),r=n[i];if(r)return r;e=X("#"+i)}else e=t;if(w(e)){var a=e.player,s=e.playerId;if(a||n[s])return a||n[s]}},Na.getAllPlayers=function(){return Object.keys(Ea.players).map(function(t){return Ea.players[t]}).filter(Boolean)},Na.players=Ea.players,Na.getComponent=Bt.getComponent,Na.registerComponent=function(t,e){fi.isTech(e)&&m.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Bt.registerComponent.call(Bt,t,e)},Na.getTech=fi.getTech,Na.registerTech=fi.registerTech,Na.use=function(t,e){pi[t]=pi[t]||[],pi[t].push(e)},Object.defineProperty(Na,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Na.middleware,"TERMINATOR",{value:gi,writeable:!1,enumerable:!0}),Na.browser=le,Na.TOUCH_ENABLED=ue,Na.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(n,t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Na.mergeOptions=Ut,Na.bind=_t,Na.registerPlugin=Ua.registerPlugin,Na.deregisterPlugin=Ua.deregisterPlugin,Na.plugin=function(t,e){return m.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ua.registerPlugin(t,e)},Na.getPlugins=Ua.getPlugins,Na.getPlugin=Ua.getPlugin,Na.getPluginVersion=Ua.getPluginVersion,Na.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Na.options.languages=Ut(Na.options.languages,((n={})[t]=e,n)),Na.options.languages[t]},Na.log=m,Na.createLogger=g,Na.createTimeRange=Na.createTimeRanges=de,Na.formatTime=Vi,Na.setFormatTime=function(t){Gi=t},Na.resetFormatTime=function(){Gi=Fi},Na.parseUrl=Ie,Na.isCrossOrigin=De,Na.EventTarget=St,Na.on=lt,Na.one=dt,Na.off=ct,Na.trigger=ht,Na.xhr=_n,Na.TextTrack=En,Na.AudioTrack=Pn,Na.VideoTrack=On,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Na[t]=function(){return m.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Y[t].apply(null,arguments)}}),Na.computedStyle=i,Na.dom=Y,Na.url=Qe;function Fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ga(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Va(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function qa(t){for(var e=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=e.length,r=void 0;i--;)""!==e[i]&&((r=/([^=]*)=(.*)/.exec(e[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n}function Wa(t){return!!t&&"object"==typeof t}function za(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(e,n){return Object.keys(n).forEach(function(t){Array.isArray(e[t])&&Array.isArray(n[t])?e[t]=e[t].concat(n[t]):Wa(e[t])&&Wa(n[t])?e[t]=za(e[t],n[t]):e[t]=n[t]}),e},{})}function Xa(t){return t.reduce(function(t,e){return t.concat(e)},[])}function Ka(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function Ya(t){var e;return e=t.reduce(function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");return t[i]?(e.segments[0].discontinuity=!0,(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e,t},{}),Object.keys(e).map(function(t){return e[t]}).map(function(t){var e;return t.discontinuityStarts=(e=t.segments,e.reduce(function(t,e,n){return e.discontinuity&&t.push(n),t},[])),t})}function Qa(t){var e,n=t.attributes,i=t.segments,r={attributes:((e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),r}var Ja,Za,ts,es=on(function(t,e){var n,c,i,r,h;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,h={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=h.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=h.normalizePath(i.path),h.buildURLFromParts(i)}var r=h.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=h.normalizePath(r.path),h.buildURLFromParts(r)):e;var a=h.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var s=c.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path="/");var o={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var u=a.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=h.normalizePath(l)}else o.path=a.path,r.params||(o.params=a.params,r.query||(o.query=a.query));return null===o.path&&(o.path=n.alwaysNormalize?h.normalizePath(r.path):r.path),h.buildURLFromParts(o)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(r,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=h}),ns=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},is=(cs.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},cs.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),-1<n},cs.prototype.trigger=function(t){var e=this.listeners[t],n=void 0,i=void 0,r=void 0;if(e)if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)},cs.prototype.dispose=function(){this.listeners={}},cs.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},cs),rs=(Ga(ls,ts=is),ls.prototype.push=function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");-1<e;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},ls),as=(Ga(us,Za=is),us.prototype.push=function(t){var e=void 0,n=void 0;if(0!==(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===t[0]){for(var i=0;i<this.customParsers.length;i++)if(this.customParsers[i].call(this,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var r=qa(e[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var a=r.BYTERANGE.split("@"),s=a[0],o=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),o&&(n.byterange.offset=parseInt(o,10))}}this.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=qa(e[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=qa(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))this.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=qa(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=qa(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:t.slice(4)})}}}else this.trigger("data",{type:"comment",text:t.slice(1)})}else this.trigger("data",{type:"uri",uri:t})},us.prototype.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,a=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:a}),!0})},us),ss=(Ga(os,Ja=is),os.prototype.push=function(t){this.lineStream.push(t)},os.prototype.end=function(){this.lineStream.push("\n")},os.prototype.addParser=function(t){this.parseStream.addParser(t)},os);function os(){Fa(this,os);var t=Va(this,Ja.call(this));t.lineStream=new rs,t.parseStream=new as,t.lineStream.pipe(t.parseStream);var r=t,a=[],s={},o=void 0,u=void 0,l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(e){var n=void 0,i=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&((s.byterange=t).length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&((s.byterange=t).offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<e.duration&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){e.attributes?"NONE"!==e.attributes.METHOD?e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(u.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):u=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){o={},e.uri&&(o.uri=e.uri),e.byterange&&(o.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(s.attributes||(s.attributes={}),ns(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var t=this.manifest.mediaGroups[e.attributes.TYPE];t[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},n=t[e.attributes["GROUP-ID"]],(i={default:/yes/i.test(e.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(i.language=e.attributes.LANGUAGE),e.attributes.URI&&(i.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(i.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(i.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(i.forced=/yes/i.test(e.attributes.FORCED)),n[e.attributes.NAME]=i}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=e.data},"cue-out-cont":function(){s.cueOutCont=e.data},"cue-in":function(){s.cueIn=e.data}}[e.tagType]||function(){}).call(r)},uri:function(){s.uri=e.uri,a.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),u&&(s.key=u),s.timeline=c,o&&(s.map=o),s={}},comment:function(){},custom:function(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)}),t}function us(){Fa(this,us);var t=Va(this,Za.call(this));return t.customParsers=[],t}function ls(){Fa(this,ls);var t=Va(this,ts.call(this));return t.buffer="",t}function cs(){Fa(this,cs),this.listeners={}}function hs(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=Fs.buildAbsoluteURL(y.location.href,t)),Fs.buildAbsoluteURL(t,e))}function ds(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,a=t.range,s=void 0===a?"":a,o={uri:r,resolvedUri:hs(n||"",r)};if(s){var u=s.split("-"),l=parseInt(u[0],10),c=parseInt(u[1],10);o.byterange={length:c-l,offset:l}}return o}function fs(t,e){for(var n,i,r,a,s,o,u,l,c,h=t.type,d=void 0===h?"static":h,f=t.minimumUpdatePeriod,p=void 0===f?0:f,m=t.media,g=void 0===m?"":m,v=t.sourceDuration,y=t.timescale,b=void 0===y?1:y,_=t.startNumber,T=void 0===_?1:_,S=t.periodIndex,w=[],C=-1,E=0;E<e.length;E++){var k=e[E],A=k.d,x=k.r||0,P=k.t||0;C<0&&(C=P),P&&C<P&&(C=P);var O=void 0;if(x<0){var I=E+1;O=I===e.length?"dynamic"===d&&0<p&&0<g.indexOf("$Number$")?(n=t.NOW,i=t.clientOffset,r=t.availabilityStartTime,s=void 0===(a=t.timescale)?1:a,u=void 0===(o=t.start)?0:o,c=(n+i)/1e3+(void 0===(l=t.minimumUpdatePeriod)?0:l)-(r+u),Math.ceil((c*s-C)/A)):(v*b-C)/A:(e[I].t-C)/A}else O=x+1;for(var $=T+w.length+O,M=T+w.length;M<$;)w.push({number:M,duration:A/b,time:C,timeline:S}),C+=A,M++}return w}function ps(t){var o,e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,a=void 0===r?1:r,s=t.sourceDuration,u=Gs[n](t),l=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(u.start,u.end).map((o=t,function(t,e){var n=o.duration,i=o.timescale,r=void 0===i?1:i,a=o.periodIndex,s=o.startNumber;return{number:(void 0===s?1:s)+t,duration:n/r,timeline:a,time:e*n}}));if("static"===n){var c=l.length-1;l[c].duration=s-i/a*c}return l}function ms(t,e){return t.replace(Vs,(a=e,function(t,e,n,i){if("$$"===t)return"$";if(void 0===a[e])return t;var r=""+a[e];return"RepresentationID"===e||(i=n?parseInt(i,10):1)<=r.length?r:new Array(i-r.length+1).join("0")+r}));var a}function gs(n,t){var e,i,r={RepresentationID:n.id,Bandwidth:n.bandwidth||0},a=n.initialization,s=void 0===a?{sourceURL:"",range:""}:a,o=ds({baseUrl:n.baseUrl,source:ms(s.sourceURL,r),range:s.range});return i=t,((e=n).duration||i?e.duration?ps(e):fs(e,i):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]).map(function(t){r.Number=t.number,r.Time=t.time;var e=ms(n.media||"",r);return{uri:e,timeline:t.timeline,duration:t.duration,resolvedUri:hs(n.baseUrl||"",e),map:o,number:t.number}})}function vs(o,t){var e=o.duration,n=o.segmentUrls,i=void 0===n?[]:n;if(!e&&!t||e&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var r,a=i.map(function(t){return e=t,n=o.baseUrl,i=o.initialization,a=ds({baseUrl:n,source:(r=void 0===i?{}:i).sourceURL,range:r.range}),(s=ds({baseUrl:n,source:e.media,range:e.mediaRange})).map=a,s;var e,n,i,r,a,s});return e&&(r=ps(o)),t&&(r=fs(o,t)),r.map(function(t,e){if(a[e]){var n=a[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}}).filter(function(t){return t})}function ys(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,a=t.timescale,s=void 0===a?1:a,o=t.indexRange,u=void 0===o?"":o,l=t.duration;if(!e)throw new Error("NO_BASE_URL");var c=ds({baseUrl:e,source:i.sourceURL,range:i.range}),h=ds({baseUrl:e,source:e,range:u});if(h.map=c,l){var d=ps(t);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/s,h.timeline=0);return h.number=0,[h]}function bs(t){var e,n,i=t.attributes,r=t.segmentInfo;if(r.template?(n=gs,e=za(i,r.template)):r.base?(n=ys,e=za(i,r.base)):r.list&&(n=vs,e=za(i,r.list)),!n)return{attributes:i};var a=n(e,r.timeline);if(e.duration){var s=e.duration,o=e.timescale,u=void 0===o?1:o;e.duration=s/u}else a.length?e.duration=a.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0;return{attributes:e,segments:a}}function _s(t,e){return Ka(t.childNodes).filter(function(t){return t.tagName===e})}function Ts(t){return t.textContent.trim()}function Ss(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],a=n[2],s=n[3],o=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(a||0)+3600*parseFloat(s||0)+60*parseFloat(o||0)+parseFloat(u||0)}function ws(t){return t&&t.attributes?Ka(t.attributes).reduce(function(t,e){var n=qs[e.name]||qs.DEFAULT;return t[e.name]=n(e.value),t},{}):{}}function Cs(t,n){return n.length?Xa(t.map(function(e){return n.map(function(t){return hs(e,Ts(t))})})):t}function Es(t){var e=_s(t,"SegmentTemplate")[0],n=_s(t,"SegmentList")[0],i=n&&_s(n,"SegmentURL").map(function(t){return za({tag:"SegmentURL"},ws(t))}),r=_s(t,"SegmentBase")[0],a=n||e,s=a&&_s(a,"SegmentTimeline")[0],o=n||r||e,u=o&&_s(o,"Initialization")[0],l=e&&ws(e);l&&u?l.initialization=u&&ws(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:s&&_s(s,"S").map(function(t){return ws(t)}),list:n&&za(ws(n),{segmentUrls:i,initialization:ws(u)}),base:r&&za(ws(r),{initialization:ws(u)})};return Object.keys(c).forEach(function(t){c[t]||delete c[t]}),c}function ks(f,p,m){return function(t){var e=ws(t),n=Cs(p,_s(t,"BaseURL")),i=_s(t,"Role")[0],r={role:ws(i)},a=za(f,e,r),s=_s(t,"ContentProtection").reduce(function(t,e){var n=ws(e),i=Ws[n.schemeIdUri];if(i){t[i]={attributes:n};var r=_s(e,"cenc:pssh")[0];if(r){var a=Ts(r),s=a&&function(t){for(var e=y.atob(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(a);t[i].pssh=s}}return t},{});Object.keys(s).length&&(a=za(a,{contentProtection:s}));var o,u,l,c=Es(t),h=_s(t,"Representation"),d=za(m,c);return Xa(h.map((o=a,u=n,l=d,function(t){var e=_s(t,"BaseURL"),n=Cs(u,e),i=za(o,ws(t)),r=Es(t);return n.map(function(t){return{segmentInfo:za(l,r),attributes:za(i,{baseUrl:t})}})})))}}function As(t){if(""===t)throw new Error("DASH_EMPTY_MANIFEST");var e=(new y.DOMParser).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&0<n.getElementsByTagName("parsererror").length)throw new Error("DASH_INVALID_XML");return n}function xs(t,e){return function(t){var e;if(!t.length)return{};var n=t[0].attributes,i=n.sourceDuration,r=n.minimumUpdatePeriod,a=void 0===r?0:r,s=Ya(t.filter(function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType})).map(Qa),o=Ya(t.filter(function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType})),u=t.filter(function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType}),l={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((e={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:i,playlists:s,minimumUpdatePeriod:1e3*a};return o.length&&(l.mediaGroups.AUDIO.audio=o.reduce(function(t,e){var n,i,r,a,s=e.attributes.role&&e.attributes.role.value||"main",o=e.attributes.lang||"",u="main";return o&&(u=e.attributes.lang+" ("+s+")"),t[u]&&t[u].playlists[0].attributes.BANDWIDTH>e.attributes.bandwidth||(t[u]={language:o,autoselect:!0,default:"main"===s,playlists:[(i=e.attributes,r=e.segments,a={attributes:((n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1},i.contentProtection&&(a.contentProtection=i.contentProtection),a)],uri:""}),t},{})),u.length&&(l.mediaGroups.SUBTITLES.subs=u.reduce(function(t,e){var n,i,r,a=e.attributes.lang||"text";return t[a]||(t[a]={language:a,default:!1,autoselect:!1,playlists:[(i=e.attributes,void 0===(r=e.segments)&&(r=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:((n={NAME:i.id,BANDWIDTH:i.bandwidth})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1})],uri:""}),t},{})),l}(function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,r=void 0===i?"":i,a=n.NOW,s=void 0===a?Date.now():a,o=n.clientOffset,u=void 0===o?0:o,l=_s(t,"Period");if(!l.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var c,h,d=ws(t),f=Cs([r],_s(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=s,d.clientOffset=u,Xa(l.map((c=d,h=f,function(t,e){var n=Cs(h,_s(t,"BaseURL")),i=ws(t),r=parseInt(i.id,10),a=y.isNaN(r)?e:r,s=za(c,{periodIndex:a}),o=_s(t,"AdaptationSet"),u=Es(t);return Xa(o.map(ks(s,n,u)))})))}(As(t),e).map(bs))}function Ps(t){return t>>>0}var Os,Is,$s,Ms,Ds,Ls,Us,Rs,Bs,Ns,Hs,js,Fs=(Is=Os={exports:{}},$s=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,Ms=/^([^\/?#]*)(.*)$/,Ds=/(?:\/|^)\.(?=\/)/g,Ls=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,Us={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=Us.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=Us.normalizePath(i.path),Us.buildURLFromParts(i)}var r=Us.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=Us.normalizePath(r.path),Us.buildURLFromParts(r)):e;var a=Us.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var s=Ms.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path="/");var o={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var u=a.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=Us.normalizePath(l)}else o.path=a.path,r.params||(o.params=a.params,r.query||(o.query=a.query));return null===o.path&&(o.path=n.alwaysNormalize?Us.normalizePath(r.path):r.path),Us.buildURLFromParts(o)},parseURL:function(t){var e=$s.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(Ds,"");t.length!==(t=t.replace(Ls,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},Is.exports=Us,Os.exports),Gs={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,a=void 0===r?1:r,s=t.duration,o=t.start,u=void 0===o?0:o,l=t.minimumUpdatePeriod,c=void 0===l?0:l,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(e+n)/1e3,p=i+u,m=f+c-p,g=Math.ceil(m*a/s),v=Math.floor((f-p-d)*a/s),y=Math.floor((f-p)*a/s);return{start:Math.max(0,v),end:Math.min(g,y)}}},Vs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,qs={mediaPresentationDuration:function(t){return Ss(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return Ss(t)},timeShiftBufferDepth:function(t){return Ss(t)},start:function(t){return Ss(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?Ss(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},Ws={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};Ns=function(t){return Rs(t,["moov","trak"]).reduce(function(t,e){var n,i,r,a,s;return(n=Rs(e,["tkhd"])[0])?(i=n[0],a=Ps(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(s=Rs(e,["mdia","mdhd"])[0])?(r=0===(i=s[0])?12:20,t[a]=Ps(s[r]<<24|s[r+1]<<16|s[r+2]<<8|s[r+3]),t):null):null},{})},Hs=function(r,t){var e,n,i;return e=Rs(t,["moof","traf"]),n=[].concat.apply([],e.map(function(i){return Rs(i,["tfhd"]).map(function(t){var e,n;return e=Ps(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),n=r[e]||9e4,(Rs(i,["tfdt"]).map(function(t){var e,n;return e=t[0],n=Ps(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=Ps(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/n})})),i=Math.min.apply(null,n),isFinite(i)?i:0},js=function(t){var e=Rs(t,["moov","trak"]),o=[];return e.forEach(function(t){var e=Rs(t,["mdia","hdlr"]),s=Rs(t,["tkhd"]);e.forEach(function(t,e){var n,i,r=Bs(t.subarray(8,12)),a=s[e];"vide"===r&&(i=0===(n=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),o.push(i))})}),o};var zs,Xs,Ks,Ys,Qs,Js,Zs,to,eo,no,io,ro,ao,so,oo,uo,lo,co,ho,fo,po,mo,go,vo,yo,bo,_o,To,So,wo,Co,Eo,ko,Ao,xo,Po,Oo,Io,$o,Mo,Do={findBox:Rs=function(t,e){var n,i,r,a,s,o=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=Ps(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=Bs(t.subarray(n+4,n+8)),a=1<i?n+i:t.byteLength,r===e[0]&&(1===e.length?o.push(t.subarray(n+8,a)):(s=Rs(t.subarray(n+8,a),e.slice(1))).length&&(o=o.concat(s))),n=a;return o},parseType:Bs=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),(e+=String.fromCharCode(t[2]))+String.fromCharCode(t[3])},timescale:Ns,startTime:Hs,videoTrackIds:js},Lo=Math.pow(2,32)-1;!function(){var t;if(mo={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in mo)mo.hasOwnProperty(t)&&(mo[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);go=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),yo=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),vo=new Uint8Array([0,0,0,1]),bo=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),_o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),To={video:bo,audio:_o},Co=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),wo=new Uint8Array([0,0,0,0,0,0,0,0]),Eo=new Uint8Array([0,0,0,0,0,0,0,0]),ko=Eo,Ao=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xo=Eo,So=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),zs=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},Xs=function(){return zs(mo.dinf,zs(mo.dref,Co))},Ks=function(t){return zs(mo.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},oo=function(t){return zs(mo.hdlr,To[t])},so=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),zs(mo.mdhd,e)},ao=function(t){return zs(mo.mdia,so(t),oo(t.type),Js(t))},Qs=function(t){return zs(mo.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},Js=function(t){return zs(mo.minf,"video"===t.type?zs(mo.vmhd,So):zs(mo.smhd,wo),Xs(),lo(t))},Zs=function(t,e){for(var n=[],i=e.length;i--;)n[i]=ho(e[i]);return zs.apply(null,[mo.moof,Qs(t)].concat(n))},to=function(t){for(var e=t.length,n=[];e--;)n[e]=io(t[e]);return zs.apply(null,[mo.moov,no(4294967295)].concat(n).concat(eo(t)))},eo=function(t){for(var e=t.length,n=[];e--;)n[e]=fo(t[e]);return zs.apply(null,[mo.mvex].concat(n))},no=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return zs(mo.mvhd,e)},uo=function(t){var e,n,i=t.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,r[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return zs(mo.sdtp,r)},lo=function(t){return zs(mo.stbl,co(t),zs(mo.stts,xo),zs(mo.stsc,ko),zs(mo.stsz,Ao),zs(mo.stco,Eo))},co=function(t){return zs(mo.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===t.type?Po:Oo)(t))},Po=function(t){var e,n=t.sps||[],i=t.pps||[],r=[],a=[];for(e=0;e<n.length;e++)r.push((65280&n[e].byteLength)>>>8),r.push(255&n[e].byteLength),r=r.concat(Array.prototype.slice.call(n[e]));for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));return zs(mo.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),zs(mo.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(a))),zs(mo.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},Oo=function(t){return zs(mo.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),Ks(t))},ro=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return zs(mo.tkhd,e)},ho=function(t){var e,n,i,r,a,s;return e=zs(mo.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(1+Lo)),s=Math.floor(t.baseMediaDecodeTime%(1+Lo)),n=zs(mo.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(i=po(t,92),zs(mo.traf,e,n,i)):(r=uo(t),i=po(t,r.length+92),zs(mo.traf,e,n,i,r))},io=function(t){return t.duration=t.duration||4294967295,zs(mo.trak,ro(t),ao(t))},fo=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),zs(mo.trex,e)},Mo=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},$o=function(t,e){var n,i,r,a;for(e+=20+16*(i=t.samples||[]).length,n=Mo(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return zs(mo.trun,new Uint8Array(n))},Io=function(t,e){var n,i,r,a;for(e+=20+8*(i=t.samples||[]).length,n=Mo(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return zs(mo.trun,new Uint8Array(n))},po=function(t,e){return("audio"===t.type?Io:$o)(t,e)};function Uo(){this.init=function(){var a={};this.on=function(t,e){a[t]||(a[t]=[]),a[t]=a[t].concat(e)},this.off=function(t,e){var n;return!!a[t]&&(n=a[t].indexOf(e),a[t]=a[t].slice(),a[t].splice(n,1),-1<n)},this.trigger=function(t){var e,n,i,r;if(e=a[t])if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},this.dispose=function(){a={}}}}var Ro={ftyp:Ys=function(){return zs(mo.ftyp,go,vo,go,yo)},mdat:function(t){return zs(mo.mdat,t)},moof:Zs,moov:to,initSegment:function(t){var e,n=Ys(),i=to(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}};Uo.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},Uo.prototype.push=function(t){this.trigger("data",t)},Uo.prototype.flush=function(t){this.trigger("done",t)};function Bo(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts}function No(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n}function Ho(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}function jo(){jo.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new zo(0,0),new zo(0,1),new zo(1,0),new zo(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)}var Fo=Uo;(jo.prototype=new Fo).push=function(t){var e,n,i,r;if("sei_rbsp"===t.nalUnitType&&4===(e=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,r=i=0}return n}(t.escapedRBSP)).payloadType&&(n=181!==(r=e).payload[0]||49!=(r.payload[1]<<8|r.payload[2])||"GA94"!==String.fromCharCode(r.payload[3],r.payload[4],r.payload[5],r.payload[6])||3!==r.payload[7]?null:r.payload.subarray(8,r.payload.length-1)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(t,e){var n,i,r,a,s=[];if(!(64&e[0]))return s;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[2+r]&&(a.ccData=e[3+r]<<8|e[4+r],s.push(a));return s}(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},jo.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},jo.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},jo.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},jo.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},jo.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};function Go(t){return null===t?"":(t=qo[t]||t,String.fromCharCode(t))}function Vo(){for(var t=[],e=15;e--;)t.push("");return t}var qo={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Wo=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],zo=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Vo();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Vo();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Vo()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))a=Go((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Go((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var s=Wo.indexOf(7968&e);"rollUp"===this.mode_&&this.setRollUp(t.pts,s),s!==this.row_&&(this.clearFormatting(t.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=Go(i),a+=Go(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};zo.prototype=new Fo,zo.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},zo.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Vo(),this.nonDisplayed_=Vo(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},zo.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},zo.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&48<=e&&e<=63},zo.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&32<=e&&e<=63},zo.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&32<=e&&e<=47},zo.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&33<=e&&e<=35},zo.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&64<=e&&e<=127},zo.prototype.isColorPAC=function(t){return 64<=t&&t<=79||96<=t&&t<=127},zo.prototype.isNormalChar=function(t){return 32<=t&&t<=127},zo.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Vo(),this.displayed_=Vo()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},zo.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},zo.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},zo.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},zo.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},zo.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},zo.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};function Xo(t,e){var n=1;for(e<t&&(n=-1);4294967296<Math.abs(e-t);)t+=8589934592*n;return t}function Ko(t){var e,n;Ko.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=Xo(t.dts,n),t.pts=Xo(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){e=n=void 0}}var Yo={CaptionStream:jo,Cea608Stream:zo},Qo={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};Ko.prototype=new Fo;function Jo(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}function Zo(t,e,n){return decodeURIComponent(Jo(t,e,n))}function tu(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var eu,nu=Ko,iu=Xo,ru={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Zo(t.data,1,e),t.value=Zo(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Zo(t.data,1,e),t.url=Zo(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(Jo(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(eu=function(t){var e,u={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},l=0,c=[],h=0;if(eu.prototype.init.call(this),this.dispatchType=Qo.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(e=0;e<u.descriptor.length;e++)this.dispatchType+=("00"+u.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,i,r,a;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(h=0,c.length=0),0===c.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))u.debug;else if(c.push(t),h+=t.data.byteLength,1===c.length&&(l=tu(t.data.subarray(6,10)),l+=10),!(h<l)){for(e={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},a=0;a<l;)e.data.set(c[0].data.subarray(0,l-a),a),a+=c[0].data.byteLength,h-=c[0].data.byteLength,c.shift();n=10,64&e.data[5]&&(n+=4,n+=tu(e.data.subarray(10,14)),l-=tu(e.data.subarray(16,20)));do{if((i=tu(e.data.subarray(n+4,n+8)))<1)return;if((r={id:String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),data:e.data.subarray(n+10,n+i+10)}).key=r.id,ru[r.id]&&(ru[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var s=r.data,o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;o*=4,o+=3&s[7],r.timeStamp=o,void 0===e.pts&&void 0===e.dts&&(e.pts=r.timeStamp,e.dts=r.timeStamp),this.trigger("timestamp",r)}e.frames.push(r),n+=10,n+=i}while(n<l);this.trigger("data",e)}}}).prototype=new Fo;var au,su,ou,uu=eu,lu=nu;(au=function(){var r=new Uint8Array(188),a=0;au.prototype.init.call(this),this.push=function(t){var e,n=0,i=188;for(a?((e=new Uint8Array(t.byteLength+a)).set(r.subarray(0,a)),e.set(t,a),a=0):e=t;i<e.byteLength;)71!==e[n]||71!==e[i]?(n++,i++):(this.trigger("data",e.subarray(n,i)),n+=188,i+=188);n<e.byteLength&&(r.set(e.subarray(n),0),a=e.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}}).prototype=new Fo,(su=function(){var i,r,a,s;su.prototype.init.call(this),(s=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(t,e){var n=0;e.payloadUnitStartIndicator&&(n+=t[n]+1),("pat"===e.type?r:a)(t.subarray(n),e)},r=function(t,e){e.section_number=t[7],e.last_section_number=t[8],s.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=s.pmtPid},a=function(t,e){var n,i;if(1&t[5]){for(s.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var r=t[i],a=(31&t[i+1])<<8|t[i+2];r===Qo.H264_STREAM_TYPE&&null===s.programMapTable.video?s.programMapTable.video=a:r===Qo.ADTS_STREAM_TYPE&&null===s.programMapTable.audio?s.programMapTable.audio=a:r===Qo.METADATA_STREAM_TYPE&&(s.programMapTable["timed-metadata"][a]=r),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=s.programMapTable}},this.push=function(t){var e={},n=4;if(e.payloadUnitStartIndicator=!!(64&t[1]),e.pid=31&t[1],e.pid<<=8,e.pid|=t[2],1<(48&t[3])>>>4&&(n+=t[n]+1),0===e.pid)e.type="pat",i(t.subarray(n),e),this.trigger("data",e);else if(e.pid===this.pmtPid)for(e.type="pmt",i(t.subarray(n),e),this.trigger("data",e);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,e]):this.processPes_(t,n,e)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Qo.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Qo.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new Fo,su.STREAM_TYPES={h264:27,adts:15},(ou=function(){function i(t,e,n){var i,r,a=new Uint8Array(t.size),s={type:e},o=0,u=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,o=0;o<t.data.length;o++)r=t.data[o],a.set(r.data,u),u+=r.data.byteLength;var l,c,h;l=a,(c=s).packetLength=6+(l[4]<<8|l[5]),c.dataAlignmentIndicator=0!=(4&l[6]),192&(h=l[7])&&(c.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,c.pts*=4,c.pts+=(6&l[13])>>>1,c.dts=c.pts,64&h&&(c.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,c.dts*=4,c.dts+=(6&l[18])>>>1)),c.data=l.subarray(9+l[8]),i="video"===e||s.packetLength<=t.size,(n||i)&&(t.size=0,t.data.length=0),i&&d.trigger("data",s)}}var d=this,r={data:[],size:0},a={data:[],size:0},s={data:[],size:0};ou.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var t,e;switch(n.streamType){case Qo.H264_STREAM_TYPE:case Qo.H264_STREAM_TYPE:t=r,e="video";break;case Qo.ADTS_STREAM_TYPE:t=a,e="audio";break;case Qo.METADATA_STREAM_TYPE:t=s,e="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(t,e,!0),t.data.push(n),t.size+=n.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},e=n.programMapTable;null!==e.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),d.trigger("data",t)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(s,"timed-metadata"),this.trigger("done")}}).prototype=new Fo;var cu={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:au,TransportParseStream:su,ElementaryStream:ou,TimestampRolloverStream:lu,CaptionStream:Yo.CaptionStream,Cea608Stream:Yo.Cea608Stream,MetadataStream:uu};for(var hu in Qo)Qo.hasOwnProperty(hu)&&(cu[hu]=Qo[hu]);var du,fu=cu,pu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(du=function(){var l;du.prototype.init.call(this),this.push=function(t){var e,n,i,r,a,s,o=0,u=0;if("audio"===t.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+t.data.byteLength)).set(r),l.set(t.data,r.byteLength)):l=t.data;o+5<l.length;)if(255===l[o]&&240==(246&l[o+1])){if(n=2*(1&~l[o+1]),e=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,s=9e4*(a=1024*(1+(3&l[o+6])))/pu[(60&l[o+2])>>>2],i=o+e,l.byteLength<i)return;if(this.trigger("data",{pts:t.pts+u*s,dts:t.dts+u*s,sampleCount:a,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:pu[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+n,i)}),l.byteLength===i)return void(l=void 0);u++,l=l.subarray(i)}else o++},this.flush=function(){this.trigger("done")}}).prototype=new Fo;function mu(i){var r=i.byteLength,a=0,s=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+s},this.loadWord=function(){var t=i.byteLength-r,e=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");e.set(i.subarray(t,t+n)),a=new DataView(e.buffer).getUint32(0),s=8*n,r-=n},this.skipBits=function(t){var e;t<s||(t-=s,t-=8*(e=Math.floor(t/8)),r-=e,this.loadWord()),a<<=t,s-=t},this.readBits=function(t){var e=Math.min(s,t),n=a>>>32-e;return 0<(s-=e)?a<<=e:0<r&&this.loadWord(),0<(e=t-e)?n<<e|this.readBits(e):n},this.skipLeadingZeros=function(){var t;for(t=0;t<s;++t)if(0!=(a&2147483648>>>t))return a<<=t,s-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}var gu,vu,yu,bu=du;(vu=function(){var n,i,r=0;vu.prototype.init.call(this),this.push=function(t){var e;for(i=i?((e=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),e.set(t.data,i.byteLength),e):t.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}}).prototype=new Fo,yu={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(gu=function(){var n,i,r,a,s,o,b,e=new vu;gu.prototype.init.call(this),(n=this).push=function(t){"video"===t.type&&(i=t.trackId,r=t.pts,a=t.dts,e.push(t))},e.on("data",function(t){var e={trackId:i,pts:r,dts:a,data:t};switch(31&t[0]){case 5:e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:e.nalUnitType="sei_rbsp",e.escapedRBSP=s(t.subarray(1));break;case 7:e.nalUnitType="seq_parameter_set_rbsp",e.escapedRBSP=s(t.subarray(1)),e.config=o(e.escapedRBSP);break;case 8:e.nalUnitType="pic_parameter_set_rbsp";break;case 9:e.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",e)}),e.on("done",function(){n.trigger("done")}),this.flush=function(){e.flush()},b=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},s=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},o=function(t){var e,n,i,r,a,s,o,u,l,c,h,d,f,p=0,m=0,g=0,v=0,y=1;if(n=(e=new mu(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),yu[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==a?8:12,f=0;f<h;f++)e.readBoolean()&&b(f<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),o=e.readUnsignedExpGolomb(),f=0;f<o;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),0===(c=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(p=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}d&&(y=d[0]/d[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*p-2*m)*y),height:(2-c)*(l+1)*16-2*g-2*v}}}).prototype=new Fo;var _u,Tu={H264Stream:gu,NalByteStream:vu};(_u=function(){var o=new Uint8Array,u=0;_u.prototype.init.call(this),this.setTimestamp=function(t){u=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?20+n:10+n},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},this.push=function(t){var e,n,i,r,a=0,s=0;for(o.length?(r=o.length,(o=new Uint8Array(t.byteLength+r)).set(o.subarray(0,r)),o.set(t,r)):o=t;3<=o.length-s;)if(o[s]!=="I".charCodeAt(0)||o[s+1]!=="D".charCodeAt(0)||o[s+2]!=="3".charCodeAt(0))if(!0&o[s]&&240==(240&o[s+1])){if(o.length-s<7)break;if((a=this.parseAdtsSize(o,s))>o.length)break;i={type:"audio",data:o.subarray(s,s+a),pts:u,dts:u},this.trigger("data",i),s+=a}else s++;else{if(o.length-s<10)break;if((a=this.parseId3TagSize(o,s))>o.length)break;n={type:"timed-metadata",data:o.subarray(s,s+a)},this.trigger("data",n),s+=a}e=o.length-s,o=0<e?o.subarray(s):new Uint8Array}}).prototype=new Fo;function Su(t){for(var e=[];t--;)e.push(0);return e}var wu,Cu,Eu,ku,Au,xu,Pu,Ou=_u,Iu=[33,16,5,32,164,27],$u=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Mu={96e3:[Iu,[227,64],Su(154),[56]],88200:[Iu,[231],Su(170),[56]],64e3:[Iu,[248,192],Su(240),[56]],48e3:[Iu,[255,192],Su(268),[55,148,128],Su(54),[112]],44100:[Iu,[255,192],Su(268),[55,163,128],Su(84),[112]],32e3:[Iu,[255,192],Su(268),[55,234],Su(226),[112]],24e3:[Iu,[255,192],Su(268),[55,255,128],Su(268),[111,112],Su(126),[224]],16e3:[Iu,[255,192],Su(268),[55,255,128],Su(268),[111,255],Su(269),[223,108],Su(195),[1,192]],12e3:[$u,Su(268),[3,127,248],Su(268),[6,255,240],Su(268),[13,255,224],Su(268),[27,253,128],Su(259),[56]],11025:[$u,Su(268),[3,127,248],Su(268),[6,255,240],Su(268),[13,255,224],Su(268),[27,255,192],Su(268),[55,175,128],Su(108),[112]],8e3:[$u,Su(268),[3,121,16],Su(47),[7]]},Du=(wu=Mu,Object.keys(wu).reduce(function(t,e){return t[e]=new Uint8Array(wu[e].reduce(function(t,e){return t.concat(e)},[])),t},{}));xu=function(t,e){return Cu(Au(t,e))},Pu=function(t,e){return Eu(ku(t),e)},Cu=function(t){return 9e4*t},Eu=function(t,e){return t*e},ku=function(t){return t/9e4},Au=function(t,e){return t/e};var Lu,Uu,Ru,Bu,Nu,Hu,ju,Fu=xu,Gu=Pu,Vu=Tu.H264Stream,qu=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Wu=["width","height","profileIdc","levelIdc","profileCompatibility"];Nu=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},Hu=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},ju=function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n},(Uu=function(r,a){var s=[],o=0,e=0,l=0,c=1/0;a=a||{},Uu.prototype.init.call(this),this.push=function(e){Ho(r,e),r&&qu.forEach(function(t){r[t]=e[t]}),s.push(e)},this.setEarliestDts=function(t){e=t-r.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){c=t},this.setAudioAppendStart=function(t){l=t},this.flush=function(){var t,e,n,i;0!==s.length&&(t=this.trimAdtsFramesByEarliestDts_(s),r.baseMediaDecodeTime=No(r,a.keepOriginalTimestamps),this.prefixWithSilence_(r,t),r.samples=this.generateSampleTable_(t),n=Ro.mdat(this.concatenateFrameData_(t)),s=[],e=Ro.moof(o,[r]),i=new Uint8Array(e.byteLength+n.byteLength),o++,i.set(e),i.set(n,e.byteLength),Bo(r),this.trigger("data",{track:r,boxes:i})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,i,r,a,s=0,o=0,u=0;if(e.length&&(n=Fu(t.baseMediaDecodeTime,t.samplerate),i=Math.ceil(9e4/(t.samplerate/1024)),l&&c&&(s=n-Math.max(l,c),u=(o=Math.floor(s/i))*i),!(o<1||45e3<u))){for((r=Du[t.samplerate])||(r=e[0].data),a=0;a<o;a++)e.splice(a,0,{data:r});t.baseMediaDecodeTime-=Math.floor(Gu(u,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return r.minSegmentDts>=e?t:(r.minSegmentDts=1/0,t.filter(function(t){return t.dts>=e&&(r.minSegmentDts=Math.min(r.minSegmentDts,t.dts),r.minSegmentPts=r.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(t){var e,n,i=0,r=new Uint8Array(ju(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new Fo,(Lu=function(u,l){var e,n,c=0,h=[],d=[];l=l||{},Lu.prototype.init.call(this),delete u.minPTS,this.gopCache_=[],this.push=function(t){Ho(u,t),"seq_parameter_set_rbsp"!==t.nalUnitType||e||(e=t.config,u.sps=[t.data],Wu.forEach(function(t){u[t]=e[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,u.pps=[t.data]),h.push(t)},this.flush=function(){for(var t,e,n,i,r;h.length&&"access_unit_delimiter_rbsp"!==h[0].nalUnitType;)h.shift();if(0===h.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if((e=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r}(function(t){var e,n,i=[],r=[];for(e=i.byteLength=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r}(h)))[0][0].keyFrame||((t=this.getGopForFusion_(h[0],u))?(e.unshift(t),e.byteLength+=t.byteLength,e.nalCount+=t.nalCount,e.pts=t.pts,e.dts=t.dts,e.duration+=t.duration):(!(s=e)[0][0].keyFrame&&1<s.length&&(o=s.shift(),s.byteLength-=o.byteLength,s.nalCount-=o.nalCount,s[0][0].dts=o.dts,s[0][0].pts=o.pts,s[0][0].duration+=o.duration),e=s)),d.length){var a;if(!(a=l.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e)))return this.gopCache_.unshift({gop:e.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),h=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Bo(u),e=a}var s,o;Ho(u,e),u.samples=function(t,e){var n,i,r,a,s,o=e||0,u=[];for(n=0;n<t.length;n++)for(r=t[n],i=0;i<r.length;i++)a=r[i],s=void 0,(s={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}).dataOffset=o,s.compositionTimeOffset=a.pts-a.dts,s.duration=a.duration,s.size=4*a.length,s.size+=a.byteLength,a.keyFrame&&(s.flags.dependsOn=2,s.flags.isNonSyncSample=0),o+=s.size,u.push(s);return u}(e),i=Ro.mdat(function(t){var e,n,i,r,a,s,o=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)s=a[i],h.setUint32(o,s.data.byteLength),o+=4,c.set(s.data,o),o+=s.data.byteLength;return c}(e)),u.baseMediaDecodeTime=No(u,l.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:e.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),h=[],this.trigger("baseMediaDecodeTime",u.baseMediaDecodeTime),this.trigger("timelineStartInfo",u.timelineStartInfo),n=Ro.moof(c,[u]),r=new Uint8Array(n.byteLength+i.byteLength),c++,r.set(n),r.set(i,n.byteLength),this.trigger("data",{track:u,boxes:r}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Bo(u),n=e=void 0},this.getGopForFusion_=function(t){var e,n,i,r,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(r=this.gopCache_[a]).gop,u.pps&&Hu(u.pps[0],r.pps[0])&&u.sps&&Hu(u.sps[0],r.sps[0])&&(i.dts<u.timelineStartInfo.dts||-1e4<=(e=t.dts-i.dts-i.duration)&&e<=45e3&&(!n||e<s)&&(n=r,s=e));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,s,o,u;for(a=t.byteLength,s=t.nalCount,o=t.duration,e=n=0;e<d.length&&n<t.length&&(i=d[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,a-=r.byteLength,s-=r.nalCount,o-=r.duration);return 0===n?t:n===t.length?null:((u=t.slice(n)).byteLength=a,u.duration=o,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,s,o;for(e=d.length-1,n=t.length-1,a=null,s=!1;0<=e&&0<=n;){if(i=d[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===d.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(0===(o=s?n:a))return t;var u=t.slice(o),l=u.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){d=t}}).prototype=new Fo,(Bu=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Bu.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new Fo,Bu.prototype.flush=function(t){var e,n,i,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Wu.forEach(function(t){s.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,qu.forEach(function(t){s.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=Ro.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,s.captionStreams[e.stream]=!0,s.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-o,n.cueTime/=9e4,s.metadata.push(n);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Ru=function(i){var r,a,s=this,n=!0;Ru.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};(this.transmuxPipeline_=e).type="aac",e.metadataStream=new fu.MetadataStream,e.aacStream=new Ou,e.audioTimestampRolloverStream=new fu.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new fu.TimestampRolloverStream("timed-metadata"),e.adtsStream=new bu,e.coalesceStream=new Bu(i,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Uu(a,i),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new fu.MetadataStream,n.packetStream=new fu.TransportPacketStream,n.parseStream=new fu.TransportParseStream,n.elementaryStream=new fu.ElementaryStream,n.videoTimestampRolloverStream=new fu.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new fu.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new fu.TimestampRolloverStream("timed-metadata"),n.adtsStream=new bu,n.h264Stream=new Vu,n.captionStream=new fu.CaptionStream,n.coalesceStream=new Bu(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(t){var e;if("metadata"===t.type){for(e=t.tracks.length;e--;)r||"video"!==t.tracks[e].type?a||"audio"!==t.tracks[e].type||((a=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(r=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Lu(r,i),n.videoSegmentStream.on("timelineStartInfo",function(t){a&&(a.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts))}),n.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(t){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new Uu(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;this.baseMediaDecodeTime=t,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,Bo(a),a.timelineStartInfo.baseMediaDecodeTime=t,e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),r&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[],e.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,Bo(r),e.captionStream.reset(),r.timelineStartInfo.baseMediaDecodeTime=t),e.timedMetadataTimestampRolloverStream&&e.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(n){var e=Nu(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Fo;function zu(t){return new Date(1e3*t-20828448e5)}function Xu(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}function Ku(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null}function Yu(t){var e=31&t[1];return(e<<=8)|t[2]}function Qu(t){return!!(64&t[1])}function Ju(t){var e=0;return 1<(48&t[3])>>>4&&(e+=t[4]+1),e}function Zu(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}function tl(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var el,nl,il=Do.parseType,rl={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:el(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),s={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(i=6,r=0;r<o;r++)n=a.getUint16(i),i+=2,s.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,s.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return s},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:il(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(il(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:el(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:el(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:il(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=zu(n.getUint32(i)),i+=8,r.modificationTime=zu(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8):(r.creationTime=zu(n.getUint32(i)),i+=4,r.modificationTime=zu(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4),r.duration=n.getUint32(i),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:el(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:el(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return 28<t.byteLength&&(n.streamDescriptor=el(t.subarray(28))[0]),n},moof:function(t){return{boxes:el(t)}},moov:function(t){return{boxes:el(t)}},mvex:function(t){return{boxes:el(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=zu(e.getUint32(n)),n+=8,i.modificationTime=zu(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8):(i.creationTime=zu(e.getUint32(n)),n+=4,i.modificationTime=zu(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4),i.duration=e.getUint32(n),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:el(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:el(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return rl.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),s&&(i.defaultSampleDuration=n.getUint32(e),e+=4),o&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=zu(e.getUint32(n)),n+=8,i.modificationTime=zu(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8):(i.creationTime=zu(e.getUint32(n)),n+=4,i.modificationTime=zu(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4),i.duration=e.getUint32(n),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:el(t)}},trak:function(t){return{boxes:el(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],o=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),a&&c&&(e={flags:Xu(t.subarray(h,h+4))},h+=4,s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e),c--);c--;)e={},s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),u&&(e.flags=Xu(t.subarray(h,h+4)),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},al={inspect:el=function(t){for(var e,n,i,r,a,s=0,o=[],u=new ArrayBuffer(t.length),l=new Uint8Array(u),c=0;c<t.length;++c)l[c]=t[c];for(e=new DataView(u);s<t.byteLength;)n=e.getUint32(s),i=il(t.subarray(s+4,s+8)),r=1<n?s+n:t.byteLength,(a=(rl[i]||function(t){return{data:t}})(t.subarray(s+8,r))).size=n,a.type=i,o.push(a),s=r;return o},textify:nl=function(t,e){var a;return e=e||0,a=new Array(2*e+1).join(" "),t.map(function(r,t){return a+r.type+"\n"+Object.keys(r).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(t){var e=a+"  "+t+": ",n=r[t];if(n instanceof Uint8Array||n instanceof Uint32Array){var i=Array.prototype.slice.call(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return i?1===i.length?e+"<"+i.join("").slice(1)+">":e+"<\n"+i.map(function(t){return a+"  "+t}).join("\n")+"\n"+a+"  >":e+"<>"}return e+JSON.stringify(n,null,2).split("\n").map(function(t,e){return 0===e?t:a+"  "+t}).join("\n")}).join("\n")+(r.boxes?"\n"+nl(r.boxes,e+1):"")}).join("\n")},parseTfdt:rl.tfdt,parseHdlr:rl.hdlr,parseTfhd:rl.tfhd,parseTrun:rl.trun},sl=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},ol=Yo.CaptionStream,ul=function(){var e,h,d,f,p,t=!1;this.isInitialized=function(){return t},this.init=function(){e=new ol,t=!0,e.on("data",function(t){t.startTime=t.startPts/f,t.endTime=t.endPts/f,p.captions.push(t),p.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||d===t[0]&&f===e[d])},this.parse=function(t,e,n){var i,r,a,s,m,o,u,g,l;if(!this.isInitialized())return null;if(!e||!n)return null;if(this.isNewInit(e,n))d=e[0],f=n[d];else if(!d||!f)return h.push(t),null;for(;0<h.length;){var c=h.shift();this.parse(c,e,n)}return a=f,null!==(i=(r=d)?{seiNals:(s=t,m=r,o=Do.findBox(s,["moof","traf"]),u=Do.findBox(s,["mdat"]),g={},l=[],u.forEach(function(t,e){var n=o[e];l.push({mdat:t,traf:n})}),l.forEach(function(t){var e,n,i,r,a,s,o=t.mdat,u=t.traf,l=Do.findBox(u,["tfhd"]),c=al.parseTfhd(l[0]),h=c.trackId,d=Do.findBox(u,["tfdt"]),f=0<d.length?al.parseTfdt(d[0]).baseMediaDecodeTime:0,p=Do.findBox(u,["trun"]);m===h&&0<p.length&&(n=f,i=c.defaultSampleDuration||0,r=c.defaultSampleSize||0,a=c.trackId,s=[],p.forEach(function(t){var e=al.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=i),void 0===t.size&&(t.size=r),t.trackId=a,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration}),s=s.concat(e)}),e=function(t,e,n){var i,r,a,s,o=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+a),c=Ku(r,e);i={nalUnitType:"sei_rbsp",size:a,data:l,escapedRBSP:sl(l),trackId:n},c?(i.pts=c.pts,i.dts=c.dts,s=c):(i.pts=s.pts,i.dts=s.dts),u.push(i)}return u}(o,s,h),g[h]||(g[h]=[]),g[h]=g[h].concat(e))}),g[r]),timescale:a}:null)&&i.seiNals?(this.pushNals(i.seiNals),this.flushStream(),p):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){p.captions=[],p.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){h=[],f=d=null,p?this.clearParsedCaptions():p={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},ll={parseType:function(t,e){var n=Yu(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=Qu(t),n=4+Ju(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=Qu(t),i=4+Ju(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var a=12+((15&t[i+10])<<8|t[i+11]);a<r;){var s=i+a;e[(31&t[s+1])<<8|t[s+2]]=t[s],a+=5+((15&t[s+3])<<8|t[s+4])}return e}},parsePayloadUnitStartIndicator:Qu,parsePesType:function(t,e){switch(e[Yu(t)]){case Qo.H264_STREAM_TYPE:return"video";case Qo.ADTS_STREAM_TYPE:return"audio";case Qo.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Qu(t))return null;var e=4+Ju(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+Ju(t),n=t.subarray(e),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===Zu(31&n[r+3])&&(a=!0);1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Zu(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&3<n.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===Zu(31&n[r+3])&&(a=!0),a}},cl=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],hl={parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?20+n:10+n},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return cl[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=tl(t.subarray(10,14)));do{if((n=tl(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(t,e){var n,i="";for(n=0;n<e;n++)i+="%"+("00"+t[n].toString(16)).slice(-2);return i}(i,r)))break;var a=i.subarray(r+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(s*=4)+(3&a[7])}}e+=10,e+=n}while(e<t.byteLength);return null}},dl=iu,fl={};fl.ts=ll,fl.aac=hl;function pl(t,e,n){for(var i,r,a,s,o=0,u=188,l=!1;u<t.byteLength;)if(71!==t[o]||71!==t[u])o++,u++;else{switch(i=t.subarray(o,u),fl.ts.parseType(i,e.pid)){case"pes":r=fl.ts.parsePesType(i,e.table),a=fl.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=fl.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;o+=188,u+=188}for(o=(u=t.byteLength)-188,l=!1;0<=o;)if(71!==t[o]||71!==t[u])o--,u--;else{switch(i=t.subarray(o,u),fl.ts.parseType(i,e.pid)){case"pes":r=fl.ts.parsePesType(i,e.table),a=fl.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=fl.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;o-=188,u-=188}}function ml(t,e,n){for(var i,r,a,s,o,u,l,c=0,h=188,d=!1,f={data:[],size:0};h<t.byteLength;)if(71!==t[c]||71!==t[h])c++,h++;else{switch(i=t.subarray(c,h),fl.ts.parseType(i,e.pid)){case"pes":if(r=fl.ts.parsePesType(i,e.table),a=fl.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!d&&(s=fl.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(o=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),o.set(l,u),u+=l.byteLength;fl.ts.videoPacketContainsKeyFrame(o)&&(n.firstKeyFrame=fl.ts.parsePesTime(o),n.firstKeyFrame.type="video"),f.size=0}f.data.push(i),f.size+=i.byteLength}}if(d&&n.firstKeyFrame)break;c+=188,h+=188}for(c=(h=t.byteLength)-188,d=!1;0<=c;)if(71!==t[c]||71!==t[h])c--,h--;else{switch(i=t.subarray(c,h),fl.ts.parseType(i,e.pid)){case"pes":r=fl.ts.parsePesType(i,e.table),a=fl.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(s=fl.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0)}if(d)break;c-=188,h-=188}}function gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}function yl(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new ic(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),s=new Int32Array(a.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(o=n[0],u=n[1],l=n[2],c=n[3],m=0;m<i.length;m+=4)h=vl(i[m]),d=vl(i[m+1]),f=vl(i[m+2]),p=vl(i[m+3]),r.decrypt(h,d,f,p,s,m),s[m]=vl(s[m]^o),s[m+1]=vl(s[m+1]^u),s[m+2]=vl(s[m+2]^l),s[m+3]=vl(s[m+3]^c),o=h,u=d,l=f,c=p;return a}function bl(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=es.buildAbsoluteURL(y.location.href,t)),es.buildAbsoluteURL(t,e))}function _l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Sl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function wl(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Cl(r,a){["AUDIO","SUBTITLES"].forEach(function(t){for(var e in r.mediaGroups[t])for(var n in r.mediaGroups[t][e]){var i=r.mediaGroups[t][e][n];a(i,t,e,n)}})}function El(t,e){var n=uc(t,{}),i=n.playlists[e.uri];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.mediaSequence===e.mediaSequence)return null;var r=uc(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),a=n;a<r;a++)i[a-n]=uc(t[a],i[a-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach(function(t){var e,n;e=t,n=r.resolvedUri,e.resolvedUri||(e.resolvedUri=bl(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=bl(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=bl(n,e.map.uri))});for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===e.uri&&(n.playlists[a]=r);return n.playlists[e.uri]=r,n}function kl(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];(t.playlists[n.uri]=n).resolvedUri=bl(t.uri,n.uri),n.id=e,n.attributes||(n.attributes={},lc.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}}function Al(e){Cl(e,function(t){t.uri&&(t.resolvedUri=bl(e.uri,t.uri))})}function xl(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)}function Pl(t,r,e){var n,i;return void 0===r&&(r=t.mediaSequence+t.segments.length),r<t.mediaSequence?0:(n=function(t){var e=0,n=r-t.mediaSequence,i=t.segments[n];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;n--;){if(void 0!==(i=t.segments[n]).end)return{result:e+i.end,precise:!0};if(e+=i.duration,void 0!==i.start)return{result:e+i.start,precise:!0}}return{result:e,precise:!1}}(t)).precise?n.result:(i=function(t){for(var e=0,n=void 0,i=r-t.mediaSequence;i<t.segments.length;i++){if(void 0!==(n=t.segments[i]).start)return{result:n.start-e,precise:!0};if(e+=n.duration,void 0!==n.end)return{result:n.end-e,precise:!0}}return{result:-1,precise:!1}}(t)).precise?i.result:n.result+e}function Ol(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return y.Infinity}return Pl(t,e,n)}function Il(t,e,n){var i=0;if(n<e){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var a=e;a<Math.min(0,n);a++)i+=t.targetDuration;e=0}for(var s=e;s<n;s++)i+=t.segments[s].duration;return i}function $l(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;e--&&!(i<=(n+=t.segments[e].duration)););return Math.max(0,e)}function Ml(t,e,n){if(!t||!t.segments)return null;if(t.endList)return Ol(t);if(null===e)return null;e=e||0;var i=n?$l(t):t.segments.length;return Pl(t,t.mediaSequence+i,e)}function Dl(t){return t-Math.floor(t)==0}function Ll(t,e){if(Dl(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=e*r;if(Dl(a)||i===n)return(a+t)/r}}function Ul(t){return t.excludeUntil&&t.excludeUntil>Date.now()}function Rl(t){return t.excludeUntil&&t.excludeUntil===1/0}function Bl(t){var e=Ul(t);return!t.disabled&&!e}function Nl(t,e){return e.attributes&&e.attributes[t]}function Hl(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!Bl(t)&&(t.attributes.BANDWIDTH||0)<n}).length}function jl(){return function t(e,i){e=gc({timeout:45e3},e);var n=t.beforeRequest||Na.Hls.xhr.beforeRequest;if(n&&"function"==typeof n){var r=n(e);r&&(e=r)}var a=mc(e,function(t,e){var n=a.response;!t&&n&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=n.byteLength||n.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),e.headers&&(a.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(a.timedout=!0),t||a.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(a&&(n||a.responseText)))),i(t,a)}),s=a.abort;return a.abort=function(){return a.aborted=!0,s.apply(a,arguments)},a.uri=e.uri,a.requestTime=Date.now(),a}}function Fl(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")}function Gl(t){return 32<=t&&t<126?String.fromCharCode(t):"."}function Vl(n){var i={};return Object.keys(n).forEach(function(t){var e=n[t];ArrayBuffer.isView(e)?i[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:i[t]=e}),i}function ql(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")}function Wl(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(Fl).join("")+" "+e.slice(16*i,16*i+16).map(Gl).join("")+"\n";return n}function zl(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Na.createTimeRanges(n)}function Xl(t,n){return zl(t,function(t,e){return t-1/30<=n&&n<=e+1/30})}function Kl(t,e){return zl(t,function(t){return e<=t-1/30})}function Yl(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")}function Ql(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function Jl(t,e,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=e&&r.endTime>=t&&n.removeCue(r)}function Zl(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}var tc,ec=function(t,e,n){return e&&Oc(t.prototype,e),n&&Oc(t,n),t},nc=null,ic=(Pc.prototype.decrypt=function(t,e,n,i,r,a){var s=this._key[1],o=t^s[0],u=i^s[1],l=n^s[2],c=e^s[3],h=void 0,d=void 0,f=void 0,p=s.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(m=0;m<p;m++)h=y[o>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&c]^s[g],d=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^T[255&o]^s[g+1],f=y[l>>>24]^b[c>>16&255]^_[o>>8&255]^T[255&u]^s[g+2],c=y[c>>>24]^b[o>>16&255]^_[u>>8&255]^T[255&l]^s[g+3],g+=4,o=h,u=d,l=f;for(m=0;m<4;m++)r[(3&-m)+a]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^s[g++],h=o,o=u,u=l,l=c,c=h},Pc),rc=(xc.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},xc.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),-1<n},xc.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,s=0;s<a;++s)e[s].apply(this,r)},xc.prototype.dispose=function(){this.listeners={}},xc.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},xc),ac=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Ac,tc=rc),Ac.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},Ac.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},Ac),sc=(kc.prototype.decryptChunk_=function(e,n,i,r){return function(){var t=yl(e,n,i);r.set(t,e.byteOffset)}},ec(kc,null,[{key:"STEP",get:function(){return 32e3}}]),kc),oc=function(t,e,n){return e&&Ec(t.prototype,e),n&&Ec(t,n),t},uc=Na.mergeOptions,lc=Na.log,cc=(Tl(Cc,Na.EventTarget),oc(Cc,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:500<=t.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new ss;i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var r=El(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(y.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=y.setTimeout(function(){n.trigger("mediaupdatetimeout")},xl(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(n){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}var t=!this.media_||n.uri!==this.media_.uri;if(this.master.playlists[n.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(t&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(t){if(this.state="SWITCHING_MEDIA",this.request){if(bl(this.master.uri,n.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:bl(this.master.uri,n.uri),withCredentials:this.withCredentials},function(t,e){if(i.request){if(t)return i.playlistRequestError(i.request,n.uri,r);i.haveMetadata(e,n.uri),"HAVE_MASTER"===r?i.trigger("loadedmetadata"):i.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;y.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return e.load()},i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var i=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(i.request){if(i.request=null,t)return i.error={status:e.status,message:"HLS playlist request error at URL: "+i.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");var n=new ss;return n.push(e.responseText),n.end(),i.state="HAVE_MASTER",n.manifest.uri=i.srcUrl,n.manifest.playlists?(i.master=n.manifest,kl(i.master),Al(i.master),i.trigger("loadedplaylist"),void(i.request||i.media(n.manifest.playlists[0]))):(i.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:y.location.href,playlists:[{uri:i.srcUrl,id:0}]},i.master.playlists[i.srcUrl]=i.master.playlists[0],i.master.playlists[0].resolvedUri=i.srcUrl,i.master.playlists[0].attributes=i.master.playlists[0].attributes||{},i.haveMetadata(e,i.srcUrl),i.trigger("loadedmetadata"))}})}}]),Cc),hc=Na.createTimeRange,dc=Ll.bind(null,1),fc=Ll.bind(null,-1),pc={duration:Ol,seekable:function(t,e){var n=e||0,i=Ml(t,e,!0);return null===i?hc():hc(n,i)},safeLiveIndex:$l,getMediaInfoForTime:function(t,e,n,i){var r=void 0,a=void 0,s=t.segments.length,o=e-i;if(o<0){if(0<n)for(r=n-1;0<=r;r--)if(a=t.segments[r],0<(o+=fc(a.duration)))return{mediaIndex:r,startTime:i-Il(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((o-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<s;r++)if(a=t.segments[r],(o-=dc(a.duration))<0)return{mediaIndex:r,startTime:i+Il(t,n,r)};return{mediaIndex:s-1,startTime:e}},isEnabled:Bl,isDisabled:function(t){return t.disabled},isBlacklisted:Ul,isIncompatible:Rl,playlistEnd:Ml,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:Nl,estimateSegmentRequestTime:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return Nl("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:Hl},mc=Na.xhr,gc=Na.mergeOptions,vc=Object.freeze({createTransferableMessage:Vl,initSegmentId:ql,hexDump:Wl,tagDump:function(t){var e=t.bytes;return Wl(e)},textRanges:function(t){var e,n,i="",r=void 0;for(r=0;r<t.length;r++)i+=(n=r,(e=t).start(n)+"-"+e.end(n)+" ");return i}}),yc="undefined"!=typeof window?window:{},bc="undefined"==typeof Symbol?"__target":Symbol(),_c="application/javascript",Tc=yc.BlobBuilder||yc.WebKitBlobBuilder||yc.MozBlobBuilder||yc.MSBlobBuilder,Sc=yc.URL||yc.webkitURL||Sc&&Sc.msURL,wc=yc.Worker;function Cc(t,e,n){_l(this,Cc);var i=Sl(this,(Cc.__proto__||Object.getPrototypeOf(Cc)).call(this));if(i.srcUrl=t,i.hls_=e,i.withCredentials=n,!i.srcUrl)throw new Error("A non-empty playlist URL is required");return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:bl(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(t,e){if(i.request)return t?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i}function Ec(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kc(t,e,n,i){gl(this,kc);var r=kc.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),o=0;for(this.asyncStream_=new ac,this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s)),o=r;o<a.length;o+=r)n=new Uint32Array([vl(a[o-4]),vl(a[o-3]),vl(a[o-2]),vl(a[o-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s));this.asyncStream_.push(function(){i(null,s.subarray(0,s.byteLength-s[s.byteLength-1]))})}function Ac(){gl(this,Ac);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,tc.call(this,rc));return t.jobs=[],t.delay=1,t.timeout_=null,t}function xc(){gl(this,xc),this.listeners={}}function Pc(t){gl(this,Pc),nc=nc||function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,s=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!i[s];s^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,p=16843009*u[h=u[c=u[r[i[s]=d]=s]]]^65537*h^257*c^16843008*s,f=257*u[d]^16843008*d,a=0;a<4;a++)e[a][s]=f=f<<24^f>>>8,n[a][d]=p=p<<24^p>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t}(),this._tables=[[nc[0][0].slice(),nc[0][1].slice(),nc[0][2].slice(),nc[0][3].slice(),nc[0][4].slice()],[nc[1][0].slice(),nc[1][1].slice(),nc[1][2].slice(),nc[1][3].slice(),nc[1][4].slice()]];var e=void 0,n=void 0,i=void 0,r=void 0,a=void 0,s=this._tables[0][4],o=this._tables[1],u=t.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=t.slice(0),a=[],this._key=[r,a],e=u;e<4*u+28;e++)i=r[e-1],(e%u==0||8===u&&e%u==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],e%u==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),r[e]=r[e-u]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],a[n]=e<=4||n<4?i:o[0][s[i>>>24]]^o[1][s[i>>16&255]]^o[2][s[i>>8&255]]^o[3][s[255&i]]}function Oc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ic(r,a){return function(t){var e=this;if(!a)return new wc(r);if(wc&&!t){var n=Lc(a.toString().replace(/^function.+?{/,"").slice(0,-1));return this[bc]=new wc(n),function(t){if(t&&n){var e=t.terminate;t.objURL=n,t.terminate=function(){t.objURL&&Sc.revokeObjectURL(t.objURL),e.call(t)}}}(this[bc]),this[bc]}var i={postMessage:function(t){e.onmessage&&setTimeout(function(){e.onmessage({data:t,target:i})})}};a.call(i),this.postMessage=function(t){setTimeout(function(){i.onmessage({data:t,target:e})})},this.isThisThread=!0}}if(wc){var $c,Mc=Lc("self.onmessage = function () {}"),Dc=new Uint8Array(1);try{($c=new wc(Mc)).postMessage(Dc,[Dc.buffer])}catch(t){wc=null}finally{Sc.revokeObjectURL(Mc),$c&&$c.terminate()}}function Lc(e){try{return Sc.createObjectURL(new Blob([e],{type:_c}))}catch(t){var n=new Tc;return n.append(e),Sc.createObjectURL(n.getBlob(type))}}function Uc(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})}function Rc(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n={codecCount:0};return n.codecCount=e.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),n.audioProfile=n.audioProfile&&n.audioProfile[2],n}function Bc(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'}function Nc(t){return/mp4a\.\d+.\d+/i.test(t)}function Hc(t){return/avc1\.[\da-f]+/i.test(t)}var jc=new Ic("./transmuxer-worker.worker.js",function(t,e){var be=this;!function(){var o,e,n,r,a,i,t,s,u,l,c,h,d,f,p,m,g,v,y,b,_,T,S,w,C,E,k,A,x,P,O,I,$,M,D,L,U,R,B,N,H=Math.pow(2,32)-1;!function(){var t;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in T)T.hasOwnProperty(t)&&(T[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),w=new Uint8Array([0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:E,audio:k},O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),$=I,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),D=I,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),o=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},e=function(){return o(T.dinf,o(T.dref,O))},n=function(t){return o(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},p=function(t){return o(T.hdlr,A[t])},f=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),o(T.mdhd,e)},d=function(t){return o(T.mdia,f(t),p(t.type),i(t))},a=function(t){return o(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},i=function(t){return o(T.minf,"video"===t.type?o(T.vmhd,x):o(T.smhd,P),e(),g(t))},t=function(t,e){for(var n=[],i=e.length;i--;)n[i]=y(e[i]);return o.apply(null,[T.moof,a(t)].concat(n))},s=function(t){for(var e=t.length,n=[];e--;)n[e]=c(t[e]);return o.apply(null,[T.moov,l(4294967295)].concat(n).concat(u(t)))},u=function(t){for(var e=t.length,n=[];e--;)n[e]=b(t[e]);return o.apply(null,[T.mvex].concat(n))},l=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(T.mvhd,e)},m=function(t){var e,n,i=t.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,r[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return o(T.sdtp,r)},g=function(t){return o(T.stbl,v(t),o(T.stts,D),o(T.stsc,$),o(T.stsz,M),o(T.stco,I))},v=function(t){return o(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===t.type?L:U)(t))},L=function(t){var e,n=t.sps||[],i=t.pps||[],r=[],a=[];for(e=0;e<n.length;e++)r.push((65280&n[e].byteLength)>>>8),r.push(255&n[e].byteLength),r=r.concat(Array.prototype.slice.call(n[e]));for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));return o(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(T.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(a))),o(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(t){return o(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),n(t))},h=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return o(T.tkhd,e)},y=function(t){var e,n,i,r,a,s;return e=o(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(1+H)),s=Math.floor(t.baseMediaDecodeTime%(1+H)),n=o(T.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(i=_(t,92),o(T.traf,e,n,i)):(r=m(t),i=_(t,r.length+92),o(T.traf,e,n,i,r))},c=function(t){return t.duration=t.duration||4294967295,o(T.trak,h(t),d(t))},b=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),o(T.trex,e)},N=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},B=function(t,e){var n,i,r,a;for(e+=20+16*(i=t.samples||[]).length,n=N(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return o(T.trun,new Uint8Array(n))},R=function(t,e){var n,i,r,a;for(e+=20+8*(i=t.samples||[]).length,n=N(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return o(T.trun,new Uint8Array(n))},_=function(t,e){return("audio"===t.type?R:B)(t,e)};function j(t){return t>>>0}var F,G,V,q,W,z={ftyp:r=function(){return o(T.ftyp,S,w,S,C)},mdat:function(t){return o(T.mdat,t)},moof:t,moov:s,initSegment:function(t){var e,n=r(),i=s(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}};V=function(t){return F(t,["moov","trak"]).reduce(function(t,e){var n,i,r,a,s;return(n=F(e,["tkhd"])[0])?(i=n[0],a=j(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(s=F(e,["mdia","mdhd"])[0])?(r=0===(i=s[0])?12:20,t[a]=j(s[r]<<24|s[r+1]<<16|s[r+2]<<8|s[r+3]),t):null):null},{})},q=function(r,t){var e,n,i;return e=F(t,["moof","traf"]),n=[].concat.apply([],e.map(function(i){return F(i,["tfhd"]).map(function(t){var e,n;return e=j(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),n=r[e]||9e4,(F(i,["tfdt"]).map(function(t){var e,n;return e=t[0],n=j(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=j(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/n})})),i=Math.min.apply(null,n),isFinite(i)?i:0},W=function(t){var e=F(t,["moov","trak"]),o=[];return e.forEach(function(t){var e=F(t,["mdia","hdlr"]),s=F(t,["tkhd"]);e.forEach(function(t,e){var n,i,r=G(t.subarray(8,12)),a=s[e];"vide"===r&&(i=0===(n=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),o.push(i))})}),o};function X(){this.init=function(){var a={};this.on=function(t,e){a[t]||(a[t]=[]),a[t]=a[t].concat(e)},this.off=function(t,e){var n;return!!a[t]&&(n=a[t].indexOf(e),a[t]=a[t].slice(),a[t].splice(n,1),-1<n)},this.trigger=function(t){var e,n,i,r;if(e=a[t])if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},this.dispose=function(){a={}}}}var K={findBox:F=function(t,e){var n,i,r,a,s,o=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=j(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=G(t.subarray(n+4,n+8)),a=1<i?n+i:t.byteLength,r===e[0]&&(1===e.length?o.push(t.subarray(n+8,a)):(s=F(t.subarray(n+8,a),e.slice(1))).length&&(o=o.concat(s))),n=a;return o},parseType:G=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),(e+=String.fromCharCode(t[2]))+String.fromCharCode(t[3])},timescale:V,startTime:q,videoTrackIds:W};X.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},X.prototype.push=function(t){this.trigger("data",t)},X.prototype.flush=function(t){this.trigger("done",t)};function Y(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts}function Q(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n}function J(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}function Z(){Z.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new at(0,0),new at(0,1),new at(1,0),new at(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)}var tt=X;(Z.prototype=new tt).push=function(t){var e,n,i,r;if("sei_rbsp"===t.nalUnitType&&4===(e=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,r=i=0}return n}(t.escapedRBSP)).payloadType&&(n=181!==(r=e).payload[0]||49!=(r.payload[1]<<8|r.payload[2])||"GA94"!==String.fromCharCode(r.payload[3],r.payload[4],r.payload[5],r.payload[6])||3!==r.payload[7]?null:r.payload.subarray(8,r.payload.length-1)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(t,e){var n,i,r,a,s=[];if(!(64&e[0]))return s;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[2+r]&&(a.ccData=e[3+r]<<8|e[4+r],s.push(a));return s}(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Z.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},Z.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},Z.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Z.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Z.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};function et(t){return null===t?"":(t=it[t]||t,String.fromCharCode(t))}function nt(){for(var t=[],e=15;e--;)t.push("");return t}var it={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},rt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],at=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=nt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=nt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=nt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))a=et((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=et((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var s=rt.indexOf(7968&e);"rollUp"===this.mode_&&this.setRollUp(t.pts,s),s!==this.row_&&(this.clearFormatting(t.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=et(i),a+=et(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};at.prototype=new tt,at.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},at.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=nt(),this.nonDisplayed_=nt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},at.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},at.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&48<=e&&e<=63},at.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&32<=e&&e<=63},at.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&32<=e&&e<=47},at.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&33<=e&&e<=35},at.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&64<=e&&e<=127},at.prototype.isColorPAC=function(t){return 64<=t&&t<=79||96<=t&&t<=127},at.prototype.isNormalChar=function(t){return 32<=t&&t<=127},at.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=nt(),this.displayed_=nt()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},at.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},at.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},at.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},at.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},at.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},at.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};function st(t,e){var n=1;for(e<t&&(n=-1);4294967296<Math.abs(e-t);)t+=8589934592*n;return t}function ot(t){var e,n;ot.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=st(t.dts,n),t.pts=st(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){e=n=void 0}}var ut={CaptionStream:Z,Cea608Stream:at},lt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};ot.prototype=new tt;function ct(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}function ht(t,e,n){return decodeURIComponent(ct(t,e,n))}function dt(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var ft,pt=ot,mt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=ht(t.data,1,e),t.value=ht(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=ht(t.data,1,e),t.url=ht(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(ct(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(ft=function(t){var e,u={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},l=0,c=[],h=0;if(ft.prototype.init.call(this),this.dispatchType=lt.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(e=0;e<u.descriptor.length;e++)this.dispatchType+=("00"+u.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,i,r,a;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(h=0,c.length=0),0===c.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))u.debug;else if(c.push(t),h+=t.data.byteLength,1===c.length&&(l=dt(t.data.subarray(6,10)),l+=10),!(h<l)){for(e={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},a=0;a<l;)e.data.set(c[0].data.subarray(0,l-a),a),a+=c[0].data.byteLength,h-=c[0].data.byteLength,c.shift();n=10,64&e.data[5]&&(n+=4,n+=dt(e.data.subarray(10,14)),l-=dt(e.data.subarray(16,20)));do{if((i=dt(e.data.subarray(n+4,n+8)))<1)return;if((r={id:String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),data:e.data.subarray(n+10,n+i+10)}).key=r.id,mt[r.id]&&(mt[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var s=r.data,o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;o*=4,o+=3&s[7],r.timeStamp=o,void 0===e.pts&&void 0===e.dts&&(e.pts=r.timeStamp,e.dts=r.timeStamp),this.trigger("timestamp",r)}e.frames.push(r),n+=10,n+=i}while(n<l);this.trigger("data",e)}}}).prototype=new tt;var gt,vt,yt,bt=ft,_t=pt;(gt=function(){var r=new Uint8Array(188),a=0;gt.prototype.init.call(this),this.push=function(t){var e,n=0,i=188;for(a?((e=new Uint8Array(t.byteLength+a)).set(r.subarray(0,a)),e.set(t,a),a=0):e=t;i<e.byteLength;)71!==e[n]||71!==e[i]?(n++,i++):(this.trigger("data",e.subarray(n,i)),n+=188,i+=188);n<e.byteLength&&(r.set(e.subarray(n),0),a=e.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}}).prototype=new tt,(vt=function(){var i,r,a,s;vt.prototype.init.call(this),(s=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(t,e){var n=0;e.payloadUnitStartIndicator&&(n+=t[n]+1),("pat"===e.type?r:a)(t.subarray(n),e)},r=function(t,e){e.section_number=t[7],e.last_section_number=t[8],s.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=s.pmtPid},a=function(t,e){var n,i;if(1&t[5]){for(s.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var r=t[i],a=(31&t[i+1])<<8|t[i+2];r===lt.H264_STREAM_TYPE&&null===s.programMapTable.video?s.programMapTable.video=a:r===lt.ADTS_STREAM_TYPE&&null===s.programMapTable.audio?s.programMapTable.audio=a:r===lt.METADATA_STREAM_TYPE&&(s.programMapTable["timed-metadata"][a]=r),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=s.programMapTable}},this.push=function(t){var e={},n=4;if(e.payloadUnitStartIndicator=!!(64&t[1]),e.pid=31&t[1],e.pid<<=8,e.pid|=t[2],1<(48&t[3])>>>4&&(n+=t[n]+1),0===e.pid)e.type="pat",i(t.subarray(n),e),this.trigger("data",e);else if(e.pid===this.pmtPid)for(e.type="pmt",i(t.subarray(n),e),this.trigger("data",e);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,e]):this.processPes_(t,n,e)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=lt.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=lt.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new tt,vt.STREAM_TYPES={h264:27,adts:15},(yt=function(){function i(t,e,n){var i,r,a=new Uint8Array(t.size),s={type:e},o=0,u=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,o=0;o<t.data.length;o++)r=t.data[o],a.set(r.data,u),u+=r.data.byteLength;var l,c,h;l=a,(c=s).packetLength=6+(l[4]<<8|l[5]),c.dataAlignmentIndicator=0!=(4&l[6]),192&(h=l[7])&&(c.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,c.pts*=4,c.pts+=(6&l[13])>>>1,c.dts=c.pts,64&h&&(c.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,c.dts*=4,c.dts+=(6&l[18])>>>1)),c.data=l.subarray(9+l[8]),i="video"===e||s.packetLength<=t.size,(n||i)&&(t.size=0,t.data.length=0),i&&d.trigger("data",s)}}var d=this,r={data:[],size:0},a={data:[],size:0},s={data:[],size:0};yt.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var t,e;switch(n.streamType){case lt.H264_STREAM_TYPE:case lt.H264_STREAM_TYPE:t=r,e="video";break;case lt.ADTS_STREAM_TYPE:t=a,e="audio";break;case lt.METADATA_STREAM_TYPE:t=s,e="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(t,e,!0),t.data.push(n),t.size+=n.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},e=n.programMapTable;null!==e.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),d.trigger("data",t)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(s,"timed-metadata"),this.trigger("done")}}).prototype=new tt;var Tt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:gt,TransportParseStream:vt,ElementaryStream:yt,TimestampRolloverStream:_t,CaptionStream:ut.CaptionStream,Cea608Stream:ut.Cea608Stream,MetadataStream:bt};for(var St in lt)lt.hasOwnProperty(St)&&(Tt[St]=lt[St]);var wt,Ct=Tt,Et=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(wt=function(){var l;wt.prototype.init.call(this),this.push=function(t){var e,n,i,r,a,s,o=0,u=0;if("audio"===t.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+t.data.byteLength)).set(r),l.set(t.data,r.byteLength)):l=t.data;o+5<l.length;)if(255===l[o]&&240==(246&l[o+1])){if(n=2*(1&~l[o+1]),e=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,s=9e4*(a=1024*(1+(3&l[o+6])))/Et[(60&l[o+2])>>>2],i=o+e,l.byteLength<i)return;if(this.trigger("data",{pts:t.pts+u*s,dts:t.dts+u*s,sampleCount:a,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:Et[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+n,i)}),l.byteLength===i)return void(l=void 0);u++,l=l.subarray(i)}else o++},this.flush=function(){this.trigger("done")}}).prototype=new tt;function kt(i){var r=i.byteLength,a=0,s=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+s},this.loadWord=function(){var t=i.byteLength-r,e=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");e.set(i.subarray(t,t+n)),a=new DataView(e.buffer).getUint32(0),s=8*n,r-=n},this.skipBits=function(t){var e;t<s||(t-=s,t-=8*(e=Math.floor(t/8)),r-=e,this.loadWord()),a<<=t,s-=t},this.readBits=function(t){var e=Math.min(s,t),n=a>>>32-e;return 0<(s-=e)?a<<=e:0<r&&this.loadWord(),0<(e=t-e)?n<<e|this.readBits(e):n},this.skipLeadingZeros=function(){var t;for(t=0;t<s;++t)if(0!=(a&2147483648>>>t))return a<<=t,s-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}var At,xt,Pt,Ot=wt;(xt=function(){var n,i,r=0;xt.prototype.init.call(this),this.push=function(t){var e;for(i=i?((e=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),e.set(t.data,i.byteLength),e):t.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}}).prototype=new tt,Pt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(At=function(){var n,i,r,a,s,o,b,e=new xt;At.prototype.init.call(this),(n=this).push=function(t){"video"===t.type&&(i=t.trackId,r=t.pts,a=t.dts,e.push(t))},e.on("data",function(t){var e={trackId:i,pts:r,dts:a,data:t};switch(31&t[0]){case 5:e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:e.nalUnitType="sei_rbsp",e.escapedRBSP=s(t.subarray(1));break;case 7:e.nalUnitType="seq_parameter_set_rbsp",e.escapedRBSP=s(t.subarray(1)),e.config=o(e.escapedRBSP);break;case 8:e.nalUnitType="pic_parameter_set_rbsp";break;case 9:e.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",e)}),e.on("done",function(){n.trigger("done")}),this.flush=function(){e.flush()},b=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},s=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},o=function(t){var e,n,i,r,a,s,o,u,l,c,h,d,f,p=0,m=0,g=0,v=0,y=1;if(n=(e=new kt(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),Pt[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==a?8:12,f=0;f<h;f++)e.readBoolean()&&b(f<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),o=e.readUnsignedExpGolomb(),f=0;f<o;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),0===(c=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(p=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}d&&(y=d[0]/d[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*p-2*m)*y),height:(2-c)*(l+1)*16-2*g-2*v}}}).prototype=new tt;var It,$t={H264Stream:At,NalByteStream:xt};(It=function(){var o=new Uint8Array,u=0;It.prototype.init.call(this),this.setTimestamp=function(t){u=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?20+n:10+n},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},this.push=function(t){var e,n,i,r,a=0,s=0;for(o.length?(r=o.length,(o=new Uint8Array(t.byteLength+r)).set(o.subarray(0,r)),o.set(t,r)):o=t;3<=o.length-s;)if(o[s]!=="I".charCodeAt(0)||o[s+1]!=="D".charCodeAt(0)||o[s+2]!=="3".charCodeAt(0))if(!0&o[s]&&240==(240&o[s+1])){if(o.length-s<7)break;if((a=this.parseAdtsSize(o,s))>o.length)break;i={type:"audio",data:o.subarray(s,s+a),pts:u,dts:u},this.trigger("data",i),s+=a}else s++;else{if(o.length-s<10)break;if((a=this.parseId3TagSize(o,s))>o.length)break;n={type:"timed-metadata",data:o.subarray(s,s+a)},this.trigger("data",n),s+=a}e=o.length-s,o=0<e?o.subarray(s):new Uint8Array}}).prototype=new tt;function Mt(t){for(var e=[];t--;)e.push(0);return e}var Dt,Lt,Ut,Rt,Bt,Nt,Ht,jt=It,Ft=[33,16,5,32,164,27],Gt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Vt={96e3:[Ft,[227,64],Mt(154),[56]],88200:[Ft,[231],Mt(170),[56]],64e3:[Ft,[248,192],Mt(240),[56]],48e3:[Ft,[255,192],Mt(268),[55,148,128],Mt(54),[112]],44100:[Ft,[255,192],Mt(268),[55,163,128],Mt(84),[112]],32e3:[Ft,[255,192],Mt(268),[55,234],Mt(226),[112]],24e3:[Ft,[255,192],Mt(268),[55,255,128],Mt(268),[111,112],Mt(126),[224]],16e3:[Ft,[255,192],Mt(268),[55,255,128],Mt(268),[111,255],Mt(269),[223,108],Mt(195),[1,192]],12e3:[Gt,Mt(268),[3,127,248],Mt(268),[6,255,240],Mt(268),[13,255,224],Mt(268),[27,253,128],Mt(259),[56]],11025:[Gt,Mt(268),[3,127,248],Mt(268),[6,255,240],Mt(268),[13,255,224],Mt(268),[27,255,192],Mt(268),[55,175,128],Mt(108),[112]],8e3:[Gt,Mt(268),[3,121,16],Mt(47),[7]]},qt=(Dt=Vt,Object.keys(Dt).reduce(function(t,e){return t[e]=new Uint8Array(Dt[e].reduce(function(t,e){return t.concat(e)},[])),t},{}));Nt=function(t,e){return Lt(Bt(t,e))},Ht=function(t,e){return Ut(Rt(t),e)},Lt=function(t){return 9e4*t},Ut=function(t,e){return t*e},Rt=function(t){return t/9e4},Bt=function(t,e){return t/e};var Wt,zt,Xt,Kt,Yt,Qt,Jt,Zt=Nt,te=Ht,ee=$t.H264Stream,ne=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ie=["width","height","profileIdc","levelIdc","profileCompatibility"];Yt=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},Qt=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Jt=function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n},(zt=function(r,a){var s=[],o=0,e=0,l=0,c=1/0;a=a||{},zt.prototype.init.call(this),this.push=function(e){J(r,e),r&&ne.forEach(function(t){r[t]=e[t]}),s.push(e)},this.setEarliestDts=function(t){e=t-r.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){c=t},this.setAudioAppendStart=function(t){l=t},this.flush=function(){var t,e,n,i;0!==s.length&&(t=this.trimAdtsFramesByEarliestDts_(s),r.baseMediaDecodeTime=Q(r,a.keepOriginalTimestamps),this.prefixWithSilence_(r,t),r.samples=this.generateSampleTable_(t),n=z.mdat(this.concatenateFrameData_(t)),s=[],e=z.moof(o,[r]),i=new Uint8Array(e.byteLength+n.byteLength),o++,i.set(e),i.set(n,e.byteLength),Y(r),this.trigger("data",{track:r,boxes:i})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,i,r,a,s=0,o=0,u=0;if(e.length&&(n=Zt(t.baseMediaDecodeTime,t.samplerate),i=Math.ceil(9e4/(t.samplerate/1024)),l&&c&&(s=n-Math.max(l,c),u=(o=Math.floor(s/i))*i),!(o<1||45e3<u))){for((r=qt[t.samplerate])||(r=e[0].data),a=0;a<o;a++)e.splice(a,0,{data:r});t.baseMediaDecodeTime-=Math.floor(te(u,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return r.minSegmentDts>=e?t:(r.minSegmentDts=1/0,t.filter(function(t){return t.dts>=e&&(r.minSegmentDts=Math.min(r.minSegmentDts,t.dts),r.minSegmentPts=r.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(t){var e,n,i=0,r=new Uint8Array(Jt(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new tt,(Wt=function(u,l){var e,n,c=0,h=[],d=[];l=l||{},Wt.prototype.init.call(this),delete u.minPTS,this.gopCache_=[],this.push=function(t){J(u,t),"seq_parameter_set_rbsp"!==t.nalUnitType||e||(e=t.config,u.sps=[t.data],ie.forEach(function(t){u[t]=e[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,u.pps=[t.data]),h.push(t)},this.flush=function(){for(var t,e,n,i,r;h.length&&"access_unit_delimiter_rbsp"!==h[0].nalUnitType;)h.shift();if(0===h.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if((e=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r}(function(t){var e,n,i=[],r=[];for(e=i.byteLength=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r}(h)))[0][0].keyFrame||((t=this.getGopForFusion_(h[0],u))?(e.unshift(t),e.byteLength+=t.byteLength,e.nalCount+=t.nalCount,e.pts=t.pts,e.dts=t.dts,e.duration+=t.duration):(!(s=e)[0][0].keyFrame&&1<s.length&&(o=s.shift(),s.byteLength-=o.byteLength,s.nalCount-=o.nalCount,s[0][0].dts=o.dts,s[0][0].pts=o.pts,s[0][0].duration+=o.duration),e=s)),d.length){var a;if(!(a=l.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e)))return this.gopCache_.unshift({gop:e.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),h=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Y(u),e=a}var s,o;J(u,e),u.samples=function(t,e){var n,i,r,a,s,o=e||0,u=[];for(n=0;n<t.length;n++)for(r=t[n],i=0;i<r.length;i++)a=r[i],s=void 0,(s={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}).dataOffset=o,s.compositionTimeOffset=a.pts-a.dts,s.duration=a.duration,s.size=4*a.length,s.size+=a.byteLength,a.keyFrame&&(s.flags.dependsOn=2,s.flags.isNonSyncSample=0),o+=s.size,u.push(s);return u}(e),i=z.mdat(function(t){var e,n,i,r,a,s,o=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)s=a[i],h.setUint32(o,s.data.byteLength),o+=4,c.set(s.data,o),o+=s.data.byteLength;return c}(e)),u.baseMediaDecodeTime=Q(u,l.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:e.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),h=[],this.trigger("baseMediaDecodeTime",u.baseMediaDecodeTime),this.trigger("timelineStartInfo",u.timelineStartInfo),n=z.moof(c,[u]),r=new Uint8Array(n.byteLength+i.byteLength),c++,r.set(n),r.set(i,n.byteLength),this.trigger("data",{track:u,boxes:r}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Y(u),n=e=void 0},this.getGopForFusion_=function(t){var e,n,i,r,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(r=this.gopCache_[a]).gop,u.pps&&Qt(u.pps[0],r.pps[0])&&u.sps&&Qt(u.sps[0],r.sps[0])&&(i.dts<u.timelineStartInfo.dts||-1e4<=(e=t.dts-i.dts-i.duration)&&e<=45e3&&(!n||e<s)&&(n=r,s=e));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,s,o,u;for(a=t.byteLength,s=t.nalCount,o=t.duration,e=n=0;e<d.length&&n<t.length&&(i=d[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,a-=r.byteLength,s-=r.nalCount,o-=r.duration);return 0===n?t:n===t.length?null:((u=t.slice(n)).byteLength=a,u.duration=o,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,s,o;for(e=d.length-1,n=t.length-1,a=null,s=!1;0<=e&&0<=n;){if(i=d[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===d.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(0===(o=s?n:a))return t;var u=t.slice(o),l=u.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){d=t}}).prototype=new tt,(Kt=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Kt.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new tt,Kt.prototype.flush=function(t){var e,n,i,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,ie.forEach(function(t){s.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,ne.forEach(function(t){s.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=z.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,s.captionStreams[e.stream]=!0,s.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-o,n.cueTime/=9e4,s.metadata.push(n);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Xt=function(i){var r,a,s=this,n=!0;Xt.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};(this.transmuxPipeline_=e).type="aac",e.metadataStream=new Ct.MetadataStream,e.aacStream=new jt,e.audioTimestampRolloverStream=new Ct.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new Ct.TimestampRolloverStream("timed-metadata"),e.adtsStream=new Ot,e.coalesceStream=new Kt(i,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new zt(a,i),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new Ct.MetadataStream,n.packetStream=new Ct.TransportPacketStream,n.parseStream=new Ct.TransportParseStream,n.elementaryStream=new Ct.ElementaryStream,n.videoTimestampRolloverStream=new Ct.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new Ct.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new Ct.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Ot,n.h264Stream=new ee,n.captionStream=new Ct.CaptionStream,n.coalesceStream=new Kt(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(t){var e;if("metadata"===t.type){for(e=t.tracks.length;e--;)r||"video"!==t.tracks[e].type?a||"audio"!==t.tracks[e].type||((a=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(r=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Wt(r,i),n.videoSegmentStream.on("timelineStartInfo",function(t){a&&(a.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts))}),n.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(t){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new zt(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;this.baseMediaDecodeTime=t,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,Y(a),a.timelineStartInfo.baseMediaDecodeTime=t,e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),r&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[],e.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,Y(r),e.captionStream.reset(),r.timelineStartInfo.baseMediaDecodeTime=t),e.timedMetadataTimestampRolloverStream&&e.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(n){var e=Yt(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new tt;function re(t){return new Date(1e3*t-20828448e5)}function ae(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}function se(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null}var oe,ue,le={Transmuxer:Xt,VideoSegmentStream:Wt,AudioSegmentStream:zt,AUDIO_PROPERTIES:ne,VIDEO_PROPERTIES:ie},ce=K.parseType,he={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:oe(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),s={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(i=6,r=0;r<o;r++)n=a.getUint16(i),i+=2,s.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,s.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return s},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:ce(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(ce(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:oe(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:oe(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:ce(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=re(n.getUint32(i)),i+=8,r.modificationTime=re(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8):(r.creationTime=re(n.getUint32(i)),i+=4,r.modificationTime=re(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4),r.duration=n.getUint32(i),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:oe(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:oe(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return 28<t.byteLength&&(n.streamDescriptor=oe(t.subarray(28))[0]),n},moof:function(t){return{boxes:oe(t)}},moov:function(t){return{boxes:oe(t)}},mvex:function(t){return{boxes:oe(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=re(e.getUint32(n)),n+=8,i.modificationTime=re(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8):(i.creationTime=re(e.getUint32(n)),n+=4,i.modificationTime=re(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4),i.duration=e.getUint32(n),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:oe(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:oe(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return he.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),s&&(i.defaultSampleDuration=n.getUint32(e),e+=4),o&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=re(e.getUint32(n)),n+=8,i.modificationTime=re(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8):(i.creationTime=re(e.getUint32(n)),n+=4,i.modificationTime=re(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4),i.duration=e.getUint32(n),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:oe(t)}},trak:function(t){return{boxes:oe(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],o=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),a&&c&&(e={flags:ae(t.subarray(h,h+4))},h+=4,s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e),c--);c--;)e={},s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),u&&(e.flags=ae(t.subarray(h,h+4)),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},de={inspect:oe=function(t){for(var e,n,i,r,a,s=0,o=[],u=new ArrayBuffer(t.length),l=new Uint8Array(u),c=0;c<t.length;++c)l[c]=t[c];for(e=new DataView(u);s<t.byteLength;)n=e.getUint32(s),i=ce(t.subarray(s+4,s+8)),r=1<n?s+n:t.byteLength,(a=(he[i]||function(t){return{data:t}})(t.subarray(s+8,r))).size=n,a.type=i,o.push(a),s=r;return o},textify:ue=function(t,e){var a;return e=e||0,a=new Array(2*e+1).join(" "),t.map(function(r,t){return a+r.type+"\n"+Object.keys(r).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(t){var e=a+"  "+t+": ",n=r[t];if(n instanceof Uint8Array||n instanceof Uint32Array){var i=Array.prototype.slice.call(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return i?1===i.length?e+"<"+i.join("").slice(1)+">":e+"<\n"+i.map(function(t){return a+"  "+t}).join("\n")+"\n"+a+"  >":e+"<>"}return e+JSON.stringify(n,null,2).split("\n").map(function(t,e){return 0===e?t:a+"  "+t}).join("\n")}).join("\n")+(r.boxes?"\n"+ue(r.boxes,e+1):"")}).join("\n")},parseTfdt:he.tfdt,parseHdlr:he.hdlr,parseTfhd:he.tfhd,parseTrun:he.trun},fe=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},pe=ut.CaptionStream,me={generator:z,probe:K,Transmuxer:le.Transmuxer,AudioSegmentStream:le.AudioSegmentStream,VideoSegmentStream:le.VideoSegmentStream,CaptionParser:function(){var e,h,d,f,p,t=!1;this.isInitialized=function(){return t},this.init=function(){e=new pe,t=!0,e.on("data",function(t){t.startTime=t.startPts/f,t.endTime=t.endPts/f,p.captions.push(t),p.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||d===t[0]&&f===e[d])},this.parse=function(t,e,n){var i,r,a,s,m,o,u,g,l;if(!this.isInitialized())return null;if(!e||!n)return null;if(this.isNewInit(e,n))d=e[0],f=n[d];else if(!d||!f)return h.push(t),null;for(;0<h.length;){var c=h.shift();this.parse(c,e,n)}return a=f,null!==(i=(r=d)?{seiNals:(s=t,m=r,o=K.findBox(s,["moof","traf"]),u=K.findBox(s,["mdat"]),g={},l=[],u.forEach(function(t,e){var n=o[e];l.push({mdat:t,traf:n})}),l.forEach(function(t){var e,n,i,r,a,s,o=t.mdat,u=t.traf,l=K.findBox(u,["tfhd"]),c=de.parseTfhd(l[0]),h=c.trackId,d=K.findBox(u,["tfdt"]),f=0<d.length?de.parseTfdt(d[0]).baseMediaDecodeTime:0,p=K.findBox(u,["trun"]);m===h&&0<p.length&&(n=f,i=c.defaultSampleDuration||0,r=c.defaultSampleSize||0,a=c.trackId,s=[],p.forEach(function(t){var e=de.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=i),void 0===t.size&&(t.size=r),t.trackId=a,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration}),s=s.concat(e)}),e=function(t,e,n){var i,r,a,s,o=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+a),c=se(r,e);i={nalUnitType:"sei_rbsp",size:a,data:l,escapedRBSP:fe(l),trackId:n},c?(i.pts=c.pts,i.dts=c.dts,s=c):(i.pts=s.pts,i.dts=s.dts),u.push(i)}return u}(o,s,h),g[h]||(g[h]=[]),g[h]=g[h].concat(e))}),g[r]),timescale:a}:null)&&i.seiNals?(this.pushNals(i.seiNals),this.flushStream(),p):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){p.captions=[],p.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){h=[],f=d=null,p?this.clearParsedCaptions():p={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},ge=(function(t,e,n){return e&&ye(t.prototype,e),n&&ye(t,n),t}(ve,[{key:"init",value:function(){var i,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new me.Transmuxer(this.options),i=this.self,(t=this.transmuxer).on("data",function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var n=t.data;t.data=n.buffer,i.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){i.postMessage({action:"caption",data:t})}),t.on("done",function(t){i.postMessage({action:"done"})}),t.on("gopInfo",function(t){i.postMessage({action:"gopInfo",gopInfo:t})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),ve);function ve(t,e){!function(t){if(!(t instanceof ve))throw new TypeError("Cannot call a class as a function")}(this),this.options=e||{},this.self=t,this.init()}function ye(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new ge(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new ge(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(be)}()}),Fc={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Gc=(Tl(zc,Na.EventTarget),oc(zc,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),function(t,e,n){var i=e.player_;if(n.captions&&n.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),n.captionStreams)if(!t.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var a=i.textTracks().getTrackById(r);t.inbandTextTracks_[r]=a||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var i=this,r=["audio","video"];r.forEach(function(e){if(i[e+"Codec_"]&&!i[e+"Buffer_"]){var n=null;if(i.mediaSource_[e+"Buffer_"])(n=i.mediaSource_[e+"Buffer_"]).updating=!1;else{var t=e+'/mp4;codecs="'+i[e+"Codec_"]+'"';n=function(t,e){var n=t.addSourceBuffer(e),i=Object.create(null);function r(e){"function"==typeof n[e]?i[e]=function(){return n[e].apply(n,arguments)}:void 0===i[e]&&Object.defineProperty(i,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}for(var a in i.updating=!1,i.realBuffer_=n)r(a);return i}(i.mediaSource_.nativeMediaSource_,t),i.mediaSource_[e+"Buffer_"]=n}i[e+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(t){n.addEventListener(t,function(){if("audio"!==e||!i.audioDisabled_)return"updateend"===t&&(i[e+"Buffer_"].updating=!1),r.every(function(t){return!("audio"!==t||!i.audioDisabled_)||e===t||!i[t+"Buffer_"]||!i[t+"Buffer_"].updating})?i.trigger(t):void 0})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(t,e,n){if(null==e||!t.length)return[];var i=Math.ceil(9e4*(e-n+3)),r=void 0;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil(9e4*(e-i)),a=Math.ceil(9e4*(n-i)),s=t.slice(),o=t.length;o--&&!(t[o].pts<=a););if(-1===o)return s;for(var u=o+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),s.splice(u,o-u+1),s}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),Jl(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Jl(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),function(t,e,n){var r=y.WebKitDataCue||y.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new r(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var a=Zl(t.mediaSource_.duration);if(n.forEach(function(t){var i=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var e,n=new r(i,i,t.value||t.url||t.data||"");n.frame=t,n.value=t,e=n,Object.defineProperties(e.frame,{id:{get:function(){return Na.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Na.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Na.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}}),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var i=t.metadataTrack_.cues,s=[],o=0;o<i.length;o++)i[o]&&s.push(i[o]);var u=s.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),l=Object.keys(u).sort(function(t,e){return Number(t)-Number(e)});l.forEach(function(t,e){var n=u[t],i=Number(l[e+1])||a;n.forEach(function(t){t.endTime=i})})}}}(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),zc),Vc=(Tl(Wc,Na.EventTarget),oc(Wc,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var r,e,n=void 0,i=(r={type:"",parameters:{}},e=t.trim().split(";"),r.type=e.shift().trim(),e.forEach(function(t){var e=t.trim().split("=");if(1<e.length){var n=e[0].replace(/"/g,"").trim(),i=e[1].replace(/"/g,"").trim();r.parameters[n]=i}}),r);if(/^(video|audio)\/mp2t$/i.test(i.type)){var a=[];i.parameters&&i.parameters.codecs&&(a=i.parameters.codecs.split(","),a=(a=Uc(a)).filter(function(t){return Nc(t)||Hc(t)})),0===a.length&&(a=["avc1.4d400d","mp4a.40.2"]),n=new Gc(this,a),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),n.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else n=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(n),n}}]),Wc),qc=0;function Wc(){_l(this,Wc);var a=Sl(this,(Wc.__proto__||Object.getPrototypeOf(Wc)).call(this)),t=void 0;for(t in a.nativeMediaSource_=new y.MediaSource,a.nativeMediaSource_)t in Wc.prototype||"function"!=typeof a.nativeMediaSource_[t]||(a[t]=a.nativeMediaSource_[t].bind(a.nativeMediaSource_));return a.duration_=NaN,Object.defineProperty(a,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){(this.duration_=t)===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(a,"seekable",{get:function(){return this.duration_===1/0?Na.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(a,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(a,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),a.sourceBuffers=[],a.activeSourceBuffers_=[],a.updateActiveSourceBuffers_=function(){if(a.activeSourceBuffers_.length=0,1===a.sourceBuffers.length){var t=a.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void a.activeSourceBuffers_.push(t)}for(var n=!1,i=!0,e=0;e<a.player_.audioTracks().length;e++){var r=a.player_.audioTracks()[e];if(r.enabled&&"main"!==r.kind){i=!(n=!0);break}}a.sourceBuffers.forEach(function(t,e){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,i=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=e?i:!i,t.audioDisabled_))return;a.activeSourceBuffers_.push(t)})},a.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},a.onHlsReset_=function(){a.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},a.onHlsSegmentTimeMapping_=function(e){a.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},a),a.on("sourceopen",function(t){var e=d.querySelector('[src="'+a.url_+'"]');e&&(a.player_=Na(e.parentNode),a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_))}),a.on("sourceended",function(t){for(var e=Zl(a.duration),n=0;n<a.sourceBuffers.length;n++){var i=a.sourceBuffers[n],r=i.metadataTrack_&&i.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=e)}}),a.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),a}function zc(t,e){_l(this,zc);var n=Sl(this,(zc.__proto__||Object.getPrototypeOf(zc)).call(this,Na.EventTarget));n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=t,n.codecs_=e,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=11<=Na.browser.IE_VERSION;var i={remux:!1,alignGopsAtEnd:n.safeAppend_};return n.codecs_.forEach(function(t){Nc(t)?n.audioCodec_=t:Hc(t)&&(n.videoCodec_=t)}),n.transmuxer_=new jc,n.transmuxer_.postMessage({action:"init",options:i}),n.transmuxer_.onmessage=function(t){return"data"===t.data.action?n.data_(t):"done"===t.data.action?n.done_(t):"gopInfo"===t.data.action?n.appendGopInfo_(t):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&0<=t&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){return function(t,e,n){var i=null,r=null,a=0,s=[],o=[];if(!t&&!e)return Na.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(n)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return Na.createTimeRange();for(var u=t.buffered,l=e.buffered,c=u.length;c--;)s.push({time:u.start(c),type:"start"}),s.push({time:u.end(c),type:"end"});for(c=l.length;c--;)s.push({time:l.start(c),type:"start"}),s.push({time:l.end(c),type:"end"});for(s.sort(function(t,e){return t.time-e.time}),c=0;c<s.length;c++)"start"===s[c].type?2==++a&&(i=s[c].time):"end"===s[c].type&&1==--a&&(r=s[c].time),null!==i&&null!==r&&(o.push([i,r]),r=i=null);return Na.createTimeRanges(o)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),n}Na.mediaSources={};function Xc(t,e){var n=Na.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})}function Kc(){return!!y.MediaSource&&!!y.MediaSource.isTypeSupported&&y.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function Yc(){if(this.MediaSource={open:Xc,supportsNativeMediaSources:Kc},Kc())return new Vc;throw new Error("Cannot use create a virtual MediaSource for this video")}Yc.open=Xc,Yc.supportsNativeMediaSources=Kc;var Qc={createObjectURL:function(t){var e=void 0;return t instanceof Vc?(e=y.URL.createObjectURL(t.nativeMediaSource_),t.url_=e):t instanceof Vc?(e="blob:vjs-media-source/"+qc,qc++,Na.mediaSources[e]=t,e):(e=y.URL.createObjectURL(t),t.url_=e)}};Na.MediaSource=Yc,Na.URL=Qc;function Jc(t,e){for(var s=th(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),n=0;n<e.playlists.length;n++){var i=El(s,e.playlists[n]);i&&(s=i)}return Cl(e,function(t,e,n,i){if(t.playlists&&t.playlists.length){var r=t.playlists[0].uri,a=El(s,t.playlists[0]);a&&((s=a).mediaGroups[e][n][i].playlists[0]=s.playlists[r])}}),s}function Zc(t){return Na.log.debug?Na.log.debug.bind(Na,"VHS:",t+" >"):function(){}}var th=Na.mergeOptions,eh=(Tl(nh,Na.EventTarget),oc(nh,[{key:"dispose",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var e=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;this.state="HAVE_METADATA",n&&(this.media_&&this.trigger("mediachanging"),this.media_=t,this.refreshMedia_(),"HAVE_MASTER"!==e&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var a=xs(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});a.uri=this.srcUrl;for(var t=0;t<a.playlists.length;t++){var e="placeholder-uri-"+t;a.playlists[t].uri=e,a.playlists[e]=a.playlists[t]}return Cl(a,function(t,e,n,i){if(t.playlists&&t.playlists.length){var r="placeholder-uri-"+e+"-"+n+"-"+i;t.playlists[0].uri=r,a.playlists[r]=t.playlists[0]}}),kl(a),Al(a),a}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(n.request){if(n.request=null,t)return n.error={status:e.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.masterXml_=e.responseText,e.responseHeaders&&e.responseHeaders.date?n.masterLoaded_=Date.parse(e.responseHeaders.date):n.masterLoaded_=Date.now(),n.syncClientServerClock_(n.onClientServerClockSync_.bind(n))}})}},{key:"syncClientServerClock_",value:function(i){var t,r=this,a=(t=this.masterXml_,function(t){var e=_s(t,"UTCTiming")[0];if(!e)return null;var n=ws(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return n}(As(t)));return null===a?(this.clientOffset_=this.masterLoaded_-Date.now(),i()):"DIRECT"===a.method?(this.clientOffset_=a.value-Date.now(),i()):void(this.request=this.hls_.xhr({uri:bl(this.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(t,e){if(r.request){if(t)return r.clientOffset_=r.masterLoaded_-Date.now(),i();var n;n="HEAD"===a.method?e.responseHeaders&&e.responseHeaders.date?Date.parse(e.responseHeaders.date):r.masterLoaded_:Date.parse(e.responseText),r.clientOffset_=n-Date.now(),i()}}))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),y.setTimeout(function(){t.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&y.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var i=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(i.request){if(i.request=null,t)return i.error={status:e.status,message:"DASH playlist request error at URL: "+i.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");i.masterXml_=e.responseText;var n=i.parseMasterXml();i.master=Jc(i.master,n),y.setTimeout(function(){i.trigger("minimumUpdatePeriod")},i.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var t,e=this,n=void 0;t=this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(n=this.master,this.parseMasterXml());var i=Jc(n,t);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=y.setTimeout(function(){e.trigger("mediaupdatetimeout")},xl(this.media(),!!i))),this.trigger("loadedplaylist")}}]),nh);function nh(t,e,n,i){_l(this,nh);var r=Sl(this,(nh.__proto__||Object.getPrototypeOf(nh)).call(this));if(r.hls_=e,r.withCredentials=n,!t)throw new Error("A non-empty playlist URL or playlist is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_()}),"string"==typeof t?(r.srcUrl=t,r.state="HAVE_NOTHING",Sl(r)):(r.masterPlaylistLoader_=i,r.state="HAVE_METADATA",r.started=!0,r.media(t),y.setTimeout(function(){r.trigger("loadedmetadata")},0),r)}function ih(){}function rh(t){var e,n,i={};return t.byterange&&(i.Range=(n=(e=t.byterange).offset+e.length-1,"bytes="+e.offset+"-"+n)),i}function ah(t){t.forEach(function(t){t.abort()})}function sh(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:-101,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:-102,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:2,xhr:e}:null}function oh(t,e,n,i,r,a,s){var o,u,l,c,h,d,f,p,m,g,v=[],y=(d=v,f=n,p=s,m=[],g=0,function(t,e){if(t&&(ah(d),m.push(t)),(g+=1)===d.length){if(e.endOfAllRequests=Date.now(),0<m.length){var n=m.reduce(function(t,e){return e.code>t.code?e:t});return p(n,e)}return e.encryptedBytes?(r=e,a=p,(i=f).addEventListener("message",function t(e){if(e.data.source===r.requestId){i.removeEventListener("message",t);var n=e.data.decrypted;return r.bytes=new Uint8Array(n.bytes,n.byteOffset,n.byteLength),a(null,r)}}),void i.postMessage(Vl({source:r.requestId,encrypted:r.encryptedBytes,key:r.key.bytes,iv:r.key.iv}),[r.encryptedBytes.buffer,r.key.bytes.buffer])):p(null,e)}var i,r,a});if(r.key){var b=t(Na.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),(o=r,u=y,function(t,e){var n=e.response,i=sh(t,e);if(i)return u(i,o);if(16!==n.byteLength)return u({status:e.status,message:"Invalid HLS key at URL: "+e.uri,code:2,xhr:e},o);var r=new DataView(n);return o.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),u(null,o)}));v.push(b)}if(r.map&&!r.map.bytes){var _=t(Na.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:rh(r.map)}),(l=r,c=i,h=y,function(t,e){var n=e.response,i=sh(t,e);return i?h(i,l):0===n.byteLength?h({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:2,xhr:e},l):(l.map.bytes=new Uint8Array(e.response),c.isInitialized()||c.init(),l.map.timescales=Do.timescale(l.map.bytes),l.map.videoTrackIds=Do.videoTrackIds(l.map.bytes),h(null,l))}));v.push(_)}var T,S,w,C,E,k=t(Na.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:rh(r)}),(T=r,S=i,w=y,function(t,e){var n=e.response,i=sh(t,e),r=void 0;return i?w(i,T):0===n.byteLength?w({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:2,xhr:e},T):(T.stats={bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0},T.key?T.encryptedBytes=new Uint8Array(e.response):T.bytes=new Uint8Array(e.response),T.map&&T.map.bytes&&(S.isInitialized()||S.init(),(r=S.parse(T.bytes,T.map.videoTrackIds,T.map.timescales))&&r.captions&&(T.captionStreams=r.captionStreams,T.fmp4Captions=r.captions)),w(null,T))}));return k.addEventListener("progress",(C=r,E=a,function(t){var e,n,i;return C.stats=Na.mergeOptions(C.stats,(n=(e=t).target,(i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-n.requestTime||0}).bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i)),!C.stats.firstBytesReceivedAt&&C.stats.bytesReceived&&(C.stats.firstBytesReceivedAt=Date.now()),E(t,C)})),v.push(k),function(){return ah(v)}}function uh(t,e){var n;return t&&(n=y.getComputedStyle(t))?n[e]:""}function lh(t,i){var r=t.slice();t.sort(function(t,e){var n=i(t,e);return 0===n?r.indexOf(t)-r.indexOf(e):n})}function ch(t,e){var n=void 0,i=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||y.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),n-(i||y.Number.MAX_VALUE)}function hh(t,e,n){if(t&&e){var i=n===t.segments.length;return t.endList&&"open"===e.readyState&&i}}function dh(t){return"number"==typeof t&&isFinite(t)}function fh(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))}function ph(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null}function mh(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)}function gh(t,e){(e.activePlaylistLoader=t).load()}function vh(e,n){return function(t){return t.attributes[e]===n}}function yh(e){return function(t){return t.resolvedUri===e}}function bh(t,e,n){_l(this,bh);var r,a,s,i=t.masterPlaylistController_,o=i[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(i);if(e.attributes.RESOLUTION){var u=e.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=e.attributes.BANDWIDTH,this.id=n,this.enabled=(r=t.playlists,a=e.uri,s=o,function(t){var e=r.master.playlists[a],n=Rl(e),i=Bl(e);return void 0===t?i:(t?delete e.disabled:e.disabled=!0,t===i||n||(s(),t?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),t)})}function _h(t){!function e(n,t){var i=0,r=0,a=Na.mergeOptions(Nh,t);n.ready(function(){n.trigger({type:"usage",name:"hls-error-reload-initialized"})});function s(){r&&n.currentTime(r)}function o(t){null!=t&&(r=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",s),n.src(t),n.trigger({type:"usage",name:"hls-error-reload"}),n.play())}function u(){if(Date.now()-i<1e3*a.errorInterval)n.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(a.getSource&&"function"==typeof a.getSource)return i=Date.now(),a.getSource.call(n,o);Na.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function l(){n.off("loadedmetadata",s),n.off("error",u),n.off("dispose",l)}n.on("error",u),n.on("dispose",l),n.reloadSourceOnError=function(t){l(),e(n,t)}}(this,t)}var Th=(oc(qh,[{key:"createSourceBuffer_",value:function(t,e){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.logger_("buffered ["+Yl(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Na.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:ih;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+t+" => "+e+"]"),n.sourceBuffer_.remove(t,e)},i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),qh),Sh={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},wh=(Tl(Vh,Na.EventTarget),oc(Vh,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Na.createTimeRanges()}},{key:"initSegment",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=ql(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Th(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=n?n.id:null;if(this.logger_("playlist update ["+r+" => "+t.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===t.uri){var a=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex&&(this.mediaIndex-=a),i&&(i.mediaIndex-=a,0<=i.mediaIndex&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,n),Jl(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Jl(t,e,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(hh(this.playlist_,this.mediaSource_,t.mediaIndex)?this.endOfStream():t.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(t)))}}},{key:"checkBuffer_",value:function(t,e,n,i,r,a){var s=0,o=void 0;t.length&&(s=t.end(t.length-1));var u=Math.max(0,s-r);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!i&&1<=u)return null;if(null===a)return n=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){var l=e.segments[n];return o=l&&l.end?l.end:s,this.generateSegmentInfo_(e,n+1,o,!1)}if(this.fetchAtBuffer_){var c=pc.getMediaInfoForTime(e,s,a.segmentIndex,a.time);n=c.mediaIndex,o=c.startTime}else{var h=pc.getMediaInfoForTime(e,r,a.segmentIndex,a.time);n=h.mediaIndex,o=h.startTime}return this.generateSegmentInfo_(e,n,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=pc.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),a=function(t,e,n){var i=2<arguments.length&&void 0!==n?n:1;return((t.length?t.end(t.length-1):0)-e)/i}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var s=function(t){var n=t.currentTime,i=t.bandwidth,r=t.duration,a=t.segmentDuration,s=t.timeUntilRebuffer,o=t.currentTimeline,u=t.syncController,e=t.master.playlists.filter(function(t){return!pc.isIncompatible(t)}),l=e.filter(pc.isEnabled);l.length||(l=e.filter(function(t){return!pc.isDisabled(t)}));var c=l.filter(pc.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=u.getSyncPoint(t,r,o,n)?1:2;return{playlist:t,rebufferingImpact:pc.estimateSegmentRequestTime(a,i,t)*e-s}}),h=c.filter(function(t){return t.rebufferingImpact<=0});return lh(h,function(t,e){return ch(e.playlist,t.playlist)}),h.length?h[0]:(lh(c,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),c[0]||null)}({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=r-a-s.rebufferingImpact,u=.5;return a<=1/30&&(u=1),!(!s.playlist||s.playlist.uri===this.playlist_.uri||o<u||(this.bandwidth=s.playlist.attributes.BANDWIDTH*Sh.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),0))}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=oh(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e,n,i,r,a=(e=this.seekable_(),n=this.currentTime_(),i=this.playlist_.targetDuration||10,r=e.length&&0<e.start(0)&&e.start(0)<n?e.start(0):n-30,Math.min(r,n-i));0<a&&this.remove(0,a)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:e.key.resolvedUri,iv:i}}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",-102===t.code?void(this.mediaRequestsAborted+=1):(this.pause(),-101===t.code?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(function(t,e,n){for(var i in n)if(!t[i]){e.trigger({type:"usage",name:"hls-608"});var r=e.textTracks().getTrackById(i);t[i]=r||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),function(t){var r=t.inbandTextTracks,e=t.captionArray,a=t.timestampOffset;if(e){var s=window.WebKitDataCue||window.VTTCue;e.forEach(function(t){var e=t.stream,n=t.startTime,i=t.endTime;r[e]&&(n+=a,i+=a,r[e].addCue(new s(n,i,t.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,n=e.segment,i=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r,a,s=(r=this.loaderType_,a=this.startingMedia_,"main"===r&&a&&i?i.containsAudio||i.containsVideo?a.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!a.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(s)return this.error({message:s,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var o,u,l,c,h,d,f,p,m,g,v=this.syncController_.mappingForTimeline(e.timeline);if(null!==v&&this.trigger({type:"segmenttimemapping",mapping:v}),this.state="APPENDING",n.map){var y=ql(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==y){var b=this.initSegment(n.map);this.sourceUpdater_.appendBuffer(b.bytes,function(){t.activeInitSegmentId_=y})}}e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_((u=(o=e.segment).start,l=o.end,h=(c=e.playlist).mediaSequence,d=c.id,p=void 0===(f=c.segments)?[]:f,m=e.mediaIndex,g=e.timeline,["appending ["+m+"] of ["+h+", "+(h+p.length)+"] from playlist ["+d+"]","["+u+" => "+l+"] in timeline ["+g+"]"].join(" "))),this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),hh(t.playlist,this.mediaSource_,t.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,i=e.end;if(dh(n)&&dh(i)){Jl(n,i,this.segmentMetadataTrack_);var r=y.WebKitDataCue||y.VTTCue,a={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i},s=new r(n,i,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}}}]),Vh),Ch=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),Eh=(Tl(Gh,wh),oc(Gh,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Na.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return Na.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=ql(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=Ch.byteLength+t.bytes.byteLength,a=new Uint8Array(r);a.set(t.bytes),a.set(Ch,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(t,e){Jl(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof y.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){function i(){e.handleSegment_()}return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",i),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(t)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof y.TextDecoder?t=new y.TextDecoder("utf8"):(t=y.WebVTT.StringDecoder(),n=!0);var i=new y.WebVTT.Parser(y,y.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){return e.timestampmap=t},i.onparsingerror=function(t){Na.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map){var r=e.segment.map.bytes;n&&(r=fh(r)),i.parse(r)}var a=e.bytes;n&&(a=fh(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=a,t.endTime+=a}),!n.syncInfo){var s=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(s,o-i.duration)}}}else i.empty=!0}}]),Gh),kh=function(t,e){var n,i;return(i=((n=t)[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?function(t){for(var e,n=!1,i=0,r=null,a=null,s=0,o=0;3<=t.length-o;){switch(fl.aac.parseType(t,o)){case"timed-metadata":if(t.length-o<10){n=!0;break}if((s=fl.aac.parseId3TagSize(t,o))>t.length){n=!0;break}null===a&&(e=t.subarray(o,o+s),a=fl.aac.parseAacTimestamp(e)),o+=s;break;case"audio":if(t.length-o<7){n=!0;break}if((s=fl.aac.parseAdtsSize(t,o))>t.length){n=!0;break}null===r&&(e=t.subarray(o,o+s),r=fl.aac.parseSampleRate(e)),i++,o+=s;break;default:o++}if(n)return null}if(null===r||null===a)return null;var u=9e4/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*u,pts:a+1024*i*u}]}}:function(t){var e={pid:null,table:null},n={};for(var i in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),fl.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=fl.ts.parsePat(n));break;case"pmt":e.table||(e.table=fl.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table)if(e.table.hasOwnProperty(i))switch(e.table[i]){case Qo.H264_STREAM_TYPE:n.video=[],ml(t,e,n),0===n.video.length&&delete n.video;break;case Qo.ADTS_STREAM_TYPE:n.audio=[],pl(t,e,n),0===n.audio.length&&delete n.audio}return n})(t))&&(i.audio||i.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=dl(t.dts,n),t.pts=dl(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach(function(t){t.dts=dl(t.dts,i),t.pts=dl(t.pts,i),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=dl(r.dts,i),r.pts=dl(r.pts,i),r.dtsTime=r.dts/9e4,r.ptsTime=r.dts/9e4}}}(i,e),i):null},Ah=[{name:"VOD",run:function(t,e,n,i,r){return n===1/0?null:{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var a=e.segments||[],s=null,o=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,h=Math.abs(r-c);if(null!==o&&o<h)break;o=h,s={time:c,segmentIndex:u}}}return s}},{name:"Segment",run:function(t,e,n,i,r){var a=e.segments||[],s=null,o=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==o&&o<c)break;(!s||null===o||c<=o)&&(o=c,s={time:l.start,segmentIndex:u})}}return s}},{name:"Discontinuity",run:function(t,e,n,i,r){var a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var s=null,o=0;o<e.discontinuityStarts.length;o++){var u=e.discontinuityStarts[o],l=e.discontinuitySequence+o+1,c=t.discontinuities[l];if(c){var h=Math.abs(r-c.time);if(null!==s&&s<h)break;(!a||null===s||h<=s)&&(s=h,a={time:c.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],xh=(Tl(Fh,Na.EventTarget),oc(Fh,[{key:"getSyncPoint",value:function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return 0<i.segmentIndex&&(i.time*=-1),Math.abs(i.time+Il(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],a=0;a<Ah.length;a++){var s=Ah[a],o=s.run(this,t,e,n,i);o&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,a=1;a<t.length;a++){var s=Math.abs(t[a].syncPoint[e.key]-e.value);s<i&&(i=s,n=t[a].syncPoint,r=t[a].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;0<=n;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e,n=t.segment,i=t.playlist;return(e=n.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,e)&&(this.saveDiscontinuitySyncInfo_(t),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:n.start})),e}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=Do.timescale(e.map.bytes),i=Do.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=kh(t.bytes,this.inspectCache_),n=void 0,i=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,i=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,i=e.audio[1].dtsTime),{start:n,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r,a=e.discontinuityStarts[i],s=e.discontinuitySequence+i+1,o=a-t.mediaIndex,u=Math.abs(o);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>u)r=o<0?n.start-Il(e,t.mediaIndex,a):n.end+Il(e,t.mediaIndex+1,a),this.discontinuities[s]={time:r,accuracy:u}}}}]),Fh),Ph=new Ic("./decrypter-worker.worker.js",function(t,e){var c,n,h,g,i,u,v,s,r;function l(t,e,n,i){c(this,l);var r=l.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),o=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s)),o=r;o<a.length;o+=r)n=new Uint32Array([v(a[o-4]),v(a[o-3]),v(a[o-2]),v(a[o-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s));this.asyncStream_.push(function(){i(null,s.subarray(0,s.byteLength-s[s.byteLength-1]))})}function a(){c(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,i));return t.jobs=[],t.delay=1,t.timeout_=null,t}function o(){c(this,o),this.listeners={}}function d(t){c(this,d),h=h||function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,s=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!i[s];s^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,p=16843009*u[h=u[c=u[r[i[s]=d]=s]]]^65537*h^257*c^16843008*s,f=257*u[d]^16843008*d,a=0;a<4;a++)e[a][s]=f=f<<24^f>>>8,n[a][d]=p=p<<24^p>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t}(),this._tables=[[h[0][0].slice(),h[0][1].slice(),h[0][2].slice(),h[0][3].slice(),h[0][4].slice()],[h[1][0].slice(),h[1][1].slice(),h[1][2].slice(),h[1][3].slice(),h[1][4].slice()]];var e=void 0,n=void 0,i=void 0,r=void 0,a=void 0,s=this._tables[0][4],o=this._tables[1],u=t.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=t.slice(0),a=[],this._key=[r,a],e=u;e<4*u+28;e++)i=r[e-1],(e%u==0||8===u&&e%u==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],e%u==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),r[e]=r[e-u]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],a[n]=e<=4||n<4?i:o[0][s[i>>>24]]^o[1][s[i>>16&255]]^o[2][s[i>>8&255]]^o[3][s[255&i]]}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}c=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t},h=null,d.prototype.decrypt=function(t,e,n,i,r,a){var s=this._key[1],o=t^s[0],u=i^s[1],l=n^s[2],c=e^s[3],h=void 0,d=void 0,f=void 0,p=s.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(m=0;m<p;m++)h=y[o>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&c]^s[g],d=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^T[255&o]^s[g+1],f=y[l>>>24]^b[c>>16&255]^_[o>>8&255]^T[255&u]^s[g+2],c=y[c>>>24]^b[o>>16&255]^_[u>>8&255]^T[255&l]^s[g+3],g+=4,o=h,u=d,l=f;for(m=0;m<4;m++)r[(3&-m)+a]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^s[g++],h=o,o=u,u=l,l=c,c=h},g=d,o.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},o.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),-1<n},o.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,s=0;s<a;++s)e[s].apply(this,r)},o.prototype.dispose=function(){this.listeners={}},o.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,r=i=o),a.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},a.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},u=a,v=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l.prototype.decryptChunk_=function(e,n,i,r){return function(){var t=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new g(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),s=new Int32Array(a.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(o=n[0],u=n[1],l=n[2],c=n[3],m=0;m<i.length;m+=4)h=v(i[m]),d=v(i[m+1]),f=v(i[m+2]),p=v(i[m+3]),r.decrypt(h,d,f,p,s,m),s[m]=v(s[m]^o),s[m+1]=v(s[m+1]^u),s[m+2]=v(s[m+2]^l),s[m+3]=v(s[m+3]^c),o=h,u=d,l=f,c=p;return a}(e,n,i);r.set(t,e.byteOffset)}},n(l,null,[{key:"STEP",get:function(){return 32e3}}]),s=l,new function(a){a.onmessage=function(t){var r=t.data,e=new Uint8Array(r.encrypted.bytes,r.encrypted.byteOffset,r.encrypted.byteLength),n=new Uint32Array(r.key.bytes,r.key.byteOffset,r.key.byteLength/4),i=new Uint32Array(r.iv.bytes,r.iv.byteOffset,r.iv.byteLength/4);new s(e,n,i,function(t,e){var n,i;a.postMessage((n={source:r.source,decrypted:e},i={},Object.keys(n).forEach(function(t){var e=n[t];ArrayBuffer.isView(e)?i[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:i[t]=e}),i),[e.buffer])})}}(this)}),Oh={AUDIO:function(u,l){return function(){var t=l.segmentLoaders[u],e=l.mediaTypes[u],n=l.blacklistCurrentPlaylist;mh(t,e);var i=e.activeTrack(),r=e.activeGroup(),a=(r.filter(function(t){return t.default})[0]||r[0]).id,s=e.tracks[a];if(i!==s){for(var o in Na.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),e.tracks)e.tracks[o].enabled=e.tracks[o]===s;e.onTrackChanged()}else n({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(i,r){return function(){var t=r.segmentLoaders[i],e=r.mediaTypes[i];Na.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),mh(t,e);var n=e.activeTrack();n&&(n.mode="disabled"),e.onTrackChanged()}}},Ih={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",Oh[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t],s=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),a.track(s.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",Oh[t](t,n))}},$h={AUDIO:function(t,e){var n,i=e.hls,r=e.sourceType,a=e.segmentLoaders[t],s=e.requestOptions.withCredentials,o=e.master,u=o.mediaGroups,l=o.playlists,c=e.mediaTypes[t],h=c.groups,d=c.tracks,f=e.masterPlaylistLoader;for(var p in u[t]&&0!==Object.keys(u[t]).length||(u[t]={main:{default:{default:!0}}}),u[t]){h[p]||(h[p]=[]);var m=l.filter(vh(t,p));for(var g in u[t][p]){var v=u[t][p][g];m.filter(yh(v.resolvedUri)).length&&delete v.resolvedUri;var y;if(y=v.resolvedUri?new cc(v.resolvedUri,i,s):v.playlists&&"dash"===r?new eh(v.playlists[0],i,s,f):null,v=Na.mergeOptions({id:g,playlistLoader:y},v),Ih[t](t,v.playlistLoader,e),h[p].push(v),void 0===d[g]){var b=new Na.AudioTrack({id:g,kind:(n=void 0,n=v.default?"main":"alternative",v.characteristics&&0<=v.characteristics.indexOf("public.accessibility.describes-video")&&(n="main-desc"),n),enabled:!1,language:v.language,default:v.default,label:g});d[g]=b}}}a.on("error",Oh[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.hls,r=e.sourceType,a=e.segmentLoaders[t],s=e.requestOptions.withCredentials,o=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,h=e.masterPlaylistLoader;for(var d in o[t])for(var f in l[d]||(l[d]=[]),o[t][d])if(!o[t][d][f].forced){var p=o[t][d][f],m=void 0;if("hls"===r?m=new cc(p.resolvedUri,i,s):"dash"===r&&(m=new eh(p.playlists[0],i,s,h)),p=Na.mergeOptions({id:f,playlistLoader:m},p),Ih[t](t,p.playlistLoader,e),l[d].push(p),void 0===c[f]){var g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=g}}a.on("error",Oh[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],a=r.groups,s=r.tracks;for(var o in i[t])for(var u in a[o]||(a[o]=[]),i[t][o]){var l=i[t][o][u];if(l.instreamId.match(/CC\d/)&&(a[o].push(Na.mergeOptions({id:u},l)),void 0===s[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;s[u]=c}}}},Mh={AUDIO:function(n,i){return function(){var t=i.mediaTypes[n].tracks;for(var e in t)if(t[e].enabled)return t[e];return null}},SUBTITLES:function(n,i){return function(){var t=i.mediaTypes[n].tracks;for(var e in t)if("showing"===t[e].mode)return t[e];return null}}},Dh=void 0,Lh=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Uh=(Tl(jh,Na.EventTarget),oc(jh,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*i.masterPlaylistLoader_.targetDuration*1e3;Hl(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,t.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load()),function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){$h[t](t,e)});var n=e.mediaTypes,t=e.masterPlaylistLoader,i=e.tech,r=e.hls;["AUDIO","SUBTITLES"].forEach(function(t){var a,s,o,u,l,c;n[t].activeGroup=(a=t,s=e,function(e){var t=s.masterPlaylistLoader,n=s.mediaTypes[a].groups,i=t.media();if(!i)return null;var r=null;return i.attributes[a]&&(r=n[i.attributes[a]]),r=r||n.main,void 0===e?r:null!==e&&r.filter(function(t){return t.id===e.id})[0]||null}),n[t].activeTrack=Mh[t](t,e),n[t].onGroupChanged=(o=t,u=e,function(){var t=u.segmentLoaders,e=t[o],n=t.main,i=u.mediaTypes[o],r=i.activeTrack(),a=i.activeGroup(r),s=i.activePlaylistLoader;mh(e,i),a&&(a.playlistLoader?(e.resyncLoader(),gh(a.playlistLoader,i)):s&&n.resetEverything())}),n[t].onTrackChanged=(l=t,c=e,function(){var t=c.segmentLoaders,e=t[l],n=t.main,i=c.mediaTypes[l],r=i.activeTrack(),a=i.activeGroup(r),s=i.activePlaylistLoader;mh(e,i),a&&(a.playlistLoader?(s!==a.playlistLoader&&(e.track&&e.track(r),e.resetEverything()),gh(a.playlistLoader,i)):n.resetEverything())})});var a=n.AUDIO.activeGroup(),s=(a.filter(function(t){return t.default})[0]||a[0]).id;function o(){n.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})}for(var u in n.AUDIO.tracks[s].enabled=!0,n.AUDIO.onTrackChanged(),t.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return n[t].onGroupChanged()})}),i.audioTracks().addEventListener("change",o),i.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),r.on("dispose",function(){i.audioTracks().removeEventListener("change",o),i.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),n.AUDIO.tracks)i.audioTracks().addTrack(n.AUDIO.tracks[u])}({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,hls:i.hls_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),t);try{i.setupSourceBuffers_()}catch(t){return Na.log.warn("Failed to create SourceBuffers",t),i.mediaSource.endOfStream("decode")}i.setupFirstPlay(),i.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=i.masterPlaylistLoader_.media();if(!t){i.excludeUnsupportedVariants_();var e=void 0;return i.enableLowInitialPlaylist&&(e=i.selectInitialPlaylist()),e=e||i.selectPlaylist(),i.initialMedia_=e,void i.masterPlaylistLoader_.media(i.initialMedia_)}if(i.useCueTags_&&i.updateAdCues_(t),i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.updateDuration(),i.tech_.paused()||(i.mainSegmentLoader_.load(),i.audioSegmentLoader_&&i.audioSegmentLoader_.load()),!t.endList){function n(){var t=i.seekable();0!==t.length&&i.mediaSource.addSeekableRange_(t.start(0),t.end(0))}i.duration()!==1/0?i.tech_.one("durationchange",function t(){i.duration()===1/0?n():i.tech_.one("durationchange",t)}):n()}}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*i.masterPlaylistLoader_.targetDuration*1e3;Hl(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=i.masterPlaylistLoader_.media();i.stuckAtPlaylistEnd_(t)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var s in n.AUDIO[a])n.AUDIO[a][s].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Dh.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Dh.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&1<Object.keys(n.AUDIO[r[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=a.selectPlaylist(),e=a.masterPlaylistLoader_.media(),n=a.tech_.buffered(),i=n.length?n.end(n.length-1)-a.tech_.currentTime():0,r=a.bufferLowWaterLine();(!e.endList||a.duration()<Sh.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<e.attributes.BANDWIDTH||r<=i)&&a.masterPlaylistLoader_.media(t),a.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){a.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){a.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){a.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){a.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){Na.browser.IE_VERSION||Na.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(Na.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(n.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return Na.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=(this.mainSegmentLoader_.startingMedia_&&!this.mainSegmentLoader_.startingMedia_.containsVideo||t)&&this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var n=Dh.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var a=r.end(r.length-1);return a-i<=.1&&n-a<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=void 0;if(i=e.playlist||this.masterPlaylistLoader_.media(),n=n||e.blacklistDuration||this.blacklistDuration,!i){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(Bl).length;return r?(Na.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(i.excludeUntil=Date.now()+1e3*n,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),t=this.selectPlaylist(),Na.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(t))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=Xl(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Dh.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(t=Dh.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(e=Dh.Playlist.seekable(n,i)).length)return}!e||e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=Na.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]),this.logger_("seekable updated ["+Yl(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){function t(){e.mediaSource.duration=i,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)}var e=this,n=this.mediaSource.duration,i=Dh.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered();0<r.length&&(i=Math.max(i,r.end(r.length-1))),n!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",t):t())}},{key:"dispose",value:function(){var i=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var e=i.mediaTypes_[t].groups;for(var n in e)e[n].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=function(r,t){var e,n=t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t",i=(e=t.attributes||{}).CODECS?Rc(e.CODECS):Fc,a=t.attributes||{},s=!0,o=!1;if(!t)return[];if(r.mediaGroups.AUDIO&&a.AUDIO){var u=r.mediaGroups.AUDIO[a.AUDIO];if(u)for(var l in s=!(o=!0),u)if(!u[l].uri&&!u[l].playlists){s=!0;break}}o&&!i.audioProfile&&(s||(i.audioProfile=function(t){if(!r.mediaGroups.AUDIO||!t)return null;var e=r.mediaGroups.AUDIO[t];if(!e)return null;for(var n in e){var i=e[n];if(i.default&&i.playlists)return Rc(i.playlists[0].attributes.CODECS).audioProfile}return null}(a.AUDIO)),i.audioProfile||(Na.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=Fc.audioProfile));var c={};i.videoCodec&&(c.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(c.audio="mp4a.40."+i.audioProfile);var h=Bc("audio",n,[c.audio]),d=Bc("video",n,[c.video]),f=Bc("video",n,[c.video,c.audio]);return o?!s&&c.video?[d,h]:s||c.video?[f,h]:[h,h]:c.video?[f]:[h]}(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=1<t.length&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new Na.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){t.attributes.CODECS&&y.MediaSource&&y.MediaSource.isTypeSupported&&!y.MediaSource.isTypeSupported('video/mp4; codecs="'+t.attributes.CODECS.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return Uc([t])[0]})+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var n=2,i=null,e=void 0;t.attributes.CODECS&&(e=Rc(t.attributes.CODECS),i=e.videoCodec,n=e.codecCount),this.master().playlists.forEach(function(t){var e={codecCount:2,videoCodec:null};t.attributes.CODECS&&(e=Rc(t.attributes.CODECS)),e.codecCount!==n&&(t.excludeUntil=1/0),e.videoCodec!==i&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),function(t,e,n){var i=2<arguments.length&&void 0!==n?n:0;if(t.segments)for(var r=i,a=void 0,s=0;s<t.segments.length;s++){var o=t.segments[s];if(a=a||ph(e,r+o.duration/2)){if("cueIn"in o){a.endTime=r,a.adEndTime=r,r+=o.duration,a=null;continue}if(r<a.endTime){r+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&((a=new y.VTTCue(r,r+o.duration,o.cueOut)).adStartTime=r,a.adEndTime=r+parseFloat(o.cueOut),e.addCue(a)),"cueOutCont"in o){var u,l,c=o.cueOutCont.split("/").map(parseFloat),h=wl(c,2);u=h[0],l=h[1],(a=new y.VTTCue(r,r+o.duration,"")).adStartTime=r-u,a.adEndTime=a.adStartTime+l,e.addCue(a)}r+=o.duration}}(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=Sh.GOAL_BUFFER_LENGTH,n=Sh.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,Sh.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=Sh.BUFFER_LOW_WATER_LINE,n=Sh.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,Sh.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),jh),Rh=["seeking","seeked","pause","playing","error"],Bh=(oc(Hh,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&y.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=y.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),i=void 0;return t&&this.afterSeekableWindow_(e,n)&&(i=e.end(e.length-1)),t&&this.beforeSeekableWindow_(e,n)&&(i=e.start(0)+.1),void 0!==i&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Yl(e)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Xl(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=Kl(i,e);if(this.videoUnderflow_(r,i,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<r.length){var a=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&0<t.start(0)&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=Kl(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=function(t){if(t.length<2)return Na.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return Na.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(e-r<4&&2<e-r)return{start:r,end:a}}return null}}]),Hh),Nh={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};function Hh(t){var e=this;_l(this,Hh),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Zc("PlaybackWatcher"),this.logger_("initialize");function n(){return e.monitorCurrentTime_()}function i(){return e.techWaiting_()}function r(){return e.cancelTimer_()}function a(){return e.fixesBadSeeks_()}this.tech_.on("seekablechanged",a),this.tech_.on("waiting",i),this.tech_.on(Rh,r),this.tech_.on("canplay",n),this.dispose=function(){e.logger_("dispose"),e.tech_.off("seekablechanged",a),e.tech_.off("waiting",i),e.tech_.off(Rh,r),e.tech_.off("canplay",n),e.checkCurrentTimeTimeout_&&y.clearTimeout(e.checkCurrentTimeTimeout_),e.cancelTimer_()}}function jh(t){_l(this,jh);var e,n=Sl(this,(jh.__proto__||Object.getPrototypeOf(jh)).call(this)),i=t.url,r=t.withCredentials,a=t.tech,s=t.bandwidth,o=t.externHls,u=t.useCueTags,l=t.blacklistDuration,c=t.enableLowInitialPlaylist,h=t.sourceType,d=t.seekTo;if(!i)throw new Error("A non-empty playlist URL is required");Dh=o,n.withCredentials=r,n.tech_=a,n.hls_=a.hls,n.seekTo_=d,n.sourceType_=h,n.useCueTags_=u,n.blacklistDuration=l,n.enableLowInitialPlaylist=c,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:n.withCredentials,timeout:null},n.mediaTypes_=(e={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ih,activeTrack:ih,onGroupChanged:ih,onTrackChanged:ih}}),e),n.mediaSource=new Na.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=Na.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new xh(t),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Ph,n.inbandTextTracks_={};var f={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_=new("dash"===n.sourceType_?eh:cc)(i,n.hls_,n.withCredentials),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new wh(Na.mergeOptions(f,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new wh(Na.mergeOptions(f,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Eh(Na.mergeOptions(f,{loaderType:"vtt"}),t),n.setupSegmentLoaderListeners_(),Lh.forEach(function(t){n[t+"_"]=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]}.bind(n,t)}),n.logger_=Zc("MPC"),n.masterPlaylistLoader_.load(),n}function Fh(){_l(this,Fh);var t=Sl(this,(Fh.__proto__||Object.getPrototypeOf(Fh)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=Zc("SyncController"),t}function Gh(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_l(this,Gh);var n=Sl(this,(Gh.__proto__||Object.getPrototypeOf(Gh)).call(this,t,e));return n.mediaSource_=null,n.subtitlesTrack_=null,n}function Vh(t){_l(this,Vh);var e=Sl(this,(Vh.__proto__||Object.getPrototypeOf(Vh)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return e.bandwidth=t.bandwidth,e.throughput={rate:0,count:0},e.roundTrip=NaN,e.resetStats_(),e.mediaIndex=null,e.hasPlayed_=t.hasPlayed,e.currentTime_=t.currentTime,e.seekable_=t.seekable,e.seeking_=t.seeking,e.duration_=t.duration,e.mediaSource_=t.mediaSource,e.hls_=t.hls,e.loaderType_=t.loaderType,e.startingMedia_=void 0,e.segmentMetadataTrack_=t.segmentMetadataTrack,e.goalBufferLength_=t.goalBufferLength,e.sourceType_=t.sourceType,e.inbandTextTracks_=t.inbandTextTracks,e.state_="INIT",e.checkBufferTimeout_=null,e.error_=void 0,e.currentTimeline_=-1,e.pendingSegment_=null,e.mimeType_=null,e.sourceUpdater_=null,e.xhrOptions_=null,e.activeInitSegmentId_=null,e.initSegments_={},e.captionParser_=new ul,e.decrypter_=t.decrypter,e.syncController_=t.syncController,e.syncPoint_={segmentIndex:0,time:0},e.syncController_.on("syncinfoupdate",function(){return e.trigger("syncinfoupdate")}),e.mediaSource_.addEventListener("sourceopen",function(){return e.ended_=!1}),e.fetchAtBuffer_=!1,e.logger_=Zc("SegmentLoader["+e.loaderType_+"]"),Object.defineProperty(e,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),e}function qh(t,e,n,i){_l(this,qh),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=n,this.mimeType_=e,this.logger_=Zc("SourceUpdater["+n+"]["+e+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,e,i)):this.createSourceBuffer_(e,i)}Na.use("*",function(e){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.currentTime())}}});var Wh={PlaylistLoader:cc,Playlist:pc,Decrypter:sc,AsyncStream:ac,decrypt:yl,utils:vc,STANDARD_PLAYLIST_SELECTOR:function(){return function(t,e,n,i,r){var a=t.playlists.map(function(t){var e,n;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||y.Number.MAX_VALUE,width:e,height:n,playlist:t}});lh(a,function(t,e){return t.bandwidth-e.bandwidth});var s=(a=a.filter(function(t){return!pc.isIncompatible(t.playlist)})).filter(function(t){return pc.isEnabled(t.playlist)});s.length||(s=a.filter(function(t){return!pc.isDisabled(t.playlist)}));var o=s.filter(function(t){return t.bandwidth*Sh.BANDWIDTH_VARIANCE<e}),u=o[o.length-1],l=o.filter(function(t){return t.bandwidth===u.bandwidth})[0];if(!1===r){var c=l||s[0]||a[0];return c?c.playlist:null}var h=o.filter(function(t){return t.width&&t.height});lh(h,function(t,e){return t.width-e.width});var d=h.filter(function(t){return t.width===n&&t.height===i});u=d[d.length-1];var f=d.filter(function(t){return t.bandwidth===u.bandwidth})[0],p=void 0,m=void 0,g=void 0;f||(m=(p=h.filter(function(t){return t.width>n||t.height>i})).filter(function(t){return t.width===p[0].width&&t.height===p[0].height}),u=m[m.length-1],g=m.filter(function(t){return t.bandwidth===u.bandwidth})[0]);var v=g||f||l||s[0]||a[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(uh(this.tech_.el(),"width"),10),parseInt(uh(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(pc.isEnabled);return lh(t,function(t,e){return ch(t,e)}),t.filter(function(t){return Rc(t.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:ch,comparePlaylistResolution:function(t,e){var n=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||y.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),n===(i=i||y.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i},xhr:jl()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(Wh,e,{get:function(){return Na.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),Sh[e]},set:function(t){Na.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Na.log.warn("value of Hls."+e+" must be greater than or equal to 0"):Sh[e]=t}})});function zh(t){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t)?"hls":/^application\/dash\+xml/i.test(t)?"dash":null}function Xh(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})}Wh.canPlaySource=function(){return Na.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Kh;Wh.supportsNativeHls=(Kh=d.createElement("video"),!!Na.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(Kh.canPlayType(t))})),Wh.supportsNativeDash=!!Na.getTech("Html5").isSupported()&&/maybe|probably/i.test(d.createElement("video").canPlayType("application/dash+xml")),Wh.supportsTypeNatively=function(t){return"hls"===t?Wh.supportsNativeHls:"dash"===t&&Wh.supportsNativeDash},Wh.isSupported=function(){return Na.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Yh=Na.getComponent("Component"),Qh=(Tl(Zh,Yh),oc(Zh,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Sh.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Sh.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth,this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(t,e){var i=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Wh,this.options_.sourceType=zh(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t),i.setCurrentTime(t)},this.masterPlaylistController_=new Uh(this.options_),this.playbackWatcher_=new Bh(Na.mergeOptions(this.options_,{seekable:function(){return i.seekable()}})),this.masterPlaylistController_.on("error",function(){Na.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Wh.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Wh.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Na.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Ql(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ql(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){var n,t;t=(n=i).playlists,n.representations=function(){return t.master.playlists.filter(function(t){return!Rl(t)}).map(function(t,e){return new bh(n,t,t.uri)})},function(t){if("dash"===t.options_.sourceType){var e=Na.players[t.tech_.options_.playerId];if(e.eme){var n=function(t,e,n){if(!t)return t;var i={};for(var r in t)i[r]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[r]&&e.contentProtection[r].pssh&&(i[r].pssh=e.contentProtection[r].pssh),"string"==typeof t[r]&&(i[r].url=t[r]);return Na.mergeOptions(t,i)}(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(e.currentSource().keySystems=n,e.eme.initializeMediaKeys&&e.eme.initializeMediaKeys())}}}(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Na.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var n=this,t=Na.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t;e=n.qualityLevels_,(t=n).representations().forEach(function(t){e.addQualityLevel(t)}),Xh(e,t.playlists)}),this.playlists.on("mediachange",function(){Xh(n.qualityLevels_,n.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(Zh.prototype.__proto__||Object.getPrototypeOf(Zh.prototype),"dispose",this).call(this)}}]),Zh),Jh={name:"videojs-http-streaming",VERSION:"1.4.1",canHandleSource:function(t){var e=Na.mergeOptions(Na.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return Jh.canPlayType(t.type,e)},handleSource:function(t,e){var n=Na.mergeOptions(Na.options,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return e.hls=new Qh(t,e,n),e.hls.xhr=jl(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=Na.mergeOptions(Na.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).hls.overrideNative,n=zh(t);return!n||Wh.supportsTypeNatively(n)&&!e?"":"maybe"}};function Zh(t,e,n){_l(this,Zh);var i=Sl(this,(Zh.__proto__||Object.getPrototypeOf(Zh)).call(this,e,n.hls));if(e.options_&&e.options_.playerId){var r=Na(e.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return Na.log.warn("player.hls is deprecated. Use player.tech().hls instead."),e.trigger({type:"usage",name:"hls-player-access"}),i}}),r.vhs=i,r.dash=i}if(i.tech_=e,i.source_=t,i.stats={},i.setOptions_(),i.options_.overrideNative&&e.overrideNativeAudioTracks&&e.overrideNativeVideoTracks)e.overrideNativeAudioTracks(!0),e.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(e.featuresNativeVideoTracks||e.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(d,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=d.fullscreenElement||d.webkitFullscreenElement||d.mozFullScreenElement||d.msFullscreenElement;e&&e.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()}),i.on(i.tech_,"seeking",function(){this.tech_.seeking()&&0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),i.on(i.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}return void 0!==Na.MediaSource&&void 0!==Na.URL||(Na.MediaSource=Yc,Na.URL=Qc),Yc.supportsNativeMediaSources()&&Na.getTech("Html5").registerSourceHandler(Jh,0),Na.HlsHandler=Qh,Na.HlsSourceHandler=Jh,Na.Hls=Wh,Na.use||Na.registerComponent("Hls",Wh),Na.options.hls=Na.options.hls||{},Na.registerPlugin?Na.registerPlugin("reloadSourceOnError",_h):Na.plugin("reloadSourceOnError",_h),Na}),function(){var t,e;t=window,(e=t&&t.videojs)&&(e.CDN_VERSION="7.3.0")}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("video.js")):"function"==typeof define&&define.amd?define(["exports","video.js"],e):e(t.videojsHttpStreaming={},t.videojs)}(this,function(t,A){"use strict";A=A&&A.hasOwnProperty("default")?A.default:A;var e,n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i={},r=Object.freeze({default:i});"undefined"!=typeof document?e=document:(e=n["__GLOBAL_DOCUMENT_CACHE@4"])||(e=n["__GLOBAL_DOCUMENT_CACHE@4"]=r?i:r);function l(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=m.buildAbsoluteURL(y.location.href,t)),m.buildAbsoluteURL(t,e))}function s(t,e,n){return t&&n.responseURL&&e!==n.responseURL?n.responseURL:e}var a,o,u,c,h,d,f,p=e,m=(o=a={exports:{}},u=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/;?#]*)(.*)$/,h=/(?:\/|^)\.(?=\/)/g,d=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,f={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=this.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=f.normalizePath(i.path),f.buildURLFromParts(i)}var r=this.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=f.normalizePath(r.path),f.buildURLFromParts(r)):e;var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var s=c.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path="/");var o={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var u=a.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=f.normalizePath(l)}else o.path=a.path,r.params||(o.params=a.params,r.query||(o.query=a.query));return null===o.path&&(o.path=n.alwaysNormalize?f.normalizePath(r.path):r.path),f.buildURLFromParts(o)},parseURL:function(t){var e=u.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(h,"");t.length!==(t=t.replace(d,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},o.exports=f,a.exports),y="undefined"!=typeof window?window:n;function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function v(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){for(var e,n=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((e=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function C(r,a){["AUDIO","SUBTITLES"].forEach(function(t){for(var e in r.mediaGroups[t])for(var n in r.mediaGroups[t][e]){var i=r.mediaGroups[t][e][n];a(i,t,e,n)}})}function E(t,e){var n=J(t,{}),i=n.playlists[e.uri];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence)return null;var r=J(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),a=n;a<r;a++)i[a-n]=J(t[a],i[a-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach(function(t){var e,n;e=t,n=r.resolvedUri,e.resolvedUri||(e.resolvedUri=l(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=l(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=l(n,e.map.uri))});for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===e.uri&&(n.playlists[a]=r);return n.playlists[e.uri]=r,n}function k(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];(t.playlists[n.uri]=n).resolvedUri=l(t.uri,n.uri),n.id=e,n.attributes||(n.attributes={},tt.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}}function x(e){C(e,function(t){t.uri&&(t.resolvedUri=l(e.uri,t.uri))})}function P(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)}function O(t,r,e){var n,i;return void 0===r&&(r=t.mediaSequence+t.segments.length),r<t.mediaSequence?0:(n=function(t){var e=0,n=r-t.mediaSequence,i=t.segments[n];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;n--;){if(void 0!==(i=t.segments[n]).end)return{result:e+i.end,precise:!0};if(e+=i.duration,void 0!==i.start)return{result:e+i.start,precise:!0}}return{result:e,precise:!1}}(t)).precise?n.result:(i=function(t){for(var e=0,n=void 0,i=r-t.mediaSequence;i<t.segments.length;i++){if(void 0!==(n=t.segments[i]).start)return{result:n.start-e,precise:!0};if(e+=n.duration,void 0!==n.end)return{result:n.end-e,precise:!0}}return{result:-1,precise:!1}}(t)).precise?i.result:n.result+e}function I(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return y.Infinity}return O(t,e,n)}function $(t,e,n){var i=0;if(n<e){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var a=e;a<Math.min(0,n);a++)i+=t.targetDuration;e=0}for(var s=e;s<n;s++)i+=t.segments[s].duration;return i}function M(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;e--&&!((n+=t.segments[e].duration)>=i););return Math.max(0,e)}function D(t,e,n){if(!t||!t.segments)return null;if(t.endList)return I(t);if(null===e)return null;e=e||0;var i=n?M(t):t.segments.length;return O(t,t.mediaSequence+i,e)}function L(t){return t-Math.floor(t)==0}function U(t,e){if(L(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=e*r;if(L(a)||i===n)return(a+t)/r}}function R(t){return t.excludeUntil&&t.excludeUntil>Date.now()}function B(t){return t.excludeUntil&&t.excludeUntil===1/0}function N(t){var e=R(t);return!t.disabled&&!e}function H(t,e){return e.attributes&&e.attributes[t]}function j(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!N(t)&&(t.attributes.BANDWIDTH||0)<n}).length}function F(){return function t(e,i){e=ot({timeout:45e3},e);var n=t.beforeRequest||A.Hls.xhr.beforeRequest;if(n&&"function"==typeof n){var r=n(e);r&&(e=r)}var a=st(e,function(t,e){var n=a.response;!t&&n&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=n.byteLength||n.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),e.headers&&(a.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(a.timedout=!0),t||a.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(a&&(n||a.responseText)))),i(t,a)}),s=a.abort;return a.abort=function(){return a.aborted=!0,s.apply(a,arguments)},a.uri=e.uri,a.requestTime=Date.now(),a}}function G(t){var e,n,i={};return t.byterange&&(i.Range=(n=(e=t.byterange).offset+e.length-1,"bytes="+e.offset+"-"+n)),i}var V,q,W=((q=ht.prototype).on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},q.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),-1<n},q.trigger=function(t){var e,n,i,r=this.listeners[t];if(r)if(2===arguments.length)for(n=r.length,e=0;e<n;++e)r[e].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),n=r.length,e=0;e<n;++e)r[e].apply(this,i)},q.dispose=function(){this.listeners={}},q.pipe=function(e){this.on("data",function(t){e.push(t)})},ht),z=(v(ct,V=W),ct.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");-1<e;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},ct),X=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}v(t,e);var n=t.prototype;return n.push=function(i){var u,l,c=this;0!==(i=i.trim()).length&&("#"===i[0]?this.tagMappers.reduce(function(t,e){var n=e(i);return n===i?t:t.concat([n])},[i]).forEach(function(t){for(var e=0;e<c.customParsers.length;e++)if(c.customParsers[e].call(c,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),u=/^#EXTM3U/.exec(t))c.trigger("data",{type:"tag",tagType:"m3u"});else{if(u=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return l={type:"tag",tagType:"inf"},u[1]&&(l.duration=parseFloat(u[1])),u[2]&&(l.title=u[2]),void c.trigger("data",l);if(u=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return l={type:"tag",tagType:"targetduration"},u[1]&&(l.duration=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return l={type:"tag",tagType:"totalduration"},u[1]&&(l.duration=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return l={type:"tag",tagType:"version"},u[1]&&(l.version=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return l={type:"tag",tagType:"media-sequence"},u[1]&&(l.number=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return l={type:"tag",tagType:"discontinuity-sequence"},u[1]&&(l.number=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return l={type:"tag",tagType:"playlist-type"},u[1]&&(l.playlistType=u[1]),void c.trigger("data",l);if(u=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return l={type:"tag",tagType:"byterange"},u[1]&&(l.length=parseInt(u[1],10)),u[2]&&(l.offset=parseInt(u[2],10)),void c.trigger("data",l);if(u=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return l={type:"tag",tagType:"allow-cache"},u[1]&&(l.allowed=!/NO/.test(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(l={type:"tag",tagType:"map"},u[1]){var n=_(u[1]);if(n.URI&&(l.uri=n.URI),n.BYTERANGE){var i=n.BYTERANGE.split("@"),r=i[0],a=i[1];l.byterange={},r&&(l.byterange.length=parseInt(r,10)),a&&(l.byterange.offset=parseInt(a,10))}}c.trigger("data",l)}else if(u=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(l={type:"tag",tagType:"stream-inf"},u[1]){if(l.attributes=_(u[1]),l.attributes.RESOLUTION){var s=l.attributes.RESOLUTION.split("x"),o={};s[0]&&(o.width=parseInt(s[0],10)),s[1]&&(o.height=parseInt(s[1],10)),l.attributes.RESOLUTION=o}l.attributes.BANDWIDTH&&(l.attributes.BANDWIDTH=parseInt(l.attributes.BANDWIDTH,10)),l.attributes["PROGRAM-ID"]&&(l.attributes["PROGRAM-ID"]=parseInt(l.attributes["PROGRAM-ID"],10))}c.trigger("data",l)}else{if(u=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return l={type:"tag",tagType:"media"},u[1]&&(l.attributes=_(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-ENDLIST/.exec(t))c.trigger("data",{type:"tag",tagType:"endlist"});else if(u=/^#EXT-X-DISCONTINUITY/.exec(t))c.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(u=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return l={type:"tag",tagType:"program-date-time"},u[1]&&(l.dateTimeString=u[1],l.dateTimeObject=new Date(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-KEY:?(.*)$/.exec(t))return l={type:"tag",tagType:"key"},u[1]&&(l.attributes=_(u[1]),l.attributes.IV&&("0x"===l.attributes.IV.substring(0,2).toLowerCase()&&(l.attributes.IV=l.attributes.IV.substring(2)),l.attributes.IV=l.attributes.IV.match(/.{8}/g),l.attributes.IV[0]=parseInt(l.attributes.IV[0],16),l.attributes.IV[1]=parseInt(l.attributes.IV[1],16),l.attributes.IV[2]=parseInt(l.attributes.IV[2],16),l.attributes.IV[3]=parseInt(l.attributes.IV[3],16),l.attributes.IV=new Uint32Array(l.attributes.IV))),void c.trigger("data",l);if(u=/^#EXT-X-START:?(.*)$/.exec(t))return l={type:"tag",tagType:"start"},u[1]&&(l.attributes=_(u[1]),l.attributes["TIME-OFFSET"]=parseFloat(l.attributes["TIME-OFFSET"]),l.attributes.PRECISE=/YES/.test(l.attributes.PRECISE)),void c.trigger("data",l);if(u=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return l={type:"tag",tagType:"cue-out-cont"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);if(u=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return l={type:"tag",tagType:"cue-out"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);if(u=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return l={type:"tag",tagType:"cue-in"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);c.trigger("data",{type:"tag",data:t.slice(4)})}}}else c.trigger("data",{type:"comment",text:t.slice(1)})}):this.trigger("data",{type:"uri",uri:i}))},n.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,a=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:a}),!0})},n.addTagMapper=function(t){var e=t.expression,n=t.map;this.tagMappers.push(function(t){return e.test(t)?n(t):t})},t}(W),K=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new z,t.parseStream=new X,t.lineStream.pipe(t.parseStream);var r,a,s=b(b(t)),o=[],u={},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(e){var n,i;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&((u.byterange=t).length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&((u.byterange=t).offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<e.duration&&(u.duration=e.duration),0===e.duration&&(u.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){e.attributes?"NONE"!==e.attributes.METHOD?e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(a.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):a=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){r={},e.uri&&(r.uri=e.uri),e.byterange&&(r.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(u.attributes||(u.attributes={}),g(u.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var t=this.manifest.mediaGroups[e.attributes.TYPE];t[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},n=t[e.attributes["GROUP-ID"]],(i={default:/yes/i.test(e.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(i.language=e.attributes.LANGUAGE),e.attributes.URI&&(i.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(i.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(i.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(i.forced=/yes/i.test(e.attributes.FORCED)),n[e.attributes.NAME]=i}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,u.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),u.dateTimeString=e.dateTimeString,u.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){u.cueOut=e.data},"cue-out-cont":function(){u.cueOutCont=e.data},"cue-in":function(){u.cueIn=e.data}}[e.tagType]||function(){}).call(s)},uri:function(){u.uri=e.uri,o.push(u),!this.manifest.targetDuration||"duration"in u||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),a&&(u.key=a),u.timeline=c,r&&(u.map=r),u={}},comment:function(){},custom:function(){e.segment?(u.custom=u.custom||{},u.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(s)}),t}v(t,e);var n=t.prototype;return n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},t}(W),Y=function(t,e,n){return e&&lt(t.prototype,e),n&&lt(t,n),t},Q=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},J=A.mergeOptions,Z=A.EventTarget,tt=A.log,et=(S(ut,Z),Y(ut,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:500<=t.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new K;this.customTagParsers.forEach(function(t){return i.addParser(t)}),this.customTagMappers.forEach(function(t){return i.addTagMapper(t)}),i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var r=E(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(y.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=y.setTimeout(function(){n.trigger("mediaupdatetimeout")},P(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(n){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}var t=!this.media_||n.uri!==this.media_.uri;if(this.master.playlists[n.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(t&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(t){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(t,e){if(i.request){if(n.resolvedUri=s(i.handleManifestRedirects,n.resolvedUri,e),t)return i.playlistRequestError(i.request,n.uri,r);i.haveMetadata(e,n.uri),"HAVE_MASTER"===r?i.trigger("loadedmetadata"):i.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;y.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return e.load()},i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var i=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(i.request){if(i.request=null,t)return i.error={status:e.status,message:"HLS playlist request error at URL: "+i.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");var n=new K;return i.customTagParsers.forEach(function(t){return n.addParser(t)}),i.customTagMappers.forEach(function(t){return n.addTagMapper(t)}),n.push(e.responseText),n.end(),i.state="HAVE_MASTER",i.srcUrl=s(i.handleManifestRedirects,i.srcUrl,e),n.manifest.uri=i.srcUrl,n.manifest.playlists?(i.master=n.manifest,k(i.master),x(i.master),i.trigger("loadedplaylist"),void(i.request||i.media(n.manifest.playlists[0]))):(i.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:y.location.href,playlists:[{uri:i.srcUrl,id:0,resolvedUri:i.srcUrl,attributes:{}}]},i.master.playlists[i.srcUrl]=i.master.playlists[0],i.haveMetadata(e,i.srcUrl),i.trigger("loadedmetadata"))}})}}]),ut),nt=A.createTimeRange,it=U.bind(null,1),rt=U.bind(null,-1),at={duration:I,seekable:function(t,e){var n=e||0,i=D(t,e,!0);return null===i?nt():nt(n,i)},safeLiveIndex:M,getMediaInfoForTime:function(t,e,n,i){var r=void 0,a=void 0,s=t.segments.length,o=e-i;if(o<0){if(0<n)for(r=n-1;0<=r;r--)if(a=t.segments[r],0<(o+=rt(a.duration)))return{mediaIndex:r,startTime:i-$(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((o-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<s;r++)if(a=t.segments[r],(o-=it(a.duration))<0)return{mediaIndex:r,startTime:i+$(t,n,r)};return{mediaIndex:s-1,startTime:e}},isEnabled:N,isDisabled:function(t){return t.disabled},isBlacklisted:R,isIncompatible:B,playlistEnd:D,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:H,estimateSegmentRequestTime:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return H("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:j},st=A.xhr,ot=A.mergeOptions;function ut(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};T(this,ut);var i=w(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this)),r=n.withCredentials,a=void 0!==r&&r,s=n.handleManifestRedirects,o=void 0!==s&&s;i.srcUrl=t,i.hls_=e,i.withCredentials=a,i.handleManifestRedirects=o;var u=e.options_;if(i.customTagParsers=u&&u.customTagParsers||[],i.customTagMappers=u&&u.customTagMappers||[],!i.srcUrl)throw new Error("A non-empty playlist URL is required");return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:l(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(t,e){if(i.request)return t?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i}function lt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ct(){var t;return(t=V.call(this)||this).buffer="",t}function ht(){this.listeners={}}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}function pt(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new $t(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),s=new Int32Array(a.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(o=n[0],u=n[1],l=n[2],c=n[3],m=0;m<i.length;m+=4)h=ft(i[m]),d=ft(i[m+1]),f=ft(i[m+2]),p=ft(i[m+3]),r.decrypt(h,d,f,p,s,m),s[m]=ft(s[m]^o),s[m+1]=ft(s[m+1]^u),s[m+2]=ft(s[m+2]^l),s[m+3]=ft(s[m+3]^c),o=h,u=d,l=f,c=p;return a}function mt(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")}function gt(t){return 32<=t&&t<126?String.fromCharCode(t):"."}function vt(n){var i={};return Object.keys(n).forEach(function(t){var e=n[t];ArrayBuffer.isView(e)?i[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:i[t]=e}),i}function yt(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")}function bt(t){return t.resolvedUri}function _t(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(mt).join("")+" "+e.slice(16*i,16*i+16).map(gt).join("")+"\n";return n}function Tt(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return A.createTimeRanges(n)}function St(t,n){return Tt(t,function(t,e){return t-1/30<=n&&n<=e+1/30})}function wt(t,e){return Tt(t,function(t){return e<=t-1/30})}function Ct(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")}function Et(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function kt(t,e,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=e&&r.endTime>=t&&n.removeCue(r)}function At(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}function xt(t,e,n){var r=y.WebKitDataCue||y.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new r(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var a=At(t.mediaSource_.duration);if(n.forEach(function(t){var i=t.cueTime+this.timestampOffset;!("number"!=typeof i||y.isNaN(i)||i<0)&&i<1/0&&t.frames.forEach(function(t){var e,n=new r(i,i,t.value||t.url||t.data||"");n.frame=t,n.value=t,e=n,Object.defineProperties(e.frame,{id:{get:function(){return A.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return A.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return A.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}}),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var i=t.metadataTrack_.cues,s=[],o=0;o<i.length;o++)i[o]&&s.push(i[o]);var u=s.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),l=Object.keys(u).sort(function(t,e){return Number(t)-Number(e)});l.forEach(function(t,e){var n=u[t],i=Number(l[e+1])||a;n.forEach(function(t){t.endTime=i})})}}}var Pt,Ot=function(t,e,n){return e&&zt(t.prototype,e),n&&zt(t,n),t},It=null,$t=(Wt.prototype.decrypt=function(t,e,n,i,r,a){var s=this._key[1],o=t^s[0],u=i^s[1],l=n^s[2],c=e^s[3],h=void 0,d=void 0,f=void 0,p=s.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(m=0;m<p;m++)h=y[o>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&c]^s[g],d=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^T[255&o]^s[g+1],f=y[l>>>24]^b[c>>16&255]^_[o>>8&255]^T[255&u]^s[g+2],c=y[c>>>24]^b[o>>16&255]^_[u>>8&255]^T[255&l]^s[g+3],g+=4,o=h,u=d,l=f;for(m=0;m<4;m++)r[(3&-m)+a]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^s[g++],h=o,o=u,u=l,l=c,c=h},Wt),Mt=(qt.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},qt.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),-1<n},qt.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,s=0;s<a;++s)e[s].apply(this,r)},qt.prototype.dispose=function(){this.listeners={}},qt.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},qt),Dt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Vt,Pt=Mt),Vt.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},Vt.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},Vt),Lt=(Gt.prototype.decryptChunk_=function(e,n,i,r){return function(){var t=pt(e,n,i);r.set(t,e.byteOffset)}},Ot(Gt,null,[{key:"STEP",get:function(){return 32e3}}]),Gt),Ut=Object.freeze({createTransferableMessage:vt,initSegmentId:yt,segmentKeyId:bt,hexDump:_t,tagDump:function(t){var e=t.bytes;return _t(e)},textRanges:function(t){var e,n,i="",r=void 0;for(r=0;r<t.length;r++)i+=(n=r,(e=t).start(n)+"-"+e.end(n)+" ");return i}}),Rt="undefined"!=typeof window?window:{},Bt="undefined"==typeof Symbol?"__target":Symbol(),Nt="application/javascript",Ht=Rt.BlobBuilder||Rt.WebKitBlobBuilder||Rt.MozBlobBuilder||Rt.MSBlobBuilder,jt=Rt.URL||Rt.webkitURL||jt&&jt.msURL,Ft=Rt.Worker;function Gt(t,e,n,i){dt(this,Gt);var r=Gt.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),o=0;for(this.asyncStream_=new Dt,this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s)),o=r;o<a.length;o+=r)n=new Uint32Array([ft(a[o-4]),ft(a[o-3]),ft(a[o-2]),ft(a[o-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s));this.asyncStream_.push(function(){i(null,s.subarray(0,s.byteLength-s[s.byteLength-1]))})}function Vt(){dt(this,Vt);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Pt.call(this,Mt));return t.jobs=[],t.delay=1,t.timeout_=null,t}function qt(){dt(this,qt),this.listeners={}}function Wt(t){dt(this,Wt),It=It||function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,s=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!i[s];s^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,p=16843009*u[h=u[c=u[r[i[s]=d]=s]]]^65537*h^257*c^16843008*s,f=257*u[d]^16843008*d,a=0;a<4;a++)e[a][s]=f=f<<24^f>>>8,n[a][d]=p=p<<24^p>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t}(),this._tables=[[It[0][0].slice(),It[0][1].slice(),It[0][2].slice(),It[0][3].slice(),It[0][4].slice()],[It[1][0].slice(),It[1][1].slice(),It[1][2].slice(),It[1][3].slice(),It[1][4].slice()]];var e=void 0,n=void 0,i=void 0,r=void 0,a=void 0,s=this._tables[0][4],o=this._tables[1],u=t.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=t.slice(0),a=[],this._key=[r,a],e=u;e<4*u+28;e++)i=r[e-1],(e%u==0||8===u&&e%u==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],e%u==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),r[e]=r[e-u]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],a[n]=e<=4||n<4?i:o[0][s[i>>>24]]^o[1][s[i>>16&255]]^o[2][s[i>>8&255]]^o[3][s[255&i]]}function zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xt(r,a){return function(t){var e=this;if(!a)return new Ft(r);if(Ft&&!t){var n=Jt(a.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Bt]=new Ft(n),function(t){if(t&&n){var e=t.terminate;t.objURL=n,t.terminate=function(){t.objURL&&jt.revokeObjectURL(t.objURL),e.call(t)}}}(this[Bt]),this[Bt]}var i={postMessage:function(t){e.onmessage&&setTimeout(function(){e.onmessage({data:t,target:i})})}};a.call(i),this.postMessage=function(t){setTimeout(function(){i.onmessage({data:t,target:e})})},this.isThisThread=!0}}if(Ft){var Kt,Yt=Jt("self.onmessage = function () {}"),Qt=new Uint8Array(1);try{(Kt=new Ft(Yt)).postMessage(Qt,[Qt.buffer])}catch(t){Ft=null}finally{jt.revokeObjectURL(Yt),Kt&&Kt.terminate()}}function Jt(e){try{return jt.createObjectURL(new Blob([e],{type:Nt}))}catch(t){var n=new Ht;return n.append(e),jt.createObjectURL(n.getBlob(type))}}function Zt(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})}function te(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n={codecCount:0};return n.codecCount=e.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),n.audioProfile=n.audioProfile&&n.audioProfile[2],n}function ee(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'}function ne(t){return/mp4a\.\d+.\d+/i.test(t)}function ie(t){return/avc1\.[\da-f]+/i.test(t)}var re,ae,se=new Xt("./transmuxer-worker.worker.js",function(t,e){var me=this;!function(){var o,e,n,r,a,i,t,s,u,l,c,h,d,f,p,m,g,v,y,b,_,T,S,w,C,E,k,A,x,P,O,I,$,M,D,L,U,R,B,N,H=Math.pow(2,32)-1;!function(){var t;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in T)T.hasOwnProperty(t)&&(T[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),w=new Uint8Array([0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:E,audio:k},O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),$=I,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),D=I,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),o=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},e=function(){return o(T.dinf,o(T.dref,O))},n=function(t){return o(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},p=function(t){return o(T.hdlr,A[t])},f=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),o(T.mdhd,e)},d=function(t){return o(T.mdia,f(t),p(t.type),i(t))},a=function(t){return o(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},i=function(t){return o(T.minf,"video"===t.type?o(T.vmhd,x):o(T.smhd,P),e(),g(t))},t=function(t,e){for(var n=[],i=e.length;i--;)n[i]=y(e[i]);return o.apply(null,[T.moof,a(t)].concat(n))},s=function(t){for(var e=t.length,n=[];e--;)n[e]=c(t[e]);return o.apply(null,[T.moov,l(4294967295)].concat(n).concat(u(t)))},u=function(t){for(var e=t.length,n=[];e--;)n[e]=b(t[e]);return o.apply(null,[T.mvex].concat(n))},l=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(T.mvhd,e)},m=function(t){var e,n,i=t.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,r[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return o(T.sdtp,r)},g=function(t){return o(T.stbl,v(t),o(T.stts,D),o(T.stsc,$),o(T.stsz,M),o(T.stco,I))},v=function(t){return o(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===t.type?L:U)(t))},L=function(t){var e,n=t.sps||[],i=t.pps||[],r=[],a=[];for(e=0;e<n.length;e++)r.push((65280&n[e].byteLength)>>>8),r.push(255&n[e].byteLength),r=r.concat(Array.prototype.slice.call(n[e]));for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));return o(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(T.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(a))),o(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(t){return o(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),n(t))},h=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return o(T.tkhd,e)},y=function(t){var e,n,i,r,a,s;return e=o(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(1+H)),s=Math.floor(t.baseMediaDecodeTime%(1+H)),n=o(T.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(i=_(t,92),o(T.traf,e,n,i)):(r=m(t),i=_(t,r.length+92),o(T.traf,e,n,i,r))},c=function(t){return t.duration=t.duration||4294967295,o(T.trak,h(t),d(t))},b=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),o(T.trex,e)},N=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},B=function(t,e){var n,i,r,a;for(e+=20+16*(i=t.samples||[]).length,n=N(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return o(T.trun,new Uint8Array(n))},R=function(t,e){var n,i,r,a;for(e+=20+8*(i=t.samples||[]).length,n=N(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return o(T.trun,new Uint8Array(n))},_=function(t,e){return("audio"===t.type?R:B)(t,e)};function j(t){return t>>>0}function F(){this.init=function(){var a={};this.on=function(t,e){a[t]||(a[t]=[]),a[t]=a[t].concat(e)},this.off=function(t,e){var n;return!!a[t]&&(n=a[t].indexOf(e),a[t]=a[t].slice(),a[t].splice(n,1),-1<n)},this.trigger=function(t){var e,n,i,r;if(e=a[t])if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},this.dispose=function(){a={}}}}var G,V,q={ftyp:r=function(){return o(T.ftyp,S,w,S,C)},mdat:function(t){return o(T.mdat,t)},moof:t,moov:s,initSegment:function(t){var e,n=r(),i=s(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}},W={findBox:G=function(t,e){var n,i,r,a,s,o=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=j(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=V(t.subarray(n+4,n+8)),a=1<i?n+i:t.byteLength,r===e[0]&&(1===e.length?o.push(t.subarray(n+8,a)):(s=G(t.subarray(n+8,a),e.slice(1))).length&&(o=o.concat(s))),n=a;return o},parseType:V=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),(e+=String.fromCharCode(t[2]))+String.fromCharCode(t[3])},timescale:function(t){return G(t,["moov","trak"]).reduce(function(t,e){var n,i,r,a,s;return(n=G(e,["tkhd"])[0])?(i=n[0],a=j(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(s=G(e,["mdia","mdhd"])[0])?(r=0===(i=s[0])?12:20,t[a]=j(s[r]<<24|s[r+1]<<16|s[r+2]<<8|s[r+3]),t):null):null},{})},startTime:function(r,t){var e,n,i;return e=G(t,["moof","traf"]),n=[].concat.apply([],e.map(function(i){return G(i,["tfhd"]).map(function(t){var e,n;return e=j(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),n=r[e]||9e4,(G(i,["tfdt"]).map(function(t){var e,n;return e=t[0],n=j(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=j(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/n})})),i=Math.min.apply(null,n),isFinite(i)?i:0},videoTrackIds:function(t){var o=[];return G(t,["moov","trak"]).forEach(function(t){var e=G(t,["mdia","hdlr"]),s=G(t,["tkhd"]);e.forEach(function(t,e){var n,i,r=V(t.subarray(8,12)),a=s[e];"vide"===r&&(i=0===(n=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),o.push(i))})}),o}};F.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},F.prototype.push=function(t){this.trigger("data",t)},F.prototype.flush=function(t){this.trigger("done",t)};function z(t){for(var e=[];t--;)e.push(0);return e}function X(t,e,n,i){var r,a,s,o,u,l,c=0,h=0,d=0;if(e.length&&(r=lt(t.baseMediaDecodeTime,t.samplerate),a=Math.ceil(9e4/(t.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),d=(h=Math.floor(c/a))*a),!(h<1||45e3<d))){for((s=ut[t.samplerate])||(s=e[0].data),o=0;o<h;o++)e.splice(o,0,{data:s});t.baseMediaDecodeTime-=Math.floor((u=d,l=t.samplerate,et(nt(u),l)))}}function K(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts}function Y(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n}function Q(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}function J(){J.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new pt(0,0),new pt(0,1),new pt(1,0),new pt(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)}var Z,tt,et,nt,it,rt=F,at=[33,16,5,32,164,27],st=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ot={96e3:[at,[227,64],z(154),[56]],88200:[at,[231],z(170),[56]],64e3:[at,[248,192],z(240),[56]],48e3:[at,[255,192],z(268),[55,148,128],z(54),[112]],44100:[at,[255,192],z(268),[55,163,128],z(84),[112]],32e3:[at,[255,192],z(268),[55,234],z(226),[112]],24e3:[at,[255,192],z(268),[55,255,128],z(268),[111,112],z(126),[224]],16e3:[at,[255,192],z(268),[55,255,128],z(268),[111,255],z(269),[223,108],z(195),[1,192]],12e3:[st,z(268),[3,127,248],z(268),[6,255,240],z(268),[13,255,224],z(268),[27,253,128],z(259),[56]],11025:[st,z(268),[3,127,248],z(268),[6,255,240],z(268),[13,255,224],z(268),[27,255,192],z(268),[55,175,128],z(108),[112]],8e3:[st,z(268),[3,121,16],z(47),[7]]},ut=(Z=ot,Object.keys(Z).reduce(function(t,e){return t[e]=new Uint8Array(Z[e].reduce(function(t,e){return t.concat(e)},[])),t},{})),lt=(tt=function(t){return 9e4*t},et=function(t,e){return t*e},nt=function(t){return t/9e4},it=function(t,e){return t/e},function(t,e){return tt(it(t,e))});(J.prototype=new rt).push=function(t){var e,n,i,r;if("sei_rbsp"===t.nalUnitType&&4===(e=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,r=i=0}return n}(t.escapedRBSP)).payloadType&&(n=181!==(r=e).payload[0]||49!=(r.payload[1]<<8|r.payload[2])||"GA94"!==String.fromCharCode(r.payload[3],r.payload[4],r.payload[5],r.payload[6])||3!==r.payload[7]?null:r.payload.subarray(8,r.payload.length-1)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(t,e){var n,i,r,a,s=[];if(!(64&e[0]))return s;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[2+r]&&(a.ccData=e[3+r]<<8|e[4+r],s.push(a));return s}(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},J.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},J.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},J.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},J.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},J.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};function ct(t){return null===t?"":(t=dt[t]||t,String.fromCharCode(t))}function ht(){for(var t=[],e=15;e--;)t.push("");return t}var dt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ft=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],pt=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=ht();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ht();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=ht()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))a=ct((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=ct((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var s=ft.indexOf(7968&e);"rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(t.pts,s)),s!==this.row_&&(this.clearFormatting(t.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=ct(i),a+=ct(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};pt.prototype=new rt,pt.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},pt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ht(),this.nonDisplayed_=ht(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},pt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},pt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&48<=e&&e<=63},pt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&32<=e&&e<=63},pt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&32<=e&&e<=47},pt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&33<=e&&e<=35},pt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&64<=e&&e<=127},pt.prototype.isColorPAC=function(t){return 64<=t&&t<=79||96<=t&&t<=127},pt.prototype.isNormalChar=function(t){return 32<=t&&t<=127},pt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=ht(),this.displayed_=ht()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},pt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},pt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},pt.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},pt.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},pt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},pt.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};function mt(t,e){var n=1;for(e<t&&(n=-1);4294967296<Math.abs(e-t);)t+=8589934592*n;return t}function gt(t){var e,n;gt.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=mt(t.dts,n),t.pts=mt(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){e=n=void 0}}var vt={CaptionStream:J,Cea608Stream:pt},yt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};gt.prototype=new rt;function bt(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}function _t(t,e,n){return decodeURIComponent(bt(t,e,n))}function Tt(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var St,wt=gt,Ct={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=_t(t.data,1,e),t.value=_t(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=_t(t.data,1,e),t.url=_t(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(bt(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(St=function(t){var e,u={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},l=0,c=[],h=0;if(St.prototype.init.call(this),this.dispatchType=yt.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(e=0;e<u.descriptor.length;e++)this.dispatchType+=("00"+u.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,i,r,a;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(h=0,c.length=0),0===c.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))u.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(t),h+=t.data.byteLength,1===c.length&&(l=Tt(t.data.subarray(6,10)),l+=10),!(h<l)){for(e={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},a=0;a<l;)e.data.set(c[0].data.subarray(0,l-a),a),a+=c[0].data.byteLength,h-=c[0].data.byteLength,c.shift();n=10,64&e.data[5]&&(n+=4,n+=Tt(e.data.subarray(10,14)),l-=Tt(e.data.subarray(16,20)));do{if((i=Tt(e.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((r={id:String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),data:e.data.subarray(n+10,n+i+10)}).key=r.id,Ct[r.id]&&(Ct[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var s=r.data,o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;o*=4,o+=3&s[7],r.timeStamp=o,void 0===e.pts&&void 0===e.dts&&(e.pts=r.timeStamp,e.dts=r.timeStamp),this.trigger("timestamp",r)}e.frames.push(r),n+=10,n+=i}while(n<l);this.trigger("data",e)}}}).prototype=new rt;var Et,kt,At,xt=St,Pt=wt;(Et=function(){var r=new Uint8Array(188),a=0;Et.prototype.init.call(this),this.push=function(t){var e,n=0,i=188;for(a?((e=new Uint8Array(t.byteLength+a)).set(r.subarray(0,a)),e.set(t,a),a=0):e=t;i<e.byteLength;)71!==e[n]||71!==e[i]?(n++,i++):(this.trigger("data",e.subarray(n,i)),n+=188,i+=188);n<e.byteLength&&(r.set(e.subarray(n),0),a=e.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}}).prototype=new rt,(kt=function(){var i,r,a,s;kt.prototype.init.call(this),(s=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(t,e){var n=0;e.payloadUnitStartIndicator&&(n+=t[n]+1),("pat"===e.type?r:a)(t.subarray(n),e)},r=function(t,e){e.section_number=t[7],e.last_section_number=t[8],s.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=s.pmtPid},a=function(t,e){var n,i;if(1&t[5]){for(s.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var r=t[i],a=(31&t[i+1])<<8|t[i+2];r===yt.H264_STREAM_TYPE&&null===s.programMapTable.video?s.programMapTable.video=a:r===yt.ADTS_STREAM_TYPE&&null===s.programMapTable.audio?s.programMapTable.audio=a:r===yt.METADATA_STREAM_TYPE&&(s.programMapTable["timed-metadata"][a]=r),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=s.programMapTable}},this.push=function(t){var e={},n=4;if(e.payloadUnitStartIndicator=!!(64&t[1]),e.pid=31&t[1],e.pid<<=8,e.pid|=t[2],1<(48&t[3])>>>4&&(n+=t[n]+1),0===e.pid)e.type="pat",i(t.subarray(n),e),this.trigger("data",e);else if(e.pid===this.pmtPid)for(e.type="pmt",i(t.subarray(n),e),this.trigger("data",e);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,e]):this.processPes_(t,n,e)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=yt.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=yt.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new rt,kt.STREAM_TYPES={h264:27,adts:15},(At=function(){function i(t,e,n){var i,r,a=new Uint8Array(t.size),s={type:e},o=0,u=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,o=0;o<t.data.length;o++)r=t.data[o],a.set(r.data,u),u+=r.data.byteLength;var l,c,h;l=a,(c=s).packetLength=6+(l[4]<<8|l[5]),c.dataAlignmentIndicator=0!=(4&l[6]),192&(h=l[7])&&(c.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,c.pts*=4,c.pts+=(6&l[13])>>>1,c.dts=c.pts,64&h&&(c.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,c.dts*=4,c.dts+=(6&l[18])>>>1)),c.data=l.subarray(9+l[8]),i="video"===e||s.packetLength<=t.size,(n||i)&&(t.size=0,t.data.length=0),i&&d.trigger("data",s)}}var d=this,r={data:[],size:0},a={data:[],size:0},s={data:[],size:0};At.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var t,e;switch(n.streamType){case yt.H264_STREAM_TYPE:case yt.H264_STREAM_TYPE:t=r,e="video";break;case yt.ADTS_STREAM_TYPE:t=a,e="audio";break;case yt.METADATA_STREAM_TYPE:t=s,e="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(t,e,!0),t.data.push(n),t.size+=n.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},e=n.programMapTable;null!==e.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),d.trigger("data",t)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(s,"timed-metadata"),this.trigger("done")}}).prototype=new rt;var Ot={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Et,TransportParseStream:kt,ElementaryStream:At,TimestampRolloverStream:Pt,CaptionStream:vt.CaptionStream,Cea608Stream:vt.Cea608Stream,MetadataStream:xt};for(var It in yt)yt.hasOwnProperty(It)&&(Ot[It]=yt[It]);var $t,Mt=Ot,Dt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];($t=function(){var l;$t.prototype.init.call(this),this.push=function(t){var e,n,i,r,a,s,o=0,u=0;if("audio"===t.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+t.data.byteLength)).set(r),l.set(t.data,r.byteLength)):l=t.data;o+5<l.length;)if(255===l[o]&&240==(246&l[o+1])){if(n=2*(1&~l[o+1]),e=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,s=9e4*(a=1024*(1+(3&l[o+6])))/Dt[(60&l[o+2])>>>2],i=o+e,l.byteLength<i)return;if(this.trigger("data",{pts:t.pts+u*s,dts:t.dts+u*s,sampleCount:a,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:Dt[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+n,i)}),l.byteLength===i)return void(l=void 0);u++,l=l.subarray(i)}else o++},this.flush=function(){this.trigger("done")}}).prototype=new rt;function Lt(i){var r=i.byteLength,a=0,s=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+s},this.loadWord=function(){var t=i.byteLength-r,e=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");e.set(i.subarray(t,t+n)),a=new DataView(e.buffer).getUint32(0),s=8*n,r-=n},this.skipBits=function(t){var e;t<s||(t-=s,t-=8*(e=Math.floor(t/8)),r-=e,this.loadWord()),a<<=t,s-=t},this.readBits=function(t){var e=Math.min(s,t),n=a>>>32-e;return 0<(s-=e)?a<<=e:0<r&&this.loadWord(),0<(e=t-e)?n<<e|this.readBits(e):n},this.skipLeadingZeros=function(){var t;for(t=0;t<s;++t)if(0!=(a&2147483648>>>t))return a<<=t,s-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}var Ut,Rt,Bt,Nt=$t;(Rt=function(){var n,i,r=0;Rt.prototype.init.call(this),this.push=function(t){var e;for(i=i?((e=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),e.set(t.data,i.byteLength),e):t.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}}).prototype=new rt,Bt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Ut=function(){var n,i,r,a,s,o,b,e=new Rt;Ut.prototype.init.call(this),(n=this).push=function(t){"video"===t.type&&(i=t.trackId,r=t.pts,a=t.dts,e.push(t))},e.on("data",function(t){var e={trackId:i,pts:r,dts:a,data:t};switch(31&t[0]){case 5:e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:e.nalUnitType="sei_rbsp",e.escapedRBSP=s(t.subarray(1));break;case 7:e.nalUnitType="seq_parameter_set_rbsp",e.escapedRBSP=s(t.subarray(1)),e.config=o(e.escapedRBSP);break;case 8:e.nalUnitType="pic_parameter_set_rbsp";break;case 9:e.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",e)}),e.on("done",function(){n.trigger("done")}),this.flush=function(){e.flush()},b=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},s=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},o=function(t){var e,n,i,r,a,s,o,u,l,c,h,d,f,p=0,m=0,g=0,v=0,y=1;if(n=(e=new Lt(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),Bt[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==a?8:12,f=0;f<h;f++)e.readBoolean()&&b(f<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),o=e.readUnsignedExpGolomb(),f=0;f<o;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),0===(c=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(p=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}d&&(y=d[0]/d[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*p-2*m)*y),height:(2-c)*(l+1)*16-2*g-2*v}}}).prototype=new rt;var Ht,jt={H264Stream:Ut,NalByteStream:Rt};(Ht=function(){var p=new Uint8Array,m=0;Ht.prototype.init.call(this),this.setTimestamp=function(t){m=t},this.push=function(t){var e,n,i,r,a,s,o,u,l,c,h,d=0,f=0;for(p.length?(r=p.length,(p=new Uint8Array(t.byteLength+r)).set(p.subarray(0,r)),p.set(t,r)):p=t;3<=p.length-f;)if(p[f]!=="I".charCodeAt(0)||p[f+1]!=="D".charCodeAt(0)||p[f+2]!=="3".charCodeAt(0))if(255!=(255&p[f])||240!=(240&p[f+1]))f++;else{if(p.length-f<7)break;if(f+(0,c=(224&(u=p)[(l=f)+5])>>5,h=u[l+4]<<3,d=6144&u[l+3]|h|c)>p.length)break;i={type:"audio",data:p.subarray(f,f+d),pts:m,dts:m},this.trigger("data",i),f+=d}else{if(p.length-f<10)break;if(f+(o=(a=p)[(s=f)+6]<<21|a[s+7]<<14|a[s+8]<<7|a[s+9],d=(16&a[s+5])>>4?20+o:10+o)>p.length)break;n={type:"timed-metadata",data:p.subarray(f,f+d)},this.trigger("data",n),f+=d}e=p.length-f,p=0<e?p.subarray(f):new Uint8Array}}).prototype=new rt;function Ft(t,e){var n;if(t.length===e.length){for(n=0;n<t.length;n++)if(t[n]!==e[n])return;return 1}}function Gt(t,e,n,i,r,a){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(i-e),pts:t+(r-n)},prependedContentDuration:a,baseMediaDecodeTime:t}}var Vt,qt,Wt,zt,Xt=Ht,Kt=jt.H264Stream,Yt=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},Qt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Jt=["width","height","profileIdc","levelIdc","profileCompatibility"];(qt=function(o,u){var l=[],c=0,h=0,d=0,f=1/0;u=u||{},qt.prototype.init.call(this),this.push=function(e){Q(o,e),o&&Qt.forEach(function(t){o[t]=e[t]}),l.push(e)},this.setEarliestDts=function(t){h=t-o.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){f=t},this.setAudioAppendStart=function(t){d=t},this.flush=function(){var t,e,n,i,r,a,s;0!==l.length&&(r=l,s=h,t=(a=o).minSegmentDts>=s?r:(a.minSegmentDts=1/0,r.filter(function(t){return t.dts>=s&&(a.minSegmentDts=Math.min(a.minSegmentDts,t.dts),a.minSegmentPts=a.minSegmentDts,!0)})),o.baseMediaDecodeTime=Y(o,u.keepOriginalTimestamps),X(o,t,d,f),o.samples=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i}(t),n=q.mdat(function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}(t)),l=[],e=q.moof(c,[o]),i=new Uint8Array(e.byteLength+n.byteLength),c++,i.set(e),i.set(n,e.byteLength),K(o),this.trigger("data",{track:o,boxes:i})),this.trigger("done","AudioSegmentStream")}}).prototype=new rt,(Vt=function(h,d){var e,n,f=0,p=[],m=[];d=d||{},Vt.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(t){Q(h,t),"seq_parameter_set_rbsp"!==t.nalUnitType||e||(e=t.config,h.sps=[t.data],Jt.forEach(function(t){h[t]=e[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,h.pps=[t.data]),p.push(t)},this.flush=function(){for(var t,e,n,i,r,a,s,o=0;p.length&&"access_unit_delimiter_rbsp"!==p[0].nalUnitType;)p.shift();if(0===p.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if((e=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r}(function(t){var e,n,i=[],r=[];for(e=i.byteLength=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r}(p)))[0][0].keyFrame||((t=this.getGopForFusion_(p[0],h))?(o=t.duration,e.unshift(t),e.byteLength+=t.byteLength,e.nalCount+=t.nalCount,e.pts=t.pts,e.dts=t.dts,e.duration+=t.duration):(!(l=e)[0][0].keyFrame&&1<l.length&&(c=l.shift(),l.byteLength-=c.byteLength,l.nalCount-=c.nalCount,l[0][0].dts=c.dts,l[0][0].pts=c.pts,l[0][0].duration+=c.duration),e=l)),m.length){var u;if(!(u=d.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e)))return this.gopCache_.unshift({gop:e.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");K(h),e=u}var l,c;Q(h,e),h.samples=function(t,e){var n,i,r,a,s,o,u=e||0,l=[];for(n=0;n<t.length;n++)for(r=t[n],i=0;i<r.length;i++)a=r[i],u+=(s=a,o=void 0,(o={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}).dataOffset=u,o.compositionTimeOffset=s.pts-s.dts,o.duration=s.duration,o.size=4*s.length,o.size+=s.byteLength,s.keyFrame&&(o.flags.dependsOn=2,o.flags.isNonSyncSample=0),o.size),l.push(o);return l}(e),i=q.mdat(function(t){var e,n,i,r,a,s,o=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)s=a[i],h.setUint32(o,s.data.byteLength),o+=4,c.set(s.data,o),o+=s.data.byteLength;return c}(e)),h.baseMediaDecodeTime=Y(h,d.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),a=e[0],s=e[e.length-1],this.trigger("segmentTimingInfo",Gt(h.baseMediaDecodeTime,a.dts,a.pts,s.dts+s.duration,s.pts+s.duration,o)),this.gopCache_.unshift({gop:e.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),n=q.moof(f,[h]),r=new Uint8Array(n.byteLength+i.byteLength),f++,r.set(n),r.set(i,n.byteLength),this.trigger("data",{track:h,boxes:r}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){K(h),n=e=void 0},this.getGopForFusion_=function(t){var e,n,i,r,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(r=this.gopCache_[a]).gop,h.pps&&Ft(h.pps[0],r.pps[0])&&h.sps&&Ft(h.sps[0],r.sps[0])&&(i.dts<h.timelineStartInfo.dts||-1e4<=(e=t.dts-i.dts-i.duration)&&e<=45e3&&(!n||e<s)&&(n=r,s=e));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,s,o,u;for(a=t.byteLength,s=t.nalCount,o=t.duration,e=n=0;e<m.length&&n<t.length&&(i=m[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,a-=r.byteLength,s-=r.nalCount,o-=r.duration);return 0===n?t:n===t.length?null:((u=t.slice(n)).byteLength=a,u.duration=o,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,s,o;for(e=m.length-1,n=t.length-1,a=null,s=!1;0<=e&&0<=n;){if(i=m[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===m.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(0===(o=s?n:a))return t;var u=t.slice(o),l=u.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){m=t}}).prototype=new rt,(zt=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,zt.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new rt,zt.prototype.flush=function(t){var e,n,i,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Jt.forEach(function(t){s.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Qt.forEach(function(t){s.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=q.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=o),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=o),e.endTime/=9e4,s.captionStreams[e.stream]=!0,s.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=o),n.cueTime/=9e4,s.metadata.push(n);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Wt=function(i){var r,a,s=this,n=!0;Wt.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};(this.transmuxPipeline_=e).type="aac",e.metadataStream=new Mt.MetadataStream,e.aacStream=new Xt,e.audioTimestampRolloverStream=new Mt.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new Mt.TimestampRolloverStream("timed-metadata"),e.adtsStream=new Nt,e.coalesceStream=new zt(i,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new qt(a,i),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new Mt.MetadataStream,n.packetStream=new Mt.TransportPacketStream,n.parseStream=new Mt.TransportParseStream,n.elementaryStream=new Mt.ElementaryStream,n.videoTimestampRolloverStream=new Mt.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new Mt.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new Mt.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Nt,n.h264Stream=new Kt,n.captionStream=new Mt.CaptionStream,n.coalesceStream=new zt(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(t){var e;if("metadata"===t.type){for(e=t.tracks.length;e--;)r||"video"!==t.tracks[e].type?a||"audio"!==t.tracks[e].type||((a=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(r=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Vt(r,i),n.videoSegmentStream.on("timelineStartInfo",function(t){a&&(a.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts))}),n.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),n.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(t){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new qt(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;i.keepOriginalTimestamps||(this.baseMediaDecodeTime=t),a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,K(a),i.keepOriginalTimestamps||(a.timelineStartInfo.baseMediaDecodeTime=t),e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),r&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[],e.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,K(r),e.captionStream.reset(),i.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=t)),e.timedMetadataTimestampRolloverStream&&e.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(n){var e=Yt(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new rt;function Zt(t){return new Date(1e3*t-20828448e5)}function te(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}function ee(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null}function ne(t,g){var i=W.findBox(t,["moof","traf"]),v={},r=[];return W.findBox(t,["mdat"]).forEach(function(t,e){var n=i[e];r.push({mdat:t,traf:n})}),r.forEach(function(t){var e,n,i,r,a,s,o,u=t.mdat,l=t.traf,c=W.findBox(l,["tfhd"]),h=ue.parseTfhd(c[0]),d=h.trackId,f=W.findBox(l,["tfdt"]),p=0<f.length?ue.parseTfdt(f[0]).baseMediaDecodeTime:0,m=W.findBox(l,["trun"]);g===d&&0<m.length&&(e=function(t,e,n){var i,r,a,s,o=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+a),c=ee(r,e);i={nalUnitType:"sei_rbsp",size:a,data:l,escapedRBSP:le(l),trackId:n},c?(i.pts=c.pts,i.dts=c.dts,s=c):(i.pts=s.pts,i.dts=s.dts),u.push(i)}return u}(u,(n=m,i=p,r=h.defaultSampleDuration||0,a=h.defaultSampleSize||0,s=h.trackId,o=[],n.forEach(function(t){var e=ue.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=a),t.trackId=s,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),o=o.concat(e)}),o),d),v[d]||(v[d]=[]),v[d]=v[d].concat(e))}),v}var ie,re,ae={Transmuxer:Wt,VideoSegmentStream:Vt,AudioSegmentStream:qt,AUDIO_PROPERTIES:Qt,VIDEO_PROPERTIES:Jt,generateVideoSegmentTimingInfo:Gt},se=W.parseType,oe={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:ie(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),s={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(i=6,r=0;r<o;r++)n=a.getUint16(i),i+=2,s.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,s.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return s},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:se(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(se(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:ie(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:ie(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:se(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=Zt(n.getUint32(i)),i+=8,r.modificationTime=Zt(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8):(r.creationTime=Zt(n.getUint32(i)),i+=4,r.modificationTime=Zt(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4),r.duration=n.getUint32(i),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:ie(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:ie(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return 28<t.byteLength&&(n.streamDescriptor=ie(t.subarray(28))[0]),n},moof:function(t){return{boxes:ie(t)}},moov:function(t){return{boxes:ie(t)}},mvex:function(t){return{boxes:ie(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=Zt(e.getUint32(n)),n+=8,i.modificationTime=Zt(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8):(i.creationTime=Zt(e.getUint32(n)),n+=4,i.modificationTime=Zt(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4),i.duration=e.getUint32(n),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:ie(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:ie(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return oe.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),s&&(i.defaultSampleDuration=n.getUint32(e),e+=4),o&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=Zt(e.getUint32(n)),n+=8,i.modificationTime=Zt(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8):(i.creationTime=Zt(e.getUint32(n)),n+=4,i.modificationTime=Zt(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4),i.duration=e.getUint32(n),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:ie(t)}},trak:function(t){return{boxes:ie(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],o=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),a&&c&&(e={flags:te(t.subarray(h,h+4))},h+=4,s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e),c--);c--;)e={},s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),u&&(e.flags=te(t.subarray(h,h+4)),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},ue={inspect:ie=function(t){for(var e,n,i,r,a,s=0,o=[],u=new ArrayBuffer(t.length),l=new Uint8Array(u),c=0;c<t.length;++c)l[c]=t[c];for(e=new DataView(u);s<t.byteLength;)n=e.getUint32(s),i=se(t.subarray(s+4,s+8)),r=1<n?s+n:t.byteLength,(a=(oe[i]||function(t){return{data:t}})(t.subarray(s+8,r))).size=n,a.type=i,o.push(a),s=r;return o},textify:re=function(t,e){var a;return e=e||0,a=new Array(2*e+1).join(" "),t.map(function(r,t){return a+r.type+"\n"+Object.keys(r).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(t){var e=a+"  "+t+": ",n=r[t];if(n instanceof Uint8Array||n instanceof Uint32Array){var i=Array.prototype.slice.call(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return i?1===i.length?e+"<"+i.join("").slice(1)+">":e+"<\n"+i.map(function(t){return a+"  "+t}).join("\n")+"\n"+a+"  >":e+"<>"}return e+JSON.stringify(n,null,2).split("\n").map(function(t,e){return 0===e?t:a+"  "+t}).join("\n")}).join("\n")+(r.boxes?"\n"+re(r.boxes,e+1):"")}).join("\n")},parseTfdt:oe.tfdt,parseHdlr:oe.hdlr,parseTfhd:oe.tfhd,parseTrun:oe.trun,parseSidx:oe.sidx},le=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},ce=vt.CaptionStream,he={generator:q,probe:W,Transmuxer:ae.Transmuxer,AudioSegmentStream:ae.AudioSegmentStream,VideoSegmentStream:ae.VideoSegmentStream,CaptionParser:function(){var e,o,u,l,c,t=!1;this.isInitialized=function(){return t},this.init=function(){e=new ce,t=!0,e.on("data",function(t){t.startTime=t.startPts/l,t.endTime=t.endPts/l,c.captions.push(t),c.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||u===t[0]&&l===e[u])},this.parse=function(t,e,n){var i,r,a;if(!this.isInitialized())return null;if(!e||!n)return null;if(this.isNewInit(e,n))u=e[0],l=n[u];else if(!u||!l)return o.push(t),null;for(;0<o.length;){var s=o.shift();this.parse(s,e,n)}return null!==(a=l,i=(r=u)?{seiNals:ne(t,r)[r],timescale:a}:null)&&i.seiNals?(this.pushNals(i.seiNals),this.flushStream(),c):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){c.captions=[],c.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){o=[],l=u=null,c?this.clearParsedCaptions():c={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},de=(function(t,e,n){return e&&pe(t.prototype,e),n&&pe(t,n),t}(fe,[{key:"init",value:function(){var i,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new he.Transmuxer(this.options),i=this.self,(t=this.transmuxer).on("data",function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var n=t.data;t.data=n.buffer,i.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){i.postMessage({action:"caption",data:t})}),t.on("done",function(t){i.postMessage({action:"done"})}),t.on("gopInfo",function(t){i.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){i.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),fe);function fe(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,fe),this.options=e||{},this.self=t,this.init()}function pe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new de(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new de(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(me)}()}),oe={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},ue=(ae=A.EventTarget,S(de,ae),Y(de,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),function(t,e,n){var i=e.player_;if(n.captions&&n.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),n.captionStreams)if(!t.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var a=i.textTracks().getTrackById(r);t.inbandTextTracks_[r]=a||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(t){var e={start:{decode:t.start.dts/9e4,presentation:t.start.pts/9e4},end:{decode:t.end.dts/9e4,presentation:t.end.pts/9e4},baseMediaDecodeTime:t.baseMediaDecodeTime/9e4};t.prependedContentDuration&&(e.prependedContentDuration=t.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}},{key:"createRealSourceBuffers_",value:function(){var i=this,r=["audio","video"];r.forEach(function(e){if(i[e+"Codec_"]&&!i[e+"Buffer_"]){var n=null;if(i.mediaSource_[e+"Buffer_"])(n=i.mediaSource_[e+"Buffer_"]).updating=!1;else{var t=e+'/mp4;codecs="'+i[e+"Codec_"]+'"';n=function(t,e){var n=t.addSourceBuffer(e),i=Object.create(null);function r(e){"function"==typeof n[e]?i[e]=function(){return n[e].apply(n,arguments)}:void 0===i[e]&&Object.defineProperty(i,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}for(var a in i.updating=!1,i.realBuffer_=n)r(a);return i}(i.mediaSource_.nativeMediaSource_,t),i.mediaSource_[e+"Buffer_"]=n}i[e+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(t){n.addEventListener(t,function(){if("audio"!==e||!i.audioDisabled_)return"updateend"===t&&(i[e+"Buffer_"].updating=!1),r.every(function(t){return!("audio"!==t||!i.audioDisabled_)||e===t||!i[t+"Buffer_"]||!i[t+"Buffer_"].updating})?i.trigger(t):void 0})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(t,e,n){if(null==e||!t.length)return[];var i=Math.ceil(9e4*(e-n+3)),r=void 0;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil(9e4*(e-i)),a=Math.ceil(9e4*(n-i)),s=t.slice(),o=t.length;o--&&!(t[o].pts<=a););if(-1===o)return s;for(var u=o+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),s.splice(u,o-u+1),s}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),kt(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)kt(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),xt(this,t.captions,t.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),de),le=(re=A.EventTarget,S(he,re),Y(he,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var r,e,n=void 0,i=(r={type:"",parameters:{}},e=t.trim().split(";"),r.type=e.shift().trim(),e.forEach(function(t){var e=t.trim().split("=");if(1<e.length){var n=e[0].replace(/"/g,"").trim(),i=e[1].replace(/"/g,"").trim();r.parameters[n]=i}}),r);if(/^(video|audio)\/mp2t$/i.test(i.type)){var a=[];i.parameters&&i.parameters.codecs&&(a=i.parameters.codecs.split(","),a=(a=Zt(a)).filter(function(t){return ne(t)||ie(t)})),0===a.length&&(a=["avc1.4d400d","mp4a.40.2"]),n=new ue(this,a),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),n.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else n=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(n),n}}]),he),ce=0;function he(){T(this,he);var a=w(this,(he.__proto__||Object.getPrototypeOf(he)).call(this)),t=void 0;for(t in a.nativeMediaSource_=new y.MediaSource,a.nativeMediaSource_)t in he.prototype||"function"!=typeof a.nativeMediaSource_[t]||(a[t]=a.nativeMediaSource_[t].bind(a.nativeMediaSource_));return a.duration_=NaN,Object.defineProperty(a,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){(this.duration_=t)===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(a,"seekable",{get:function(){return this.duration_===1/0?A.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(a,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(a,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),a.sourceBuffers=[],a.activeSourceBuffers_=[],a.updateActiveSourceBuffers_=function(){if(a.activeSourceBuffers_.length=0,1===a.sourceBuffers.length){var t=a.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void a.activeSourceBuffers_.push(t)}for(var n=!1,i=!0,e=0;e<a.player_.audioTracks().length;e++){var r=a.player_.audioTracks()[e];if(r.enabled&&"main"!==r.kind){i=!(n=!0);break}}a.sourceBuffers.forEach(function(t,e){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,i=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=e?i:!i,t.audioDisabled_))return;a.activeSourceBuffers_.push(t)})},a.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},a.onHlsReset_=function(){a.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},a.onHlsSegmentTimeMapping_=function(e){a.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},a),a.on("sourceopen",function(t){var e=p.querySelector('[src="'+a.url_+'"]');e&&(a.player_=A(e.parentNode),a.player_&&(a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_)))}),a.on("sourceended",function(t){for(var e=At(a.duration),n=0;n<a.sourceBuffers.length;n++){var i=a.sourceBuffers[n],r=i.metadataTrack_&&i.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=e)}}),a.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),a}function de(t,e){T(this,de);var n=w(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,A.EventTarget));n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=t,n.codecs_=e,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=11<=A.browser.IE_VERSION;var i={remux:!1,alignGopsAtEnd:n.safeAppend_};return n.codecs_.forEach(function(t){ne(t)?n.audioCodec_=t:ie(t)&&(n.videoCodec_=t)}),n.transmuxer_=new se,n.transmuxer_.postMessage({action:"init",options:i}),n.transmuxer_.onmessage=function(t){return"data"===t.data.action?n.data_(t):"done"===t.data.action?n.done_(t):"gopInfo"===t.data.action?n.appendGopInfo_(t):"videoSegmentTimingInfo"===t.data.action?n.videoSegmentTimingInfo_(t.data.videoSegmentTimingInfo):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&0<=t&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){return function(t,e,n){var i=null,r=null,a=0,s=[],o=[];if(!t&&!e)return A.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(n)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return A.createTimeRange();for(var u=t.buffered,l=e.buffered,c=u.length;c--;)s.push({time:u.start(c),type:"start"}),s.push({time:u.end(c),type:"end"});for(c=l.length;c--;)s.push({time:l.start(c),type:"start"}),s.push({time:l.end(c),type:"end"});for(s.sort(function(t,e){return t.time-e.time}),c=0;c<s.length;c++)"start"===s[c].type?2==++a&&(i=s[c].time):"end"===s[c].type&&1==--a&&(r=s[c].time),null!==i&&null!==r&&(o.push([i,r]),r=i=null);return A.createTimeRanges(o)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),n}A.mediaSources={};function fe(t,e){var n=A.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})}function pe(){return!!y.MediaSource&&!!y.MediaSource.isTypeSupported&&y.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function me(){if(this.MediaSource={open:fe,supportsNativeMediaSources:pe},pe())return new le;throw new Error("Cannot use create a virtual MediaSource for this video")}me.open=fe,me.supportsNativeMediaSources=pe;var ge={createObjectURL:function(t){var e=void 0;return t instanceof le?(e=y.URL.createObjectURL(t.nativeMediaSource_),t.url_=e):t instanceof le?(e="blob:vjs-media-source/"+ce,ce++,A.mediaSources[e]=t):(e=y.URL.createObjectURL(t),t.url_=e),e}};A.MediaSource=me,A.URL=ge;function ve(t){return!!t&&"object"==typeof t}function ye(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(e,n){return Object.keys(n).forEach(function(t){Array.isArray(e[t])&&Array.isArray(n[t])?e[t]=e[t].concat(n[t]):ve(e[t])&&ve(n[t])?e[t]=ye(e[t],n[t]):e[t]=n[t]}),e},{})}function be(t){return t.reduce(function(t,e){return t.concat(e)},[])}function _e(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function Te(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=hn.buildAbsoluteURL(y.location.href,t)),hn.buildAbsoluteURL(t,e))}function Se(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,a=t.range,s=void 0===a?"":a,o=t.indexRange,u=void 0===o?"":o,l={uri:r,resolvedUri:Te(n||"",r)};if(s||u){var c=(s||u).split("-"),h=parseInt(c[0],10),d=parseInt(c[1],10);l.byterange={length:d-h+1,offset:h}}return l}function we(t){var o,e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,a=void 0===r?1:r,s=t.sourceDuration,u=dn[n](t),l=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(u.start,u.end).map((o=t,function(t,e){var n=o.duration,i=o.timescale,r=void 0===i?1:i,a=o.periodIndex,s=o.startNumber;return{number:(void 0===s?1:s)+t,duration:n/r,timeline:a,time:e*n}}));if("static"===n){var c=l.length-1;l[c].duration=s-i/a*c}return l}function Ce(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,a=t.timescale,s=void 0===a?1:a,o=t.indexRange,u=void 0===o?"":o,l=t.duration;if(!e)throw new Error("NO_BASE_URL");var c=Se({baseUrl:e,source:i.sourceURL,range:i.range}),h=Se({baseUrl:e,source:e,indexRange:u});if(h.map=c,l){var d=we(t);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/s,h.timeline=0);return h.number=0,[h]}function Ee(t,e,n){for(var i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,a=t.timeline||0,s=t.sidx.byterange,o=s.offset+s.length,u=e.timescale,l=e.references.filter(function(t){return 1!==t.referenceType}),c=[],h=o+e.firstOffset,d=0;d<l.length;d++){var f=e.references[d],p=f.referencedSize,m=f.subsegmentDuration,g=Ce({baseUrl:n,timescale:u,timeline:a,periodIndex:a,duration:m,sourceDuration:r,indexRange:h+"-"+(h+p-1)})[0];i&&(g.map=i),c.push(g),h+=p}return t.segments=c,t}function ke(t){var e;return e=t.reduce(function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");return t[i]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e,t},{}),Object.keys(e).map(function(t){return e[t]}).map(function(t){var e;return t.discontinuityStarts=(e=t.segments,e.reduce(function(t,e,n){return e.discontinuity&&t.push(n),t},[])),t})}function Ae(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var n in t){var i=t[n],r=i.sidx.uri+"-"+(o=(s=i.sidx.byterange).offset+s.length-1,s.offset+"-"+o),a=e[r]&&e[r].sidx;i.sidx&&a&&Ee(i,a,i.sidx.resolvedUri)}var s,o;return t}function xe(t){var e,n=t.attributes,i=t.segments,r=t.sidx,a={attributes:((e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),r&&(a.sidx=r),a}function Pe(t,e){var n;if(void 0===e&&(e={}),!t.length)return{};var s,i=t[0].attributes,r=i.sourceDuration,a=i.minimumUpdatePeriod,o=void 0===a?0:a,u=ke(t.filter(function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType})).map(xe),l=ke(t.filter(function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType})),c=t.filter(function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType}),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((n={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:r,playlists:Ae(u,e),minimumUpdatePeriod:1e3*o};return l.length&&(h.mediaGroups.AUDIO.audio=function(h){var d;void 0===h&&(h={});var t=l.reduce(function(t,e){var n,i,r,a,s,o=e.attributes.role&&e.attributes.role.value||"",u=e.attributes.lang||"",l="main";if(u){var c=o?" ("+o+")":"";l=e.attributes.lang+c}return t[l]&&t[l].playlists[0].attributes.BANDWIDTH>e.attributes.bandwidth||(t[l]={language:u,autoselect:!0,default:"main"===o,playlists:Ae([(i=e.attributes,r=e.segments,a=e.sidx,s={attributes:((n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1},i.contentProtection&&(s.contentProtection=i.contentProtection),a&&(s.sidx=a),s)],h),uri:""},void 0===d&&"main"===o&&((d=e).default=!0)),t},{});return d||(t[Object.keys(t)[0]].default=!0),t}(e)),c.length&&(h.mediaGroups.SUBTITLES.subs=(void 0===(s=e)&&(s={}),c.reduce(function(t,e){var n,i,r,a=e.attributes.lang||"text";return t[a]||(t[a]={language:a,default:!1,autoselect:!1,playlists:Ae([(i=e.attributes,void 0===(r=e.segments)&&(r=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:((n={NAME:i.id,BANDWIDTH:i.bandwidth})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1})],s),uri:""}),t},{}))),h}function Oe(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,a=void 0===r?0:r,s=t.media,o=void 0===s?"":s,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,h=t.startNumber,d=void 0===h?1:h,f=t.periodIndex,p=[],m=-1,g=0;g<e.length;g++){var v=e[g],y=v.d,b=v.r||0,_=v.t||0;m<0&&(m=_),_&&m<_&&(m=_);var T=void 0;if(b<0){var S=g+1;T=S===e.length?"dynamic"===i&&0<a&&0<o.indexOf("$Number$")?(k=m,A=y,0,x=(E=t).NOW,P=E.clientOffset,O=E.availabilityStartTime,I=E.timescale,$=void 0===I?1:I,M=E.start,D=void 0===M?0:M,L=E.minimumUpdatePeriod,U=(x+P)/1e3+(void 0===L?0:L)-(O+D),Math.ceil((U*$-k)/A)):(u*c-m)/y:(e[S].t-m)/y}else T=b+1;for(var w=d+p.length+T,C=d+p.length;C<w;)p.push({number:C,duration:y/c,time:m,timeline:f}),m+=y,C++}var E,k,A,x,P,O,I,$,M,D,L,U;return p}function Ie(t,e){return t.replace(fn,(a=e,function(t,e,n,i){if("$$"===t)return"$";if(void 0===a[e])return t;var r=""+a[e];return"RepresentationID"===e||(i=n?parseInt(i,10):1)<=r.length?r:new Array(i-r.length+1).join("0")+r}));var a}function $e(n,t){var e,i,r={RepresentationID:n.id,Bandwidth:n.bandwidth||0},a=n.initialization,s=void 0===a?{sourceURL:"",range:""}:a,o=Se({baseUrl:n.baseUrl,source:Ie(s.sourceURL,r),range:s.range});return i=t,((e=n).duration||i?e.duration?we(e):Oe(e,i):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]).map(function(t){r.Number=t.number,r.Time=t.time;var e=Ie(n.media||"",r);return{uri:e,timeline:t.timeline,duration:t.duration,resolvedUri:Te(n.baseUrl||"",e),map:o,number:t.number}})}function Me(o,t){var e=o.duration,n=o.segmentUrls,i=void 0===n?[]:n;if(!e&&!t||e&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var r,a=i.map(function(t){return e=t,n=o.baseUrl,i=o.initialization,a=Se({baseUrl:n,source:(r=void 0===i?{}:i).sourceURL,range:r.range}),(s=Se({baseUrl:n,source:e.media,range:e.mediaRange})).map=a,s;var e,n,i,r,a,s});return e&&(r=we(o)),t&&(r=Oe(o,t)),r.map(function(t,e){if(a[e]){var n=a[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}}).filter(function(t){return t})}function De(t){var e,n,i=t.attributes,r=t.segmentInfo;r.template?(n=$e,e=ye(i,r.template)):r.base?(n=Ce,e=ye(i,r.base)):r.list&&(n=Me,e=ye(i,r.list));var a={attributes:i};if(!n)return a;var s=n(e,r.timeline);if(e.duration){var o=e.duration,u=e.timescale,l=void 0===u?1:u;e.duration=o/l}else s.length?e.duration=s.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0;return a.attributes=e,a.segments=s,r.base&&e.indexRange&&(a.sidx=s[0],a.segments=[]),a}function Le(t,e){return _e(t.childNodes).filter(function(t){return t.tagName===e})}function Ue(t){return t.textContent.trim()}function Re(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],a=n[2],s=n[3],o=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(a||0)+3600*parseFloat(s||0)+60*parseFloat(o||0)+parseFloat(u||0)}function Be(t){return t&&t.attributes?_e(t.attributes).reduce(function(t,e){var n=pn[e.name]||pn.DEFAULT;return t[e.name]=n(e.value),t},{}):{}}function Ne(t,n){return n.length?be(t.map(function(e){return n.map(function(t){return Te(e,Ue(t))})})):t}function He(t){var e=Le(t,"SegmentTemplate")[0],n=Le(t,"SegmentList")[0],i=n&&Le(n,"SegmentURL").map(function(t){return ye({tag:"SegmentURL"},Be(t))}),r=Le(t,"SegmentBase")[0],a=n||e,s=a&&Le(a,"SegmentTimeline")[0],o=n||r||e,u=o&&Le(o,"Initialization")[0],l=e&&Be(e);l&&u?l.initialization=u&&Be(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:s&&Le(s,"S").map(function(t){return Be(t)}),list:n&&ye(Be(n),{segmentUrls:i,initialization:Be(u)}),base:r&&ye(Be(r),{initialization:Be(u)})};return Object.keys(c).forEach(function(t){c[t]||delete c[t]}),c}function je(f,p,m){return function(t){var e=Be(t),n=Ne(p,Le(t,"BaseURL")),i=Le(t,"Role")[0],r={role:Be(i)},a=ye(f,e,r),s=Le(t,"ContentProtection").reduce(function(t,e){var n=Be(e),i=mn[n.schemeIdUri];if(i){t[i]={attributes:n};var r=Le(e,"cenc:pssh")[0];if(r){var a=Ue(r),s=a&&function(t){for(var e=y.atob(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(a);t[i].pssh=s}}return t},{});Object.keys(s).length&&(a=ye(a,{contentProtection:s}));var o,u,l,c=He(t),h=Le(t,"Representation"),d=ye(m,c);return be(h.map((o=a,u=n,l=d,function(t){var e=Le(t,"BaseURL"),n=Ne(u,e),i=ye(o,Be(t)),r=He(t);return n.map(function(t){return{segmentInfo:ye(l,r),attributes:ye(i,{baseUrl:t})}})})))}}function Fe(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,r=void 0===i?"":i,a=n.NOW,s=void 0===a?Date.now():a,o=n.clientOffset,u=void 0===o?0:o,l=Le(t,"Period");if(!l.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var c,h,d=Be(t),f=Ne([r],Le(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=s,d.clientOffset=u,be(l.map((c=d,h=f,function(t,e){var n=Ne(h,Le(t,"BaseURL")),i=Be(t),r=parseInt(i.id,10),a=y.isNaN(r)?e:r,s=ye(c,{periodIndex:a}),o=Le(t,"AdaptationSet"),u=He(t);return be(o.map(je(s,n,u)))})))}function Ge(t){if(""===t)throw new Error("DASH_EMPTY_MANIFEST");var e=(new y.DOMParser).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&0<n.getElementsByTagName("parsererror").length)throw new Error("DASH_INVALID_XML");return n}function Ve(t,e){return void 0===e&&(e={}),Pe(Fe(Ge(t),e).map(De),e.sidxMapping)}function qe(t){return t>>>0}function We(t){return new Date(1e3*t-20828448e5)}function ze(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}function Xe(t,e){for(var s=void 0,o=Tn(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),n=0;n<e.playlists.length;n++){var i=E(o,e.playlists[n]);i?o=i:s=!0}return C(e,function(t,e,n,i){if(t.playlists&&t.playlists.length){var r=t.playlists[0].uri,a=E(o,t.playlists[0]);a&&((o=a).mediaGroups[e][n][i].playlists[0]=o.playlists[r],s=!1)}}),s?null:o}function Ke(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e}function Ye(t,e){var n,i,r={};for(var a in t){var s=t[a].sidx;if(s){var o=Ke(s);if(!e[o])break;n=e[o].sidxInfo,i=s,(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length&&(r[o]=e[o])}}return r}function Qe(t,e,n,i,r){var a={uri:s(i.handleManifestRedirects,t.resolvedUri),byterange:t.byterange,playlist:e};return n(A.mergeOptions(a,{responseType:"arraybuffer",headers:G(a)}),r)}function Je(t){return A.log.debug?A.log.debug.bind(A,"VHS:",t+" >"):function(){}}var Ze,tn,en,nn,rn,an,sn,on,un,ln,cn,hn=(tn=Ze={exports:{}},en=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,nn=/^([^\/?#]*)(.*)$/,rn=/(?:\/|^)\.(?=\/)/g,an=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,sn={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=sn.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=sn.normalizePath(i.path),sn.buildURLFromParts(i)}var r=sn.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=sn.normalizePath(r.path),sn.buildURLFromParts(r)):e;var a=sn.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var s=nn.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path="/");var o={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var u=a.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=sn.normalizePath(l)}else o.path=a.path,r.params||(o.params=a.params,r.query||(o.query=a.query));return null===o.path&&(o.path=n.alwaysNormalize?sn.normalizePath(r.path):r.path),sn.buildURLFromParts(o)},parseURL:function(t){var e=en.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(rn,"");t.length!==(t=t.replace(an,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},tn.exports=sn,Ze.exports),dn={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,a=void 0===r?1:r,s=t.duration,o=t.start,u=void 0===o?0:o,l=t.minimumUpdatePeriod,c=void 0===l?0:l,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(e+n)/1e3,p=i+u,m=f+c-p,g=Math.ceil(m*a/s),v=Math.floor((f-p-d)*a/s),y=Math.floor((f-p)*a/s);return{start:Math.max(0,v),end:Math.min(g,y)}}},fn=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,pn={mediaPresentationDuration:function(t){return Re(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return Re(t)},timeShiftBufferDepth:function(t){return Re(t)},start:function(t){return Re(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?Re(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},mn={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},gn={findBox:on=function(t,e){var n,i,r,a,s,o=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=qe(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=un(t.subarray(n+4,n+8)),a=1<i?n+i:t.byteLength,r===e[0]&&(1===e.length?o.push(t.subarray(n+8,a)):(s=on(t.subarray(n+8,a),e.slice(1))).length&&(o=o.concat(s))),n=a;return o},parseType:un=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),(e+=String.fromCharCode(t[2]))+String.fromCharCode(t[3])},timescale:function(t){return on(t,["moov","trak"]).reduce(function(t,e){var n,i,r,a,s;return(n=on(e,["tkhd"])[0])?(i=n[0],a=qe(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(s=on(e,["mdia","mdhd"])[0])?(r=0===(i=s[0])?12:20,t[a]=qe(s[r]<<24|s[r+1]<<16|s[r+2]<<8|s[r+3]),t):null):null},{})},startTime:function(r,t){var e,n,i;return e=on(t,["moof","traf"]),n=[].concat.apply([],e.map(function(i){return on(i,["tfhd"]).map(function(t){var e,n;return e=qe(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),n=r[e]||9e4,(on(i,["tfdt"]).map(function(t){var e,n;return e=t[0],n=qe(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=qe(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/n})})),i=Math.min.apply(null,n),isFinite(i)?i:0},videoTrackIds:function(t){var o=[];return on(t,["moov","trak"]).forEach(function(t){var e=on(t,["mdia","hdlr"]),s=on(t,["tkhd"]);e.forEach(function(t,e){var n,i,r=un(t.subarray(8,12)),a=s[e];"vide"===r&&(i=0===(n=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),o.push(i))})}),o}},vn=gn.parseType,yn={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:ln(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),s={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(i=6,r=0;r<o;r++)n=a.getUint16(i),i+=2,s.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,s.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return s},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:vn(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(vn(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:ln(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:ln(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:vn(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=We(n.getUint32(i)),i+=8,r.modificationTime=We(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8):(r.creationTime=We(n.getUint32(i)),i+=4,r.modificationTime=We(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4),r.duration=n.getUint32(i),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:ln(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:ln(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return 28<t.byteLength&&(n.streamDescriptor=ln(t.subarray(28))[0]),n},moof:function(t){return{boxes:ln(t)}},moov:function(t){return{boxes:ln(t)}},mvex:function(t){return{boxes:ln(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=We(e.getUint32(n)),n+=8,i.modificationTime=We(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8):(i.creationTime=We(e.getUint32(n)),n+=4,i.modificationTime=We(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4),i.duration=e.getUint32(n),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:ln(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:ln(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return yn.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),s&&(i.defaultSampleDuration=n.getUint32(e),e+=4),o&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=We(e.getUint32(n)),n+=8,i.modificationTime=We(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8):(i.creationTime=We(e.getUint32(n)),n+=4,i.modificationTime=We(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4),i.duration=e.getUint32(n),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:ln(t)}},trak:function(t){return{boxes:ln(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],o=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),a&&c&&(e={flags:ze(t.subarray(h,h+4))},h+=4,s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e),c--);c--;)e={},s&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),u&&(e.flags=ze(t.subarray(h,h+4)),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},bn={inspect:ln=function(t){for(var e,n,i,r,a,s=0,o=[],u=new ArrayBuffer(t.length),l=new Uint8Array(u),c=0;c<t.length;++c)l[c]=t[c];for(e=new DataView(u);s<t.byteLength;)n=e.getUint32(s),i=vn(t.subarray(s+4,s+8)),r=1<n?s+n:t.byteLength,(a=(yn[i]||function(t){return{data:t}})(t.subarray(s+8,r))).size=n,a.type=i,o.push(a),s=r;return o},textify:cn=function(t,e){var a;return e=e||0,a=new Array(2*e+1).join(" "),t.map(function(r,t){return a+r.type+"\n"+Object.keys(r).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(t){var e=a+"  "+t+": ",n=r[t];if(n instanceof Uint8Array||n instanceof Uint32Array){var i=Array.prototype.slice.call(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return i?1===i.length?e+"<"+i.join("").slice(1)+">":e+"<\n"+i.map(function(t){return a+"  "+t}).join("\n")+"\n"+a+"  >":e+"<>"}return e+JSON.stringify(n,null,2).split("\n").map(function(t,e){return 0===e?t:a+"  "+t}).join("\n")}).join("\n")+(r.boxes?"\n"+cn(r.boxes,e+1):"")}).join("\n")},parseTfdt:yn.tfdt,parseHdlr:yn.hdlr,parseTfhd:yn.tfhd,parseTrun:yn.trun,parseSidx:yn.sidx},_n=A.EventTarget,Tn=A.mergeOptions,Sn=(S(wn,_n),Y(wn,[{key:"setupChildLoader",value:function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},y.clearTimeout(this.minimumUpdatePeriodTimeout_),y.clearTimeout(this.mediaRequest_),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"sidxRequestFinished_",value:function(r,a,s,o){var u=this;return function(t,e){if(u.request){if(u.request=null,t)return u.error={status:e.status,message:"DASH playlist request error at URL: "+r.uri,response:e.response,code:2},s&&(u.state=s),u.trigger("error"),o(a,null);var n=new Uint8Array(e.response),i=bn.parseSidx(n.subarray(8));return o(a,i)}}}},{key:"media",value:function(n){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}var t=!this.media_||n.uri!==this.media_.uri;if(t&&this.loadedPlaylists_[n.uri]&&this.loadedPlaylists_[n.uri].endList)return this.state="HAVE_METADATA",this.media_=n,void(t&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(t)if(this.media_&&this.trigger("mediachanging"),n.sidx){var e=void 0,a=void 0;a=this.masterPlaylistLoader_?(e=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.sidxMapping_):(e=this.master,this.sidxMapping_);var s=Ke(n.sidx);a[s]={sidxInfo:n.sidx},this.request=Qe(n.sidx,n,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(n,e,r,function(t,e){if(!t||!e)throw new Error("failed to request sidx");a[s].sidx=e,i.haveMetadata({startingState:r,playlist:t.playlists[n.uri]})}))}else this.mediaRequest_=y.setTimeout(this.haveMetadata.bind(this,{startingState:r,playlist:n}),0)}},{key:"haveMetadata",value:function(t){var e=t.startingState,n=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.uri]=n,this.mediaRequest_=null,this.refreshMedia_(n.uri),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var e=this;y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return e.load()},i)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var a=Ve(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});a.uri=this.srcUrl;for(var t=0;t<a.playlists.length;t++){var e="placeholder-uri-"+t;a.playlists[t].uri=e,a.playlists[e]=a.playlists[t]}return C(a,function(t,e,n,i){if(t.playlists&&t.playlists.length){var r="placeholder-uri-"+e+"-"+n+"-"+i;t.playlists[0].uri=r,a.playlists[r]=t.playlists[0]}}),k(a),x(a),a}},{key:"start",value:function(){var n=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=y.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(n.request){if(n.request=null,t)return n.error={status:e.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.masterXml_=e.responseText,e.responseHeaders&&e.responseHeaders.date?n.masterLoaded_=Date.parse(e.responseHeaders.date):n.masterLoaded_=Date.now(),n.srcUrl=s(n.handleManifestRedirects,n.srcUrl,e),n.syncClientServerClock_(n.onClientServerClockSync_.bind(n))}})}},{key:"syncClientServerClock_",value:function(i){var t,r=this,a=(t=this.masterXml_,function(t){var e=Le(t,"UTCTiming")[0];if(!e)return null;var n=Be(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return n}(Ge(t)));return null===a?(this.clientOffset_=this.masterLoaded_-Date.now(),i()):"DIRECT"===a.method?(this.clientOffset_=a.value-Date.now(),i()):void(this.request=this.hls_.xhr({uri:l(this.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(t,e){if(r.request){if(t)return r.clientOffset_=r.masterLoaded_-Date.now(),i();var n;n="HEAD"===a.method?e.responseHeaders&&e.responseHeaders.date?Date.parse(e.responseHeaders.date):r.masterLoaded_:Date.parse(e.responseText),r.clientOffset_=n-Date.now(),i()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=y.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var d=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,e){if(d.request){if(d.request=null,t)return d.error={status:e.status,message:"DASH playlist request error at URL: "+d.srcUrl,responseText:e.responseText,code:2},"HAVE_NOTHING"===d.state&&(d.started=!1),d.trigger("error");d.masterXml_=e.responseText,d.sidxMapping_=(s=d.masterXml_,o=d.srcUrl,u=d.clientOffset_,l=d.sidxMapping_,c=Ve(s,{manifestUri:o,clientOffset:u}),h=Ye(c.playlists,l),C(c,function(t,e,n,i){if(t.playlists&&t.playlists.length){var r=t.playlists;h=Tn(h,Ye(r,l))}}),h);var n=d.parseMasterXml(),i=Xe(d.master,n);if(i){var r=Ke(d.media().sidx);if(d.sidxMapping_[r])d.master=i;else{var a=d.media();d.request=Qe(a.sidx,a,d.hls_.xhr,{handleManifestRedirects:d.handleManifestRedirects},d.sidxRequestFinished_(a,n,d.state,function(t,e){if(!t||!e)throw new Error("failed to request sidx on minimumUpdatePeriod");d.sidxMapping_[r].sidx=e,d.minimumUpdatePeriodTimeout_=y.setTimeout(function(){d.trigger("minimumUpdatePeriod")},d.master.minimumUpdatePeriod),d.refreshMedia_(d.media().uri)}))}}d.minimumUpdatePeriodTimeout_=y.setTimeout(function(){d.trigger("minimumUpdatePeriod")},d.master.minimumUpdatePeriod)}var s,o,u,l,c,h})}},{key:"refreshMedia_",value:function(t){var e=this;if(!t)throw new Error("refreshMedia_ must take a media uri");var n=void 0,i=void 0;i=this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(n=this.master,this.parseMasterXml());var r=Xe(n,i);r?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=r:this.master=r,this.media_=r.playlists[t]):(this.media_=i.playlists[t],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=y.setTimeout(function(){e.trigger("mediaupdatetimeout")},P(this.media(),!!r))),this.trigger("loadedplaylist")}}]),wn);function wn(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];T(this,wn);var r=w(this,(wn.__proto__||Object.getPrototypeOf(wn)).call(this)),a=n.withCredentials,s=void 0!==a&&a,o=n.handleManifestRedirects,u=void 0!==o&&o;if(r.hls_=e,r.withCredentials=s,r.handleManifestRedirects=u,!t)throw new Error("A non-empty playlist URL or playlist is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_(r.media().uri)}),r.state="HAVE_NOTHING",r.loadedPlaylists_={},"string"==typeof t?(r.srcUrl=t,r.sidxMapping_={},w(r)):(r.setupChildLoader(i,t),r)}function Cn(){}function En(t){t.forEach(function(t){t.abort()})}function kn(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:-101,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:-102,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:2,xhr:e}:null}function An(t,e,n,i,r,a,s){var o,u,l,c,h,d,f,p,m,g,v=[],y=(o=v,u=n,l=s,c=0,h=!1,function(t,e){if(!h)return t?(h=!0,En(o),l(t,e)):(c+=1)===o.length?(e.endOfAllRequests=Date.now(),e.encryptedBytes?function(i,r,a){i.addEventListener("message",function t(e){if(e.data.source===r.requestId){i.removeEventListener("message",t);var n=e.data.decrypted;return r.bytes=new Uint8Array(n.bytes,n.byteOffset,n.byteLength),a(null,r)}});var t=r.key.bytes.slice();i.postMessage(vt({source:r.requestId,encrypted:r.encryptedBytes,key:t,iv:r.key.iv}),[r.encryptedBytes.buffer,t.buffer])}(u,e,l):l(null,e)):void 0});if(r.key&&!r.key.bytes){var b=t(A.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),(d=r,f=y,function(t,e){var n=e.response,i=kn(t,e);if(i)return f(i,d);if(16!==n.byteLength)return f({status:e.status,message:"Invalid HLS key at URL: "+e.uri,code:2,xhr:e},d);var r=new DataView(n);return d.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),f(null,d)}));v.push(b)}if(r.map&&!r.map.bytes){var _=t(A.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:G(r.map)}),(p=r,m=i,g=y,function(t,e){var n=e.response,i=kn(t,e);return i?g(i,p):0===n.byteLength?g({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:2,xhr:e},p):(p.map.bytes=new Uint8Array(e.response),m.isInitialized()||m.init(),p.map.timescales=gn.timescale(p.map.bytes),p.map.videoTrackIds=gn.videoTrackIds(p.map.bytes),g(null,p))}));v.push(_)}var T,S,w,C,E,k=t(A.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:G(r)}),(T=r,S=i,w=y,function(t,e){var n=e.response,i=kn(t,e),r=void 0;return i?w(i,T):0===n.byteLength?w({status:e.status,message:"Empty HLS segment content at URL: "+e.uri,code:2,xhr:e},T):(T.stats={bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0},T.key?T.encryptedBytes=new Uint8Array(e.response):T.bytes=new Uint8Array(e.response),T.map&&T.map.bytes&&(S.isInitialized()||S.init(),(r=S.parse(T.bytes,T.map.videoTrackIds,T.map.timescales))&&r.captions&&(T.captionStreams=r.captionStreams,T.fmp4Captions=r.captions)),w(null,T))}));return k.addEventListener("progress",(C=r,E=a,function(t){var e,n,i;return C.stats=A.mergeOptions(C.stats,(n=(e=t).target,(i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-n.requestTime||0}).bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i)),!C.stats.firstBytesReceivedAt&&C.stats.bytesReceived&&(C.stats.firstBytesReceivedAt=Date.now()),E(t,C)})),v.push(k),function(){return En(v)}}function xn(t,e){var n;return t&&(n=y.getComputedStyle(t))?n[e]:""}function Pn(t,i){var r=t.slice();t.sort(function(t,e){var n=i(t,e);return 0===n?r.indexOf(t)-r.indexOf(e):n})}function On(t,e){var n=void 0,i=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||y.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),n-(i||y.Number.MAX_VALUE)}var In,$n,Mn,Dn,Ln,Un,Rn,Bn,Nn,Hn,jn,Fn,Gn,Vn,qn,Wn,zn,Xn,Kn,Yn,Qn,Jn,Zn,ti,ei,ni,ii,ri,ai,si,oi,ui,li,ci,hi,di,fi,pi,mi,gi,vi=(Y(_i,[{key:"createSourceBuffer_",value:function(t,e){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.sourceBuffer_.removing=!1,e.logger_("buffered ["+Ct(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){t.videoSegmentTimingInfoCallback&&n.sourceBuffer_.addEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),n.sourceBuffer_.appendBuffer(t.bytes)},function(){t.videoSegmentTimingInfoCallback&&n.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),e()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:A.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Cn;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+t+" => "+e+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(t,e)},i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==Cn}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){function t(){e.sourceBuffer_&&"open"===e.mediaSource.readyState&&e.sourceBuffer_.abort(),e.sourceBuffer_.removeEventListener("updateend",t)}var e=this;this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",t):t()}}]),_i),yi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},bi=Math.pow(2,32)-1;function _i(t,e,n,i){T(this,_i),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=n,this.mimeType_=e,this.logger_=Je("SourceUpdater["+n+"]["+e+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,e,i)):this.createSourceBuffer_(e,i)}!function(){var t;if(Jn={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in Jn)Jn.hasOwnProperty(t)&&(Jn[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);Zn=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),ei=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ti=new Uint8Array([0,0,0,1]),ni=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ii=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ri={video:ni,audio:ii},oi=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),si=new Uint8Array([0,0,0,0,0,0,0,0]),ui=new Uint8Array([0,0,0,0,0,0,0,0]),li=ui,ci=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),hi=ui,ai=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),In=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},$n=function(){return In(Jn.dinf,In(Jn.dref,oi))},Mn=function(t){return In(Jn.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},qn=function(t){return In(Jn.hdlr,ri[t])},Vn=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),In(Jn.mdhd,e)},Gn=function(t){return In(Jn.mdia,Vn(t),qn(t.type),Un(t))},Ln=function(t){return In(Jn.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},Un=function(t){return In(Jn.minf,"video"===t.type?In(Jn.vmhd,ai):In(Jn.smhd,si),$n(),zn(t))},Rn=function(t,e){for(var n=[],i=e.length;i--;)n[i]=Kn(e[i]);return In.apply(null,[Jn.moof,Ln(t)].concat(n))},Bn=function(t){for(var e=t.length,n=[];e--;)n[e]=jn(t[e]);return In.apply(null,[Jn.moov,Hn(4294967295)].concat(n).concat(Nn(t)))},Nn=function(t){for(var e=t.length,n=[];e--;)n[e]=Yn(t[e]);return In.apply(null,[Jn.mvex].concat(n))},Hn=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return In(Jn.mvhd,e)},Wn=function(t){var e,n,i=t.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,r[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return In(Jn.sdtp,r)},zn=function(t){return In(Jn.stbl,Xn(t),In(Jn.stts,hi),In(Jn.stsc,li),In(Jn.stsz,ci),In(Jn.stco,ui))},Xn=function(t){return In(Jn.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===t.type?di:fi)(t))},di=function(t){var e,n=t.sps||[],i=t.pps||[],r=[],a=[];for(e=0;e<n.length;e++)r.push((65280&n[e].byteLength)>>>8),r.push(255&n[e].byteLength),r=r.concat(Array.prototype.slice.call(n[e]));for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));return In(Jn.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),In(Jn.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(a))),In(Jn.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},fi=function(t){return In(Jn.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),Mn(t))},Fn=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return In(Jn.tkhd,e)},Kn=function(t){var e,n,i,r,a,s;return e=In(Jn.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(1+bi)),s=Math.floor(t.baseMediaDecodeTime%(1+bi)),n=In(Jn.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(i=Qn(t,92),In(Jn.traf,e,n,i)):(r=Wn(t),i=Qn(t,r.length+92),In(Jn.traf,e,n,i,r))},jn=function(t){return t.duration=t.duration||4294967295,In(Jn.trak,Fn(t),Gn(t))},Yn=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),In(Jn.trex,e)},gi=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},mi=function(t,e){var n,i,r,a;for(e+=20+16*(i=t.samples||[]).length,n=gi(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return In(Jn.trun,new Uint8Array(n))},pi=function(t,e){var n,i,r,a;for(e+=20+8*(i=t.samples||[]).length,n=gi(i,e),a=0;a<i.length;a++)r=i[a],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return In(Jn.trun,new Uint8Array(n))},Qn=function(t,e){return("audio"===t.type?pi:mi)(t,e)};function Ti(){this.init=function(){var a={};this.on=function(t,e){a[t]||(a[t]=[]),a[t]=a[t].concat(e)},this.off=function(t,e){var n;return!!a[t]&&(n=a[t].indexOf(e),a[t]=a[t].slice(),a[t].splice(n,1),-1<n)},this.trigger=function(t){var e,n,i,r;if(e=a[t])if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},this.dispose=function(){a={}}}}var Si={ftyp:Dn=function(){return In(Jn.ftyp,Zn,ti,Zn,ei)},mdat:function(t){return In(Jn.mdat,t)},moof:Rn,moov:Bn,initSegment:function(t){var e,n=Dn(),i=Bn(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}};Ti.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},Ti.prototype.push=function(t){this.trigger("data",t)},Ti.prototype.flush=function(t){this.trigger("done",t)};function wi(t){for(var e=[];t--;)e.push(0);return e}function Ci(t,e,n,i){var r,a,s,o,u,l,c=0,h=0,d=0;if(e.length&&(r=Ni(t.baseMediaDecodeTime,t.samplerate),a=Math.ceil(9e4/(t.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),d=(h=Math.floor(c/a))*a),!(h<1||45e3<d))){for((s=Bi[t.samplerate])||(s=e[0].data),o=0;o<h;o++)e.splice(o,0,{data:s});t.baseMediaDecodeTime-=Math.floor((u=d,l=t.samplerate,Ii($i(u),l)))}}function Ei(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts}function ki(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n}function Ai(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}function xi(){xi.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Vi(0,0),new Vi(0,1),new Vi(1,0),new Vi(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)}var Pi,Oi,Ii,$i,Mi,Di=Ti,Li=[33,16,5,32,164,27],Ui=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Ri={96e3:[Li,[227,64],wi(154),[56]],88200:[Li,[231],wi(170),[56]],64e3:[Li,[248,192],wi(240),[56]],48e3:[Li,[255,192],wi(268),[55,148,128],wi(54),[112]],44100:[Li,[255,192],wi(268),[55,163,128],wi(84),[112]],32e3:[Li,[255,192],wi(268),[55,234],wi(226),[112]],24e3:[Li,[255,192],wi(268),[55,255,128],wi(268),[111,112],wi(126),[224]],16e3:[Li,[255,192],wi(268),[55,255,128],wi(268),[111,255],wi(269),[223,108],wi(195),[1,192]],12e3:[Ui,wi(268),[3,127,248],wi(268),[6,255,240],wi(268),[13,255,224],wi(268),[27,253,128],wi(259),[56]],11025:[Ui,wi(268),[3,127,248],wi(268),[6,255,240],wi(268),[13,255,224],wi(268),[27,255,192],wi(268),[55,175,128],wi(108),[112]],8e3:[Ui,wi(268),[3,121,16],wi(47),[7]]},Bi=(Pi=Ri,Object.keys(Pi).reduce(function(t,e){return t[e]=new Uint8Array(Pi[e].reduce(function(t,e){return t.concat(e)},[])),t},{})),Ni=(Oi=function(t){return 9e4*t},Ii=function(t,e){return t*e},$i=function(t){return t/9e4},Mi=function(t,e){return t/e},function(t,e){return Oi(Mi(t,e))});(xi.prototype=new Di).push=function(t){var e,n,i,r;if("sei_rbsp"===t.nalUnitType&&4===(e=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,r=i=0}return n}(t.escapedRBSP)).payloadType&&(n=181!==(r=e).payload[0]||49!=(r.payload[1]<<8|r.payload[2])||"GA94"!==String.fromCharCode(r.payload[3],r.payload[4],r.payload[5],r.payload[6])||3!==r.payload[7]?null:r.payload.subarray(8,r.payload.length-1)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(t,e){var n,i,r,a,s=[];if(!(64&e[0]))return s;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[2+r]&&(a.ccData=e[3+r]<<8|e[4+r],s.push(a));return s}(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},xi.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},xi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},xi.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},xi.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},xi.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};function Hi(t){return null===t?"":(t=Fi[t]||t,String.fromCharCode(t))}function ji(){for(var t=[],e=15;e--;)t.push("");return t}var Fi={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Gi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Vi=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=ji();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ji();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=ji()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))a=Hi((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Hi((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var s=Gi.indexOf(7968&e);"rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(t.pts,s)),s!==this.row_&&(this.clearFormatting(t.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=Hi(i),a+=Hi(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Vi.prototype=new Di,Vi.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Vi.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ji(),this.nonDisplayed_=ji(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Vi.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Vi.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&48<=e&&e<=63},Vi.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&32<=e&&e<=63},Vi.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&32<=e&&e<=47},Vi.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&33<=e&&e<=35},Vi.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&64<=e&&e<=127},Vi.prototype.isColorPAC=function(t){return 64<=t&&t<=79||96<=t&&t<=127},Vi.prototype.isNormalChar=function(t){return 32<=t&&t<=127},Vi.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=ji(),this.displayed_=ji()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Vi.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},Vi.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},Vi.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},Vi.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},Vi.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Vi.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};function qi(t,e){var n=1;for(e<t&&(n=-1);4294967296<Math.abs(e-t);)t+=8589934592*n;return t}function Wi(t){var e,n;Wi.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=qi(t.dts,n),t.pts=qi(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){e=n=void 0}}var zi={CaptionStream:xi,Cea608Stream:Vi},Xi={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};Wi.prototype=new Di;function Ki(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}function Yi(t,e,n){return decodeURIComponent(Ki(t,e,n))}function Qi(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var Ji,Zi=Wi,tr=qi,er={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Yi(t.data,1,e),t.value=Yi(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Yi(t.data,1,e),t.url=Yi(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(Ki(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Ji=function(t){var e,u={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},l=0,c=[],h=0;if(Ji.prototype.init.call(this),this.dispatchType=Xi.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(e=0;e<u.descriptor.length;e++)this.dispatchType+=("00"+u.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,i,r,a;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(h=0,c.length=0),0===c.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))u.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(t),h+=t.data.byteLength,1===c.length&&(l=Qi(t.data.subarray(6,10)),l+=10),!(h<l)){for(e={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},a=0;a<l;)e.data.set(c[0].data.subarray(0,l-a),a),a+=c[0].data.byteLength,h-=c[0].data.byteLength,c.shift();n=10,64&e.data[5]&&(n+=4,n+=Qi(e.data.subarray(10,14)),l-=Qi(e.data.subarray(16,20)));do{if((i=Qi(e.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((r={id:String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),data:e.data.subarray(n+10,n+i+10)}).key=r.id,er[r.id]&&(er[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var s=r.data,o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;o*=4,o+=3&s[7],r.timeStamp=o,void 0===e.pts&&void 0===e.dts&&(e.pts=r.timeStamp,e.dts=r.timeStamp),this.trigger("timestamp",r)}e.frames.push(r),n+=10,n+=i}while(n<l);this.trigger("data",e)}}}).prototype=new Di;var nr,ir,rr,ar=Ji,sr=Zi;(nr=function(){var r=new Uint8Array(188),a=0;nr.prototype.init.call(this),this.push=function(t){var e,n=0,i=188;for(a?((e=new Uint8Array(t.byteLength+a)).set(r.subarray(0,a)),e.set(t,a),a=0):e=t;i<e.byteLength;)71!==e[n]||71!==e[i]?(n++,i++):(this.trigger("data",e.subarray(n,i)),n+=188,i+=188);n<e.byteLength&&(r.set(e.subarray(n),0),a=e.byteLength-n)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}}).prototype=new Di,(ir=function(){var i,r,a,s;ir.prototype.init.call(this),(s=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(t,e){var n=0;e.payloadUnitStartIndicator&&(n+=t[n]+1),("pat"===e.type?r:a)(t.subarray(n),e)},r=function(t,e){e.section_number=t[7],e.last_section_number=t[8],s.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=s.pmtPid},a=function(t,e){var n,i;if(1&t[5]){for(s.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var r=t[i],a=(31&t[i+1])<<8|t[i+2];r===Xi.H264_STREAM_TYPE&&null===s.programMapTable.video?s.programMapTable.video=a:r===Xi.ADTS_STREAM_TYPE&&null===s.programMapTable.audio?s.programMapTable.audio=a:r===Xi.METADATA_STREAM_TYPE&&(s.programMapTable["timed-metadata"][a]=r),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=s.programMapTable}},this.push=function(t){var e={},n=4;if(e.payloadUnitStartIndicator=!!(64&t[1]),e.pid=31&t[1],e.pid<<=8,e.pid|=t[2],1<(48&t[3])>>>4&&(n+=t[n]+1),0===e.pid)e.type="pat",i(t.subarray(n),e),this.trigger("data",e);else if(e.pid===this.pmtPid)for(e.type="pmt",i(t.subarray(n),e),this.trigger("data",e);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,e]):this.processPes_(t,n,e)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Xi.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Xi.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new Di,ir.STREAM_TYPES={h264:27,adts:15},(rr=function(){function i(t,e,n){var i,r,a=new Uint8Array(t.size),s={type:e},o=0,u=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,o=0;o<t.data.length;o++)r=t.data[o],a.set(r.data,u),u+=r.data.byteLength;var l,c,h;l=a,(c=s).packetLength=6+(l[4]<<8|l[5]),c.dataAlignmentIndicator=0!=(4&l[6]),192&(h=l[7])&&(c.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,c.pts*=4,c.pts+=(6&l[13])>>>1,c.dts=c.pts,64&h&&(c.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,c.dts*=4,c.dts+=(6&l[18])>>>1)),c.data=l.subarray(9+l[8]),i="video"===e||s.packetLength<=t.size,(n||i)&&(t.size=0,t.data.length=0),i&&d.trigger("data",s)}}var d=this,r={data:[],size:0},a={data:[],size:0},s={data:[],size:0};rr.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var t,e;switch(n.streamType){case Xi.H264_STREAM_TYPE:case Xi.H264_STREAM_TYPE:t=r,e="video";break;case Xi.ADTS_STREAM_TYPE:t=a,e="audio";break;case Xi.METADATA_STREAM_TYPE:t=s,e="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&i(t,e,!0),t.data.push(n),t.size+=n.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},e=n.programMapTable;null!==e.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),d.trigger("data",t)}})[n.type]()},this.flush=function(){i(r,"video"),i(a,"audio"),i(s,"timed-metadata"),this.trigger("done")}}).prototype=new Di;var or={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:nr,TransportParseStream:ir,ElementaryStream:rr,TimestampRolloverStream:sr,CaptionStream:zi.CaptionStream,Cea608Stream:zi.Cea608Stream,MetadataStream:ar};for(var ur in Xi)Xi.hasOwnProperty(ur)&&(or[ur]=Xi[ur]);var lr,cr=or,hr=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(lr=function(){var l;lr.prototype.init.call(this),this.push=function(t){var e,n,i,r,a,s,o=0,u=0;if("audio"===t.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+t.data.byteLength)).set(r),l.set(t.data,r.byteLength)):l=t.data;o+5<l.length;)if(255===l[o]&&240==(246&l[o+1])){if(n=2*(1&~l[o+1]),e=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,s=9e4*(a=1024*(1+(3&l[o+6])))/hr[(60&l[o+2])>>>2],i=o+e,l.byteLength<i)return;if(this.trigger("data",{pts:t.pts+u*s,dts:t.dts+u*s,sampleCount:a,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:hr[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+n,i)}),l.byteLength===i)return void(l=void 0);u++,l=l.subarray(i)}else o++},this.flush=function(){this.trigger("done")}}).prototype=new Di;function dr(i){var r=i.byteLength,a=0,s=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+s},this.loadWord=function(){var t=i.byteLength-r,e=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");e.set(i.subarray(t,t+n)),a=new DataView(e.buffer).getUint32(0),s=8*n,r-=n},this.skipBits=function(t){var e;t<s||(t-=s,t-=8*(e=Math.floor(t/8)),r-=e,this.loadWord()),a<<=t,s-=t},this.readBits=function(t){var e=Math.min(s,t),n=a>>>32-e;return 0<(s-=e)?a<<=e:0<r&&this.loadWord(),0<(e=t-e)?n<<e|this.readBits(e):n},this.skipLeadingZeros=function(){var t;for(t=0;t<s;++t)if(0!=(a&2147483648>>>t))return a<<=t,s-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}var fr,pr,mr,gr=lr;(pr=function(){var n,i,r=0;pr.prototype.init.call(this),this.push=function(t){var e;for(i=i?((e=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),e.set(t.data,i.byteLength),e):t.data;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&this.trigger("data",i.subarray(r+3,n-2));1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}this.trigger("data",i.subarray(r+3,n-2)),r=n-2,n+=3;break;default:n+=3}i=i.subarray(r),n-=r,r=0},this.flush=function(){i&&3<i.byteLength&&this.trigger("data",i.subarray(r+3)),i=null,r=0,this.trigger("done")}}).prototype=new Di,mr={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(fr=function(){var n,i,r,a,s,o,b,e=new pr;fr.prototype.init.call(this),(n=this).push=function(t){"video"===t.type&&(i=t.trackId,r=t.pts,a=t.dts,e.push(t))},e.on("data",function(t){var e={trackId:i,pts:r,dts:a,data:t};switch(31&t[0]){case 5:e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:e.nalUnitType="sei_rbsp",e.escapedRBSP=s(t.subarray(1));break;case 7:e.nalUnitType="seq_parameter_set_rbsp",e.escapedRBSP=s(t.subarray(1)),e.config=o(e.escapedRBSP);break;case 8:e.nalUnitType="pic_parameter_set_rbsp";break;case 9:e.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",e)}),e.on("done",function(){n.trigger("done")}),this.flush=function(){e.flush()},b=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},s=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},o=function(t){var e,n,i,r,a,s,o,u,l,c,h,d,f,p=0,m=0,g=0,v=0,y=1;if(n=(e=new dr(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),mr[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==a?8:12,f=0;f<h;f++)e.readBoolean()&&b(f<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),o=e.readUnsignedExpGolomb(),f=0;f<o;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),0===(c=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(p=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}d&&(y=d[0]/d[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*p-2*m)*y),height:(2-c)*(l+1)*16-2*g-2*v}}}).prototype=new Di;function vr(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var yr,br={H264Stream:fr,NalByteStream:pr},_r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Tr={isLikelyAacData:function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?20+n:10+n},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return _r[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=vr(t.subarray(10,14)));do{if((n=vr(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(t,e){var n,i="";for(n=0;n<e;n++)i+="%"+("00"+t[n].toString(16)).slice(-2);return i}(i,r)))break;var a=i.subarray(r+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(s*=4)+(3&a[7])}}e+=10,e+=n}while(e<t.byteLength);return null}};(yr=function(){var o=new Uint8Array,u=0;yr.prototype.init.call(this),this.setTimestamp=function(t){u=t},this.push=function(t){var e,n,i,r,a=0,s=0;for(o.length?(r=o.length,(o=new Uint8Array(t.byteLength+r)).set(o.subarray(0,r)),o.set(t,r)):o=t;3<=o.length-s;)if(o[s]!=="I".charCodeAt(0)||o[s+1]!=="D".charCodeAt(0)||o[s+2]!=="3".charCodeAt(0))if(255!=(255&o[s])||240!=(240&o[s+1]))s++;else{if(o.length-s<7)break;if(s+(a=Tr.parseAdtsSize(o,s))>o.length)break;i={type:"audio",data:o.subarray(s,s+a),pts:u,dts:u},this.trigger("data",i),s+=a}else{if(o.length-s<10)break;if(s+(a=Tr.parseId3TagSize(o,s))>o.length)break;n={type:"timed-metadata",data:o.subarray(s,s+a)},this.trigger("data",n),s+=a}e=o.length-s,o=0<e?o.subarray(s):new Uint8Array}}).prototype=new Di;function Sr(t,e){var n;if(t.length===e.length){for(n=0;n<t.length;n++)if(t[n]!==e[n])return;return 1}}function wr(t,e,n,i,r,a){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(i-e),pts:t+(r-n)},prependedContentDuration:a,baseMediaDecodeTime:t}}var Cr,Er,kr,Ar,xr=yr,Pr=br.H264Stream,Or=Tr.isLikelyAacData,Ir=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],$r=["width","height","profileIdc","levelIdc","profileCompatibility"];(Er=function(o,u){var l=[],c=0,h=0,d=0,f=1/0;u=u||{},Er.prototype.init.call(this),this.push=function(e){Ai(o,e),o&&Ir.forEach(function(t){o[t]=e[t]}),l.push(e)},this.setEarliestDts=function(t){h=t-o.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){f=t},this.setAudioAppendStart=function(t){d=t},this.flush=function(){var t,e,n,i,r,a,s;0!==l.length&&(r=l,s=h,t=(a=o).minSegmentDts>=s?r:(a.minSegmentDts=1/0,r.filter(function(t){return t.dts>=s&&(a.minSegmentDts=Math.min(a.minSegmentDts,t.dts),a.minSegmentPts=a.minSegmentDts,!0)})),o.baseMediaDecodeTime=ki(o,u.keepOriginalTimestamps),Ci(o,t,d,f),o.samples=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i}(t),n=Si.mdat(function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}(t)),l=[],e=Si.moof(c,[o]),i=new Uint8Array(e.byteLength+n.byteLength),c++,i.set(e),i.set(n,e.byteLength),Ei(o),this.trigger("data",{track:o,boxes:i})),this.trigger("done","AudioSegmentStream")}}).prototype=new Di,(Cr=function(h,d){var e,n,f=0,p=[],m=[];d=d||{},Cr.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(t){Ai(h,t),"seq_parameter_set_rbsp"!==t.nalUnitType||e||(e=t.config,h.sps=[t.data],$r.forEach(function(t){h[t]=e[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,h.pps=[t.data]),p.push(t)},this.flush=function(){for(var t,e,n,i,r,a,s,o=0;p.length&&"access_unit_delimiter_rbsp"!==p[0].nalUnitType;)p.shift();if(0===p.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if((e=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r}(function(t){var e,n,i=[],r=[];for(e=i.byteLength=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r}(p)))[0][0].keyFrame||((t=this.getGopForFusion_(p[0],h))?(o=t.duration,e.unshift(t),e.byteLength+=t.byteLength,e.nalCount+=t.nalCount,e.pts=t.pts,e.dts=t.dts,e.duration+=t.duration):(!(l=e)[0][0].keyFrame&&1<l.length&&(c=l.shift(),l.byteLength-=c.byteLength,l.nalCount-=c.nalCount,l[0][0].dts=c.dts,l[0][0].pts=c.pts,l[0][0].duration+=c.duration),e=l)),m.length){var u;if(!(u=d.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e)))return this.gopCache_.unshift({gop:e.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ei(h),e=u}var l,c;Ai(h,e),h.samples=function(t,e){var n,i,r,a,s,o,u=e||0,l=[];for(n=0;n<t.length;n++)for(r=t[n],i=0;i<r.length;i++)a=r[i],u+=(s=a,o=void 0,(o={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}).dataOffset=u,o.compositionTimeOffset=s.pts-s.dts,o.duration=s.duration,o.size=4*s.length,o.size+=s.byteLength,s.keyFrame&&(o.flags.dependsOn=2,o.flags.isNonSyncSample=0),o.size),l.push(o);return l}(e),i=Si.mdat(function(t){var e,n,i,r,a,s,o=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)s=a[i],h.setUint32(o,s.data.byteLength),o+=4,c.set(s.data,o),o+=s.data.byteLength;return c}(e)),h.baseMediaDecodeTime=ki(h,d.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),a=e[0],s=e[e.length-1],this.trigger("segmentTimingInfo",wr(h.baseMediaDecodeTime,a.dts,a.pts,s.dts+s.duration,s.pts+s.duration,o)),this.gopCache_.unshift({gop:e.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),n=Si.moof(f,[h]),r=new Uint8Array(n.byteLength+i.byteLength),f++,r.set(n),r.set(i,n.byteLength),this.trigger("data",{track:h,boxes:r}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Ei(h),n=e=void 0},this.getGopForFusion_=function(t){var e,n,i,r,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(r=this.gopCache_[a]).gop,h.pps&&Sr(h.pps[0],r.pps[0])&&h.sps&&Sr(h.sps[0],r.sps[0])&&(i.dts<h.timelineStartInfo.dts||-1e4<=(e=t.dts-i.dts-i.duration)&&e<=45e3&&(!n||e<s)&&(n=r,s=e));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,s,o,u;for(a=t.byteLength,s=t.nalCount,o=t.duration,e=n=0;e<m.length&&n<t.length&&(i=m[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,a-=r.byteLength,s-=r.nalCount,o-=r.duration);return 0===n?t:n===t.length?null:((u=t.slice(n)).byteLength=a,u.duration=o,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,s,o;for(e=m.length-1,n=t.length-1,a=null,s=!1;0<=e&&0<=n;){if(i=m[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===m.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(0===(o=s?n:a))return t;var u=t.slice(o),l=u.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){m=t}}).prototype=new Di,(Ar=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ar.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new Di,Ar.prototype.flush=function(t){var e,n,i,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,$r.forEach(function(t){s.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Ir.forEach(function(t){s.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=Si.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=o),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=o),e.endTime/=9e4,s.captionStreams[e.stream]=!0,s.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=o),n.cueTime/=9e4,s.metadata.push(n);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(kr=function(i){var r,a,s=this,n=!0;kr.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};(this.transmuxPipeline_=e).type="aac",e.metadataStream=new cr.MetadataStream,e.aacStream=new xr,e.audioTimestampRolloverStream=new cr.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new cr.TimestampRolloverStream("timed-metadata"),e.adtsStream=new gr,e.coalesceStream=new Ar(i,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Er(a,i),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new cr.MetadataStream,n.packetStream=new cr.TransportPacketStream,n.parseStream=new cr.TransportParseStream,n.elementaryStream=new cr.ElementaryStream,n.videoTimestampRolloverStream=new cr.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new cr.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new cr.TimestampRolloverStream("timed-metadata"),n.adtsStream=new gr,n.h264Stream=new Pr,n.captionStream=new cr.CaptionStream,n.coalesceStream=new Ar(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(t){var e;if("metadata"===t.type){for(e=t.tracks.length;e--;)r||"video"!==t.tracks[e].type?a||"audio"!==t.tracks[e].type||((a=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(r=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Cr(r,i),n.videoSegmentStream.on("timelineStartInfo",function(t){a&&(a.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts))}),n.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),n.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(t){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new Er(a,i),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;i.keepOriginalTimestamps||(this.baseMediaDecodeTime=t),a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,Ei(a),i.keepOriginalTimestamps||(a.timelineStartInfo.baseMediaDecodeTime=t),e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),r&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[],e.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,Ei(r),e.captionStream.reset(),i.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=t)),e.timedMetadataTimestampRolloverStream&&e.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(n){var e=Or(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Di;function Mr(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null}function Dr(t,g){var i=gn.findBox(t,["moof","traf"]),v={},r=[];return gn.findBox(t,["mdat"]).forEach(function(t,e){var n=i[e];r.push({mdat:t,traf:n})}),r.forEach(function(t){var e,n,i,r,a,s,o,u=t.mdat,l=t.traf,c=gn.findBox(l,["tfhd"]),h=bn.parseTfhd(c[0]),d=h.trackId,f=gn.findBox(l,["tfdt"]),p=0<f.length?bn.parseTfdt(f[0]).baseMediaDecodeTime:0,m=gn.findBox(l,["trun"]);g===d&&0<m.length&&(e=function(t,e,n){var i,r,a,s,o=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+a),c=Mr(r,e);i={nalUnitType:"sei_rbsp",size:a,data:l,escapedRBSP:Gr(l),trackId:n},c?(i.pts=c.pts,i.dts=c.dts,s=c):(i.pts=s.pts,i.dts=s.dts),u.push(i)}return u}(u,(n=m,i=p,r=h.defaultSampleDuration||0,a=h.defaultSampleSize||0,s=h.trackId,o=[],n.forEach(function(t){var e=bn.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=a),t.trackId=s,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),o=o.concat(e)}),o),d),v[d]||(v[d]=[]),v[d]=v[d].concat(e))}),v}function Lr(t){return"number"==typeof t&&isFinite(t)}function Ur(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))}function Rr(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null}function Br(t){var e=31&t[1];return(e<<=8)|t[2]}function Nr(t){return!!(64&t[1])}function Hr(t){var e=0;return 1<(48&t[3])>>>4&&(e+=t[4]+1),e}function jr(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}var Fr,Gr=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=t[s];return n},Vr=zi.CaptionStream,qr=function(){var e,o,u,l,c,t=!1;this.isInitialized=function(){return t},this.init=function(){e=new Vr,t=!0,e.on("data",function(t){t.startTime=t.startPts/l,t.endTime=t.endPts/l,c.captions.push(t),c.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||u===t[0]&&l===e[u])},this.parse=function(t,e,n){var i,r,a;if(!this.isInitialized())return null;if(!e||!n)return null;if(this.isNewInit(e,n))u=e[0],l=n[u];else if(!u||!l)return o.push(t),null;for(;0<o.length;){var s=o.shift();this.parse(s,e,n)}return null!==(a=l,i=(r=u)?{seiNals:Dr(t,r)[r],timescale:a}:null)&&i.seiNals?(this.pushNals(i.seiNals),this.flushStream(),c):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){c.captions=[],c.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){o=[],l=u=null,c?this.clearParsedCaptions():c={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},Wr=(Fr=A.EventTarget,S(Zr,Fr),Y(Zr,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():A.createTimeRanges()}},{key:"initSegment",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=yt(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),i||t}},{key:"segmentKey",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=bt(t),i=this.keyCache_[n];this.cacheEncryptionKeys_&&e&&!i&&t.bytes&&(this.keyCache_[n]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(i||t).resolvedUri};return i&&(r.bytes=i.bytes),r}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new vi(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===t.uri){var a=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex&&(this.mediaIndex-=a),i&&(i.mediaIndex-=a,0<=i.mediaIndex&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,n),kt(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)kt(t,e,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(this.isEndOfStream_(t.mediaIndex)?this.endOfStream():t.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(t)))}}},{key:"isEndOfStream_",value:function(i){return function(t,e){if(!t||!e)return!1;var n=i===t.segments.length;return t.endList&&"open"===e.readyState&&n}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.playlist_,this.mediaSource_)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(t,e,n,i,r,a){var s=0,o=void 0;t.length&&(s=t.end(t.length-1));var u=Math.max(0,s-r);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!i&&1<=u)return null;if(null===a)return n=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){var l=e.segments[n];return o=l&&l.end?l.end:s,this.generateSegmentInfo_(e,n+1,o,!1)}if(this.fetchAtBuffer_){var c=at.getMediaInfoForTime(e,s,a.segmentIndex,a.time);n=c.mediaIndex,o=c.startTime}else{var h=at.getMediaInfoForTime(e,r,a.segmentIndex,a.time);n=h.mediaIndex,o=h.startTime}return this.generateSegmentInfo_(e,n,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=at.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),a=function(t,e,n){var i=2<arguments.length&&void 0!==n?n:1;return((t.length?t.end(t.length-1):0)-e)/i}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var s=function(t){var n=t.currentTime,i=t.bandwidth,r=t.duration,a=t.segmentDuration,s=t.timeUntilRebuffer,o=t.currentTimeline,u=t.syncController,e=t.master.playlists.filter(function(t){return!at.isIncompatible(t)}),l=e.filter(at.isEnabled);l.length||(l=e.filter(function(t){return!at.isDisabled(t)}));var c=l.filter(at.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=u.getSyncPoint(t,r,o,n)?1:2;return{playlist:t,rebufferingImpact:at.estimateSegmentRequestTime(a,i,t)*e-s}}),h=c.filter(function(t){return t.rebufferingImpact<=0});return Pn(h,function(t,e){return On(e.playlist,t.playlist)}),h.length?h[0]:(Pn(c,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),c[0]||null)}({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=r-a-s.rebufferingImpact,u=.5;return a<=1/30&&(u=1),!(!s.playlist||s.playlist.uri===this.playlist_.uri||o<u||(this.bandwidth=s.playlist.attributes.BANDWIDTH*yi.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),0))}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=An(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e,n,i,r,a=(e=this.seekable_(),n=this.currentTime_(),i=this.playlist_.targetDuration||10,r=e.length&&0<e.start(0)&&e.start(0)<n?e.start(0):n-30,Math.min(r,n-i));0<a&&this.remove(0,a)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key=this.segmentKey(e.key),n.key.iv=i}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",-102===t.code?void(this.mediaRequestsAborted+=1):(this.pause(),-101===t.code?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),e.key&&this.segmentKey(e.key,!0),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(function(t,e,n){for(var i in n)if(!t[i]){e.trigger({type:"usage",name:"hls-608"});var r=e.textTracks().getTrackById(i);t[i]=r||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),function(t){var r=t.inbandTextTracks,e=t.captionArray,a=t.timestampOffset;if(e){var s=window.WebKitDataCue||window.VTTCue;e.forEach(function(t){var e=t.stream,n=t.startTime,i=t.endTime;r[e]&&(n+=a,i+=a,r[e].addCue(new s(n,i,t.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t,e,n,i,r,a,s,o,u,l,c=this;if(this.pendingSegment_){var h=this.pendingSegment_,d=h.segment,f=this.syncController_.probeSegmentInfo(h);void 0===this.startingMedia_&&f&&(f.containsAudio||f.containsVideo)&&(this.startingMedia_={containsAudio:f.containsAudio,containsVideo:f.containsVideo});var p,m,g=(p=this.loaderType_,m=this.startingMedia_,"main"===p&&m&&f?f.containsAudio||f.containsVideo?m.containsVideo&&!f.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!m.containsVideo&&f.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(g)return this.error({message:g,blacklistDuration:1/0}),void this.trigger("error");if(h.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==h.timestampOffset&&h.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(h.timestampOffset),this.trigger("timestampoffset"));var v=this.syncController_.mappingForTimeline(h.timeline);if(null!==v&&this.trigger({type:"segmenttimemapping",mapping:v}),this.state="APPENDING",d.map){var y=yt(d.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==y){var b=this.initSegment(d.map);this.sourceUpdater_.appendBuffer({bytes:b.bytes},function(){c.activeInitSegmentId_=y})}}h.byteLength=h.bytes.byteLength,"number"==typeof d.start&&"number"==typeof d.end?this.mediaSecondsLoaded+=d.end-d.start:this.mediaSecondsLoaded+=d.duration,this.logger_((t=h.segment,e=t.start,n=t.end,i=h.playlist,r=i.mediaSequence,a=i.id,s=i.segments,o=void 0===s?[]:s,u=h.mediaIndex,l=h.timeline,["appending ["+u+"] of ["+r+", "+(r+o.length)+"] from playlist ["+a+"]","["+e+" => "+n+"] in timeline ["+l+"]"].join(" "))),this.sourceUpdater_.appendBuffer({bytes:h.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,h.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=e.videoSegmentTimingInfo.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=e.videoSegmentTimingInfo.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=e.videoSegmentTimingInfo.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=e.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(t.mediaIndex+1,t.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,i=e.end;if(Lr(n)&&Lr(i)){kt(n,i,this.segmentMetadataTrack_);var r=y.WebKitDataCue||y.VTTCue,a={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i},s=new r(n,i,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}}}]),Zr),zr=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),Xr=(S(Jr,Wr),Y(Jr,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return A.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return A.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=yt(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=zr.byteLength+t.bytes.byteLength,a=new Uint8Array(r);a.set(t.bytes),a.set(zr,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(t,e){kt(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof y.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function(){e.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",i),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof y.TextDecoder?t=new y.TextDecoder("utf8"):(t=y.WebVTT.StringDecoder(),n=!0);var i=new y.WebVTT.Parser(y,y.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){return e.timestampmap=t},i.onparsingerror=function(t){A.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map){var r=e.segment.map.bytes;n&&(r=Ur(r)),i.parse(r)}var a=e.bytes;n&&(a=Ur(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=a,t.endTime+=a}),!n.syncInfo){var s=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(s,o-i.duration)}}}else i.empty=!0}}]),Jr),Kr={parseType:function(t,e){var n=Br(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=Nr(t),n=4+Hr(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=Nr(t),i=4+Hr(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var a=12+((15&t[i+10])<<8|t[i+11]);a<r;){var s=i+a;e[(31&t[s+1])<<8|t[s+2]]=t[s],a+=5+((15&t[s+3])<<8|t[s+4])}return e}},parsePayloadUnitStartIndicator:Nr,parsePesType:function(t,e){switch(e[Br(t)]){case Xi.H264_STREAM_TYPE:return"video";case Xi.ADTS_STREAM_TYPE:return"audio";case Xi.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Nr(t))return null;var e=4+Hr(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+Hr(t),n=t.subarray(e),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===jr(31&n[r+3])&&(a=!0);1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===jr(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&3<n.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===jr(31&n[r+3])&&(a=!0),a}},Yr=tr,Qr={};function Jr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};T(this,Jr);var n=w(this,(Jr.__proto__||Object.getPrototypeOf(Jr)).call(this,t,e));return n.mediaSource_=null,n.subtitlesTrack_=null,n}function Zr(t){T(this,Zr);var e=w(this,(Zr.__proto__||Object.getPrototypeOf(Zr)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return e.bandwidth=t.bandwidth,e.throughput={rate:0,count:0},e.roundTrip=NaN,e.resetStats_(),e.mediaIndex=null,e.hasPlayed_=t.hasPlayed,e.currentTime_=t.currentTime,e.seekable_=t.seekable,e.seeking_=t.seeking,e.duration_=t.duration,e.mediaSource_=t.mediaSource,e.hls_=t.hls,e.loaderType_=t.loaderType,e.startingMedia_=void 0,e.segmentMetadataTrack_=t.segmentMetadataTrack,e.goalBufferLength_=t.goalBufferLength,e.sourceType_=t.sourceType,e.inbandTextTracks_=t.inbandTextTracks,e.state_="INIT",e.checkBufferTimeout_=null,e.error_=void 0,e.currentTimeline_=-1,e.pendingSegment_=null,e.mimeType_=null,e.sourceUpdater_=null,e.xhrOptions_=null,e.activeInitSegmentId_=null,e.initSegments_={},e.cacheEncryptionKeys_=t.cacheEncryptionKeys,e.keyCache_={},e.captionParser_=new qr,e.decrypter_=t.decrypter,e.syncController_=t.syncController,e.syncPoint_={segmentIndex:0,time:0},e.syncController_.on("syncinfoupdate",function(){return e.trigger("syncinfoupdate")}),e.mediaSource_.addEventListener("sourceopen",function(){return e.ended_=!1}),e.fetchAtBuffer_=!1,e.logger_=Je("SegmentLoader["+e.loaderType_+"]"),Object.defineProperty(e,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),e}Qr.ts=Kr,Qr.aac=Tr;function ta(t,e,n){for(var i,r,a,s,o=0,u=188,l=!1;u<=t.byteLength;)if(71!==t[o]||71!==t[u]&&u!==t.byteLength)o++,u++;else{switch(i=t.subarray(o,u),Qr.ts.parseType(i,e.pid)){case"pes":r=Qr.ts.parsePesType(i,e.table),a=Qr.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=Qr.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;o+=188,u+=188}for(o=(u=t.byteLength)-188,l=!1;0<=o;)if(71!==t[o]||71!==t[u]&&u!==t.byteLength)o--,u--;else{switch(i=t.subarray(o,u),Qr.ts.parseType(i,e.pid)){case"pes":r=Qr.ts.parsePesType(i,e.table),a=Qr.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=Qr.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;o-=188,u-=188}}function ea(t,e,n){for(var i,r,a,s,o,u,l,c=0,h=188,d=!1,f={data:[],size:0};h<t.byteLength;)if(71!==t[c]||71!==t[h])c++,h++;else{switch(i=t.subarray(c,h),Qr.ts.parseType(i,e.pid)){case"pes":if(r=Qr.ts.parsePesType(i,e.table),a=Qr.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!d&&(s=Qr.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(o=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),o.set(l,u),u+=l.byteLength;Qr.ts.videoPacketContainsKeyFrame(o)&&(n.firstKeyFrame=Qr.ts.parsePesTime(o),n.firstKeyFrame.type="video"),f.size=0}f.data.push(i),f.size+=i.byteLength}}if(d&&n.firstKeyFrame)break;c+=188,h+=188}for(c=(h=t.byteLength)-188,d=!1;0<=c;)if(71!==t[c]||71!==t[h])c--,h--;else{switch(i=t.subarray(c,h),Qr.ts.parseType(i,e.pid)){case"pes":r=Qr.ts.parsePesType(i,e.table),a=Qr.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(s=Qr.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),d=!0)}if(d)break;c-=188,h-=188}}function na(t,e){var n;return(n=(Qr.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,i=0,r=null,a=null,s=0,o=0;3<=t.length-o;){switch(Qr.aac.parseType(t,o)){case"timed-metadata":if(t.length-o<10){n=!0;break}if((s=Qr.aac.parseId3TagSize(t,o))>t.length){n=!0;break}null===a&&(e=t.subarray(o,o+s),a=Qr.aac.parseAacTimestamp(e)),o+=s;break;case"audio":if(t.length-o<7){n=!0;break}if((s=Qr.aac.parseAdtsSize(t,o))>t.length){n=!0;break}null===r&&(e=t.subarray(o,o+s),r=Qr.aac.parseSampleRate(e)),i++,o+=s;break;default:o++}if(n)return null}if(null===r||null===a)return null;var u=9e4/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*u,pts:a+1024*i*u}]}}:function(t){var e={pid:null,table:null},n={};for(var i in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),Qr.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=Qr.ts.parsePat(n));break;case"pmt":e.table||(e.table=Qr.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table)if(e.table.hasOwnProperty(i))switch(e.table[i]){case Xi.H264_STREAM_TYPE:n.video=[],ea(t,e,n),0===n.video.length&&delete n.video;break;case Xi.ADTS_STREAM_TYPE:n.audio=[],ta(t,e,n),0===n.audio.length&&delete n.audio}return n})(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=Yr(t.dts,n),t.pts=Yr(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach(function(t){t.dts=Yr(t.dts,i),t.pts=Yr(t.pts,i),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=Yr(r.dts,i),r.pts=Yr(r.pts,i),r.dtsTime=r.dts/9e4,r.ptsTime=r.dts/9e4}}}(n,e),n):null}function ia(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)}function ra(t,e){(e.activePlaylistLoader=t).load()}function aa(e,n){return function(t){return t.attributes[e]===n}}function sa(e){return function(t){return t.resolvedUri===e}}function oa(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){va[t](t,e)});var n=e.mediaTypes,t=e.masterPlaylistLoader,i=e.tech,r=e.hls;["AUDIO","SUBTITLES"].forEach(function(t){var o,u,l,c,a,s;n[t].activeGroup=(a=t,s=e,function(e){var t=s.masterPlaylistLoader,n=s.mediaTypes[a].groups,i=t.media();if(!i)return null;var r=null;return i.attributes[a]&&(r=n[i.attributes[a]]),r=r||n.main,void 0===e?r:null!==e&&r.filter(function(t){return t.id===e.id})[0]||null}),n[t].activeTrack=ya[t](t,e),n[t].onGroupChanged=(l=t,c=e,function(){var t=c.segmentLoaders,e=t[l],n=t.main,i=c.mediaTypes[l],r=i.activeTrack(),a=i.activeGroup(r),s=i.activePlaylistLoader;ia(e,i),a&&(a.playlistLoader?(e.resyncLoader(),ra(a.playlistLoader,i)):s&&n.resetEverything())}),n[t].onTrackChanged=(o=t,u=e,function(){var t=u.segmentLoaders,e=t[o],n=t.main,i=u.mediaTypes[o],r=i.activeTrack(),a=i.activeGroup(r),s=i.activePlaylistLoader;ia(e,i),a&&(a.playlistLoader?(s!==a.playlistLoader&&(e.track&&e.track(r),e.resetEverything()),ra(a.playlistLoader,i)):n.resetEverything())})});var a=n.AUDIO.activeGroup(),s=(a.filter(function(t){return t.default})[0]||a[0]).id;function o(){n.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})}for(var u in n.AUDIO.tracks[s].enabled=!0,n.AUDIO.onTrackChanged(),t.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return n[t].onGroupChanged()})}),i.audioTracks().addEventListener("change",o),i.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),r.on("dispose",function(){i.audioTracks().removeEventListener("change",o),i.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),n.AUDIO.tracks)i.audioTracks().addTrack(n.AUDIO.tracks[u])}function ua(t,e,n){T(this,ua);var r,a,s,i=t.masterPlaylistController_,o=i[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(i);if(e.attributes.RESOLUTION){var u=e.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=e.attributes.BANDWIDTH,this.id=n,this.enabled=(r=t.playlists,a=e.uri,s=o,function(t){var e=r.master.playlists[a],n=B(e),i=N(e);return void 0===t?i:(t?delete e.disabled:e.disabled=!0,t===i||n||(s(),t?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),t)})}function la(t){!function e(n,t){var i=0,r=0,a=A.mergeOptions(Ca,t);n.ready(function(){n.trigger({type:"usage",name:"hls-error-reload-initialized"})});function s(){r&&n.currentTime(r)}function o(t){null!=t&&(r=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",s),n.src(t),n.trigger({type:"usage",name:"hls-error-reload"}),n.play())}function u(){if(Date.now()-i<1e3*a.errorInterval)n.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(a.getSource&&"function"==typeof a.getSource)return i=Date.now(),a.getSource.call(n,o);A.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function l(){n.off("loadedmetadata",s),n.off("error",u),n.off("dispose",l)}n.on("error",u),n.on("dispose",l),n.reloadSourceOnError=function(t){l(),e(n,t)}}(this,t)}var ca,ha,da=[{name:"VOD",run:function(t,e,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var a=e.segments||[],s=null,o=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,h=Math.abs(r-c);if(null!==o&&o<h)break;o=h,s={time:c,segmentIndex:u}}}return s}},{name:"Segment",run:function(t,e,n,i,r){var a=e.segments||[],s=null,o=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==o&&o<c)break;(!s||null===o||c<=o)&&(o=c,s={time:l.start,segmentIndex:u})}}return s}},{name:"Discontinuity",run:function(t,e,n,i,r){var a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var s=null,o=0;o<e.discontinuityStarts.length;o++){var u=e.discontinuityStarts[o],l=e.discontinuitySequence+o+1,c=t.discontinuities[l];if(c){var h=Math.abs(r-c.time);if(null!==s&&s<h)break;(!a||null===s||h<=s)&&(s=h,a={time:c.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],fa=(ha=A.EventTarget,S(Aa,ha),Y(Aa,[{key:"getSyncPoint",value:function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return 0<i.segmentIndex&&(i.time*=-1),Math.abs(i.time+$(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],a=0;a<da.length;a++){var s=da[a],o=s.run(this,t,e,n,i);o&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,a=1;a<t.length;a++){var s=Math.abs(t[a].syncPoint[e.key]-e.value);s<i&&(i=s,n=t[a].syncPoint,r=t[a].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;0<=n;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e,n=t.segment,i=t.playlist;return(e=n.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,e)&&(this.saveDiscontinuitySyncInfo_(t),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:n.start})),e}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=gn.timescale(e.map.bytes),i=gn.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=na(t.bytes,this.inspectCache_),n=void 0,i=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,i=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,i=e.audio[1].dtsTime),{start:n,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r,a=e.discontinuityStarts[i],s=e.discontinuitySequence+i+1,o=a-t.mediaIndex,u=Math.abs(o);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>u)r=o<0?n.start-$(e,t.mediaIndex,a):n.end+$(e,t.mediaIndex+1,a),this.discontinuities[s]={time:r,accuracy:u}}}}]),Aa),pa=new Xt("./decrypter-worker.worker.js",function(t,e){var n,i,c,g,r,u,s,a=this;function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}function l(t,e,n,i){h(this,l);var r=l.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),o=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s)),o=r;o<a.length;o+=r)n=new Uint32Array([v(a[o-4]),v(a[o-3]),v(a[o-2]),v(a[o-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),e,n,s));this.asyncStream_.push(function(){i(null,s.subarray(0,s.byteLength-s[s.byteLength-1]))})}function o(){h(this,o);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,r));return t.jobs=[],t.delay=1,t.timeout_=null,t}function d(){h(this,d),this.listeners={}}function f(t){h(this,f),c=c||function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,s=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!i[s];s^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,p=16843009*u[h=u[c=u[r[i[s]=d]=s]]]^65537*h^257*c^16843008*s,f=257*u[d]^16843008*d,a=0;a<4;a++)e[a][s]=f=f<<24^f>>>8,n[a][d]=p=p<<24^p>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t}(),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var e=void 0,n=void 0,i=void 0,r=void 0,a=void 0,s=this._tables[0][4],o=this._tables[1],u=t.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=t.slice(0),a=[],this._key=[r,a],e=u;e<4*u+28;e++)i=r[e-1],(e%u==0||8===u&&e%u==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],e%u==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),r[e]=r[e-u]^i;for(n=0;e;n++,e--)i=r[3&n?e:e-4],a[n]=e<=4||n<4?i:o[0][s[i>>>24]]^o[1][s[i>>16&255]]^o[2][s[i>>8&255]]^o[3][s[255&i]]}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=function(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t},c=null,f.prototype.decrypt=function(t,e,n,i,r,a){var s=this._key[1],o=t^s[0],u=i^s[1],l=n^s[2],c=e^s[3],h=void 0,d=void 0,f=void 0,p=s.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(m=0;m<p;m++)h=y[o>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&c]^s[g],d=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^T[255&o]^s[g+1],f=y[l>>>24]^b[c>>16&255]^_[o>>8&255]^T[255&u]^s[g+2],c=y[c>>>24]^b[o>>16&255]^_[u>>8&255]^T[255&l]^s[g+3],g+=4,o=h,u=d,l=f;for(m=0;m<4;m++)r[(3&-m)+a]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^s[g++],h=o,o=u,u=l,l=c,c=h},g=f,d.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},d.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),-1<n},d.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,s=0;s<a;++s)e[s].apply(this,r)},d.prototype.dispose=function(){this.listeners={}},d.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n=r=d),o.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},o.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},u=o,l.prototype.decryptChunk_=function(e,n,i,r){return function(){var t=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new g(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),s=new Int32Array(a.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(o=n[0],u=n[1],l=n[2],c=n[3],m=0;m<i.length;m+=4)h=v(i[m]),d=v(i[m+1]),f=v(i[m+2]),p=v(i[m+3]),r.decrypt(h,d,f,p,s,m),s[m]=v(s[m]^o),s[m+1]=v(s[m+1]^u),s[m+2]=v(s[m+2]^l),s[m+3]=v(s[m+3]^c),o=h,u=d,l=f,c=p;return a}(e,n,i);r.set(t,e.byteOffset)}},i(l,null,[{key:"STEP",get:function(){return 32e3}}]),s=l,new function(a){a.onmessage=function(t){var r=t.data,e=new Uint8Array(r.encrypted.bytes,r.encrypted.byteOffset,r.encrypted.byteLength),n=new Uint32Array(r.key.bytes,r.key.byteOffset,r.key.byteLength/4),i=new Uint32Array(r.iv.bytes,r.iv.byteOffset,r.iv.byteLength/4);new s(e,n,i,function(t,e){var n,i;a.postMessage((n={source:r.source,decrypted:e},i={},Object.keys(n).forEach(function(t){var e=n[t];ArrayBuffer.isView(e)?i[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:i[t]=e}),i),[e.buffer])})}}(a)}),ma={AUDIO:function(u,l){return function(){var t=l.segmentLoaders[u],e=l.mediaTypes[u],n=l.blacklistCurrentPlaylist;ia(t,e);var i=e.activeTrack(),r=e.activeGroup(),a=(r.filter(function(t){return t.default})[0]||r[0]).id,s=e.tracks[a];if(i!==s){for(var o in A.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),e.tracks)e.tracks[o].enabled=e.tracks[o]===s;e.onTrackChanged()}else n({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(i,r){return function(){var t=r.segmentLoaders[i],e=r.mediaTypes[i];A.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ia(t,e);var n=e.activeTrack();n&&(n.mode="disabled"),e.onTrackChanged()}}},ga={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",ma[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t],s=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),a.track(s.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",ma[t](t,n))}},va={AUDIO:function(t,e){var n,i,r=e.hls,a=e.sourceType,s=e.segmentLoaders[t],o=e.requestOptions,u=e.master,l=u.mediaGroups,c=u.playlists,h=e.mediaTypes[t],d=h.groups,f=h.tracks,p=e.masterPlaylistLoader;for(var m in l[t]&&0!==Object.keys(l[t]).length||(l[t]={main:{default:{default:!0}}}),l[t]){d[m]||(d[m]=[]);var g=c.filter(aa(t,m));for(var v in l[t][m]){var y=l[t][m][v];g.filter(sa(y.resolvedUri)).length&&delete y.resolvedUri;var b;if(b=y.resolvedUri?new et(y.resolvedUri,r,o):y.playlists&&"dash"===a?new Sn(y.playlists[0],r,o,p):null,y=A.mergeOptions({id:v,playlistLoader:b},y),ga[t](t,y.playlistLoader,e),d[m].push(y),void 0===f[v]){var _=new A.AudioTrack({id:v,kind:(i=void 0,i=(n=y).default?"main":"alternative",n.characteristics&&0<=n.characteristics.indexOf("public.accessibility.describes-video")&&(i="main-desc"),i),enabled:!1,language:y.language,default:y.default,label:v});f[v]=_}}}s.on("error",ma[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.hls,r=e.sourceType,a=e.segmentLoaders[t],s=e.requestOptions,o=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,h=e.masterPlaylistLoader;for(var d in o[t])for(var f in l[d]||(l[d]=[]),o[t][d])if(!o[t][d][f].forced){var p=o[t][d][f],m=void 0;if("hls"===r?m=new et(p.resolvedUri,i,s):"dash"===r&&(m=new Sn(p.playlists[0],i,s,h)),p=A.mergeOptions({id:f,playlistLoader:m},p),ga[t](t,p.playlistLoader,e),l[d].push(p),void 0===c[f]){var g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=g}}a.on("error",ma[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],a=r.groups,s=r.tracks;for(var o in i[t])for(var u in a[o]||(a[o]=[]),i[t][o]){var l=i[t][o][u];if(l.instreamId.match(/CC\d/)&&(a[o].push(A.mergeOptions({id:u},l)),void 0===s[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;s[u]=c}}}},ya={AUDIO:function(n,i){return function(){var t=i.mediaTypes[n].tracks;for(var e in t)if(t[e].enabled)return t[e];return null}},SUBTITLES:function(n,i){return function(){var t=i.mediaTypes[n].tracks;for(var e in t)if("showing"===t[e].mode)return t[e];return null}}},ba=void 0,_a=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Ta=(ca=A.EventTarget,S(ka,ca),Y(ka,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*t.targetDuration*1e3;j(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,t.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load()),oa({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,hls:i.hls_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),t);try{i.setupSourceBuffers_()}catch(t){return A.log.warn("Failed to create SourceBuffers",t),i.mediaSource.endOfStream("decode")}i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger("selectedinitialmedia"):i.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){i.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=i.masterPlaylistLoader_.media();if(!t){i.excludeUnsupportedVariants_();var e=void 0;return i.enableLowInitialPlaylist&&(e=i.selectInitialPlaylist()),e=e||i.selectPlaylist(),i.initialMedia_=e,void i.masterPlaylistLoader_.media(i.initialMedia_)}if(i.useCueTags_&&i.updateAdCues_(t),i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.updateDuration(),i.tech_.paused()||(i.mainSegmentLoader_.load(),i.audioSegmentLoader_&&i.audioSegmentLoader_.load()),!t.endList){var n=function(){var t=i.seekable();0!==t.length&&i.mediaSource.addSeekableRange_(t.start(0),t.end(0))};i.duration()!==1/0?i.tech_.one("durationchange",function t(){i.duration()===1/0?n():i.tech_.one("durationchange",t)}):n()}}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*t.targetDuration*1e3;j(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=i.masterPlaylistLoader_.media();i.stuckAtPlaylistEnd_(t)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var s in n.AUDIO[a])n.AUDIO[a][s].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),ba.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),ba.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&1<Object.keys(n.AUDIO[r[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=a.selectPlaylist(),e=a.masterPlaylistLoader_.media(),n=a.tech_.buffered(),i=n.length?n.end(n.length-1)-a.tech_.currentTime():0,r=a.bufferLowWaterLine();(!e.endList||a.duration()<yi.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<e.attributes.BANDWIDTH||r<=i)&&a.masterPlaylistLoader_.media(t),a.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){a.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){a.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){a.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){a.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){A.browser.IE_VERSION||A.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(A.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(n.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return A.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=(this.mainSegmentLoader_.startingMedia_&&!this.mainSegmentLoader_.startingMedia_.containsVideo||t)&&this.audioSegmentLoader_.ended_),t){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(t){A.log.warn("Failed to call media source endOfStream",t)}}}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var n=ba.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var a=r.end(r.length-1);return a-i<=.1&&n-a<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=void 0;if(i=e.playlist||this.masterPlaylistLoader_.media(),n=n||e.blacklistDuration||this.blacklistDuration,!i){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(N).length;return r?(A.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(i.excludeUntil=Date.now()+1e3*n,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),t=this.selectPlaylist(),A.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(t))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=St(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:ba.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(t=ba.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(e=ba.Playlist.seekable(n,i)).length)return}var r=void 0,a=void 0;this.seekable_&&this.seekable_.length&&(r=this.seekable_.end(0),a=this.seekable_.start(0)),!e||e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=A.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===r&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Ct(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){function t(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+i);try{e.mediaSource.duration=i}catch(t){A.log.warn("Failed to set media source duration",t)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)}var e=this,n=this.mediaSource.duration,i=ba.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered();0<r.length&&(i=Math.max(i,r.end(r.length-1))),n!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",t):t())}},{key:"dispose",value:function(){var i=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var e=i.mediaTypes_[t].groups;for(var n in e)e[n].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=function(r,t){var e,n=t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t",i=(e=t.attributes||{}).CODECS?te(e.CODECS):oe,a=t.attributes||{},s=!0,o=!1;if(!t)return[];if(r.mediaGroups.AUDIO&&a.AUDIO){var u=r.mediaGroups.AUDIO[a.AUDIO];if(u)for(var l in s=!(o=!0),u)if(!u[l].uri&&!u[l].playlists){s=!0;break}}o&&!i.audioProfile&&(s||(i.audioProfile=function(t){if(!r.mediaGroups.AUDIO||!t)return null;var e=r.mediaGroups.AUDIO[t];if(!e)return null;for(var n in e){var i=e[n];if(i.default&&i.playlists)return te(i.playlists[0].attributes.CODECS).audioProfile}return null}(a.AUDIO)),i.audioProfile||(A.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=oe.audioProfile));var c={};i.videoCodec&&(c.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(c.audio="mp4a.40."+i.audioProfile);var h=ee("audio",n,[c.audio]),d=ee("video",n,[c.video]),f=ee("video",n,[c.video,c.audio]);return o?!s&&c.video?[d,h]:s||c.video?[f,h]:[h,h]:c.video?[f]:[h]}(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=1<t.length&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new A.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){t.attributes.CODECS&&y.MediaSource&&y.MediaSource.isTypeSupported&&!y.MediaSource.isTypeSupported('video/mp4; codecs="'+t.attributes.CODECS.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return Zt([t])[0]})+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var n=2,i=null,e=void 0;t.attributes.CODECS&&(e=te(t.attributes.CODECS),i=e.videoCodec,n=e.codecCount),this.master().playlists.forEach(function(t){var e={codecCount:2,videoCodec:null};t.attributes.CODECS&&(e=te(t.attributes.CODECS)),e.codecCount!==n&&(t.excludeUntil=1/0),e.videoCodec!==i&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),function(t,e,n){var i=2<arguments.length&&void 0!==n?n:0;if(t.segments)for(var r=i,a=void 0,s=0;s<t.segments.length;s++){var o=t.segments[s];if(a=a||Rr(e,r+o.duration/2)){if("cueIn"in o){a.endTime=r,a.adEndTime=r,r+=o.duration,a=null;continue}if(r<a.endTime){r+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&((a=new y.VTTCue(r,r+o.duration,o.cueOut)).adStartTime=r,a.adEndTime=r+parseFloat(o.cueOut),e.addCue(a)),"cueOutCont"in o){var u,l,c=o.cueOutCont.split("/").map(parseFloat),h=Q(c,2);u=h[0],l=h[1],(a=new y.VTTCue(r,r+o.duration,"")).adStartTime=r-u,a.adEndTime=a.adStartTime+l,e.addCue(a)}r+=o.duration}}(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=yi.GOAL_BUFFER_LENGTH,n=yi.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,yi.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=yi.BUFFER_LOW_WATER_LINE,n=yi.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,yi.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),ka),Sa=["seeking","seeked","pause","playing","error"],wa=(Y(Ea,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&y.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=y.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var t=this.seekable(),e=this.tech_.currentTime(),n=void 0;return this.afterSeekableWindow_(t,e,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(n=t.end(t.length-1)),this.beforeSeekableWindow_(t,e)&&(n=t.start(0)+.1),void 0!==n&&(this.logger_("Trying to seek outside of seekable at time "+e+" with seekable range "+Ct(t)+". Seeking to "+n+"."),this.seekTo(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=St(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=wt(i,e);if(this.videoUnderflow_(r,i,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<r.length){var a=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!t.length)return!1;var r=t.end(t.length-1)+.1;return!n.endList&&i&&(r=t.end(t.length-1)+3*n.targetDuration),r<e}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&0<t.start(0)&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=wt(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=function(t){if(t.length<2)return A.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return A.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(e-r<4&&2<e-r)return{start:r,end:a}}return null}}]),Ea),Ca={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};function Ea(t){var e=this;T(this,Ea),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Je("PlaybackWatcher"),this.logger_("initialize");function n(){return e.monitorCurrentTime_()}function i(){return e.techWaiting_()}function r(){return e.cancelTimer_()}function a(){return e.fixesBadSeeks_()}this.tech_.on("seekablechanged",a),this.tech_.on("waiting",i),this.tech_.on(Sa,r),this.tech_.on("canplay",n),this.dispose=function(){e.logger_("dispose"),e.tech_.off("seekablechanged",a),e.tech_.off("waiting",i),e.tech_.off(Sa,r),e.tech_.off("canplay",n),e.checkCurrentTimeTimeout_&&y.clearTimeout(e.checkCurrentTimeTimeout_),e.cancelTimer_()}}function ka(t){T(this,ka);var e,n=w(this,(ka.__proto__||Object.getPrototypeOf(ka)).call(this)),i=t.url,r=t.handleManifestRedirects,a=t.withCredentials,s=t.tech,o=t.bandwidth,u=t.externHls,l=t.useCueTags,c=t.blacklistDuration,h=t.enableLowInitialPlaylist,d=t.sourceType,f=t.seekTo,p=t.cacheEncryptionKeys;if(!i)throw new Error("A non-empty playlist URL is required");ba=u,n.withCredentials=a,n.tech_=s,n.hls_=s.hls,n.seekTo_=f,n.sourceType_=d,n.useCueTags_=l,n.blacklistDuration=c,n.enableLowInitialPlaylist=h,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:a,handleManifestRedirects:r,timeout:null},n.mediaTypes_=(e={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Cn,activeTrack:Cn,onGroupChanged:Cn,onTrackChanged:Cn}}),e),n.mediaSource=new A.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=A.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new fa(t),n.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new pa,n.inbandTextTracks_={};var m={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:o,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:p};return n.masterPlaylistLoader_=new("dash"===n.sourceType_?Sn:et)(i,n.hls_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Wr(A.mergeOptions(m,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new Wr(A.mergeOptions(m,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Xr(A.mergeOptions(m,{loaderType:"vtt"}),t),n.setupSegmentLoaderListeners_(),_a.forEach(function(t){n[t+"_"]=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]}.bind(n,t)}),n.logger_=Je("MPC"),n.masterPlaylistLoader_.load(),n}function Aa(){T(this,Aa);var t=w(this,(Aa.__proto__||Object.getPrototypeOf(Aa)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=Je("SyncController"),t}A.use("*",function(e){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.tech_.currentTime())}}});var xa={PlaylistLoader:et,Playlist:at,Decrypter:Lt,AsyncStream:Dt,decrypt:pt,utils:Ut,STANDARD_PLAYLIST_SELECTOR:function(){return function(t,e,n,i,r){var a=t.playlists.map(function(t){var e,n;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||y.Number.MAX_VALUE,width:e,height:n,playlist:t}});Pn(a,function(t,e){return t.bandwidth-e.bandwidth});var s=(a=a.filter(function(t){return!at.isIncompatible(t.playlist)})).filter(function(t){return at.isEnabled(t.playlist)});s.length||(s=a.filter(function(t){return!at.isDisabled(t.playlist)}));var o=s.filter(function(t){return t.bandwidth*yi.BANDWIDTH_VARIANCE<e}),u=o[o.length-1],l=o.filter(function(t){return t.bandwidth===u.bandwidth})[0];if(!1===r){var c=l||s[0]||a[0];return c?c.playlist:null}var h=o.filter(function(t){return t.width&&t.height});Pn(h,function(t,e){return t.width-e.width});var d=h.filter(function(t){return t.width===n&&t.height===i});u=d[d.length-1];var f=d.filter(function(t){return t.bandwidth===u.bandwidth})[0],p=void 0,m=void 0,g=void 0;f||(m=(p=h.filter(function(t){return t.width>n||t.height>i})).filter(function(t){return t.width===p[0].width&&t.height===p[0].height}),u=m[m.length-1],g=m.filter(function(t){return t.bandwidth===u.bandwidth})[0]);var v=g||f||l||s[0]||a[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(xn(this.tech_.el(),"width"),10),parseInt(xn(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(at.isEnabled);return Pn(t,function(t,e){return On(t,e)}),t.filter(function(t){return te(t.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:On,comparePlaylistResolution:function(t,e){var n=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||y.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),n===(i=i||y.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i},xhr:F()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(xa,e,{get:function(){return A.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),yi[e]},set:function(t){A.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?A.log.warn("value of Hls."+e+" must be greater than or equal to 0"):yi[e]=t}})});function Pa(t){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t)?"hls":/^application\/dash\+xml/i.test(t)?"dash":null}function Oa(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})}xa.canPlaySource=function(){return A.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};function Ia(t,e,n){if(!t)return t;var i={};for(var r in t)i[r]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[r]&&e.contentProtection[r].pssh&&(i[r].pssh=e.contentProtection[r].pssh),"string"==typeof t[r]&&(i[r].url=t[r]);return A.mergeOptions(t,i)}function $a(){if(!window.localStorage)return null;var t=window.localStorage.getItem("videojs-vhs");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}}var Ma;xa.supportsNativeHls=(Ma=p.createElement("video"),!!A.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(Ma.canPlayType(t))})),xa.supportsNativeDash=!!A.getTech("Html5").isSupported()&&/maybe|probably/i.test(p.createElement("video").canPlayType("application/dash+xml")),xa.supportsTypeNatively=function(t){return"hls"===t?xa.supportsNativeHls:"dash"===t&&xa.supportsNativeDash},xa.isSupported=function(){return A.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Da=A.getComponent("Component"),La=(S(Ra,Da),Y(Ra,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=$a();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=yi.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===yi.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(t,e){var i=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=xa,this.options_.sourceType=Pa(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t),i.setCurrentTime(t)},this.masterPlaylistController_=new Ta(this.options_),this.playbackWatcher_=new wa(A.mergeOptions(this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){A.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):xa.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=xa.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){A.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Et(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Et(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){i.options_.useBandwidthFromLocalStorage&&function(t){if(window.localStorage){var e=$a();e=e?A.mergeOptions(e,t):t;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(e))}catch(t){return}}}({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var n,t;t=(n=i).playlists,n.representations=function(){return t.master.playlists.filter(function(t){return!B(t)}).map(function(t,e){return new ua(n,t,t.uri)})},function(t){if("dash"===t.options_.sourceType){var e=A.players[t.tech_.options_.playerId];if(e.eme){var n=Ia(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(e.currentSource().keySystems=n,e.eme.initializeMediaKeys&&e.eme.initializeMediaKeys())}}}(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(A.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var n=this,t=A.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t;e=n.qualityLevels_,(t=n).representations().forEach(function(t){e.addQualityLevel(t)}),Oa(e,t.playlists)}),this.playlists.on("mediachange",function(){Oa(n.qualityLevels_,n.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(Ra.prototype.__proto__||Object.getPrototypeOf(Ra.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(t,e){return function(t){var e=t.playlist,n=t.time,i=void 0===n?void 0:n,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var a=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var n=0,i=void 0,r=0;r<e.segments.length&&!(t<=(n=(i=e.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);var a=e.segments[e.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(n<t){if(t>n+.25*a.duration)return null;i=a}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(i,e);if(!a)return r({message:"valid programTime was not found"});if("estimate"===a.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var s={mediaSeconds:i},o=function(t,e){if(!e.dateTimeObject)return null;var n=e.videoTimingInfo.transmuxerPrependedSeconds,i=t-(e.videoTimingInfo.transmuxedPresentationStart+n);return new Date(e.dateTimeObject.getTime()+1e3*i)}(i,a.segment);return o&&(s.programDateTime=o.toISOString()),r(null,s)}({playlist:this.masterPlaylistController_.media(),time:t,callback:e})}},{key:"seekToProgramTime",value:function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2;return function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,a=void 0===r?2:r,s=e.seekTo,o=e.pauseAfterSeek,u=void 0===o||o,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(t.segments&&0!==t.segments.length){for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return;return 1}}(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var h=function(t,e){var n=void 0;try{n=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var i=e.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(i=e.segments[r],!(n<e.segments[r+1].dateTimeObject));r++);var a,s=e.segments[e.segments.length-1],o=s.dateTimeObject,u=s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+.25*s.duration;return n>new Date(o.getTime()+1e3*u)?null:(o<n&&(i=s),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:at.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!h)return c({message:n+" was not found in the stream"});var d=h.segment,f=function(t,e){var n=void 0,i=void 0;try{n=new Date(t),i=new Date(e)}catch(t){}var r=n.getTime();return(i.getTime()-r)/1e3}(d.dateTimeObject,n);if("estimate"===h.type)return 0===a?c({message:n+" is not buffered yet. Try again"}):(s(h.estimatedStart+f),void l.one("seeked",function(){t({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:u,tech:l,callback:c})}));var p=d.start+f;l.one("seeked",function(){return c(null,l.currentTime())}),u&&l.pause(),s(p)}({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})}}]),Ra),Ua={name:"videojs-http-streaming",VERSION:"1.10.1",canHandleSource:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=A.mergeOptions(A.options,e);return Ua.canPlayType(t.type,n)},handleSource:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=A.mergeOptions(A.options,n);return e.hls=new La(t,e,i),e.hls.xhr=F(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=A.mergeOptions(A.options,e).hls.overrideNative,i=Pa(t);return!i||xa.supportsTypeNatively(i)&&!n?"":"maybe"}};function Ra(t,e,n){T(this,Ra);var i=w(this,(Ra.__proto__||Object.getPrototypeOf(Ra)).call(this,e,n.hls));if(e.options_&&e.options_.playerId){var r=A(e.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return A.log.warn("player.hls is deprecated. Use player.tech().hls instead."),e.trigger({type:"usage",name:"hls-player-access"}),i},configurable:!0}),r.vhs=i,(r.dash=i).player_=r}if(i.tech_=e,i.source_=t,i.stats={},i.setOptions_(),i.options_.overrideNative&&e.overrideNativeAudioTracks&&e.overrideNativeVideoTracks)e.overrideNativeAudioTracks(!0),e.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(e.featuresNativeVideoTracks||e.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(p,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=p.fullscreenElement||p.webkitFullscreenElement||p.mozFullScreenElement||p.msFullscreenElement;e&&e.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()}),i.on(i.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),i.on(i.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}void 0!==A.MediaSource&&void 0!==A.URL||(A.MediaSource=me,A.URL=ge),me.supportsNativeMediaSources()&&A.getTech("Html5").registerSourceHandler(Ua,0),A.HlsHandler=La,A.HlsSourceHandler=Ua,A.Hls=xa,A.use||A.registerComponent("Hls",xa),A.options.hls=A.options.hls||{},A.registerPlugin?A.registerPlugin("reloadSourceOnError",la):A.plugin("reloadSourceOnError",la),t.LOCAL_STORAGE_KEY="videojs-vhs",t.Hls=xa,t.HlsHandler=La,t.HlsSourceHandler=Ua,t.emeKeySystems=Ia,t.simpleTypeFromSourceType=Pa,Object.defineProperty(t,"__esModule",{value:!0})});